import{a as Ii,b as Ws}from"./chunk-FKVCV6LK.js";import{c as zs,d as $s,e as xs,f as Es,g as Ts,h as Ps,i as Yt,j as Rs,m as js}from"./chunk-ZYLHAVVM.js";import{a as fs,b as ps,c as ms,d as hs,e as gs,f as _s,g as ys}from"./chunk-U7RHMYGV.js";import{b as Pi,i as Ls}from"./chunk-H3FVF6IM.js";import{a as qs,b as As}from"./chunk-6ICVRPGF.js";import{h as Ss,i as bs,o as ws,p as Cs,q as Xe,r as Ze,s as Ms}from"./chunk-O3I4SZSZ.js";import{E as vt,G as vs,H as Fs,I as Fi,J as Is,K as Os,L as Vs,M as ks,N as Ns,O as Ds,d as Ti,g as fe,h as ls,k as cs,m as pe,n as ds,v as us,z as Gt}from"./chunk-3FFGUBM5.js";import{$a as K,$b as Ge,$g as $e,Aa as gi,Bb as Ba,Cb as te,Cd as Je,Dd as Qa,Dh as ss,Ed as Pn,Fb as L,Gc as ze,Gh as Ei,H as ka,Hb as m,Hd as es,Ia as Ue,Ib as vi,J as Na,Jb as Si,Kd as ts,Ke as zi,M as Da,Ma as v,Na as qa,Nc as Za,O as fi,Ob as Ka,P as Ma,Pa as Aa,Pb as Ga,Qa as La,Qb as Ya,R as pi,Ra as Ua,Ub as ue,Ug as Oe,Vb as Z,Vg as is,Wb as Kt,Xa as U,Xb as se,Y as mi,Ya as Ha,Z as gt,Za as ct,Zb as Be,_b as Ke,a as w,ac as xn,ad as Ci,b as Y,bb as _i,bc as En,c as Fa,cb as $,cc as xr,d as S,da as $r,dc as bi,ea as Ra,ec as Tn,f as Ia,fh as $i,gf as rs,h as At,ha as A,hb as Ie,hc as Ja,hh as xi,ia as ja,ib as _,ja as Wa,jb as yi,jh as ns,k as Oa,kb as ae,l as Lt,lh as os,m as Ut,ma as _t,mb as He,na as P,oa as F,oc as Ce,ph as as,ra as B,rb as E,sa as hi,sb as Se,tc as wi,u as Va,ub as be,uc as Ye,va as Bt,vb as we,vc as Xa,wa as yt,wb as C,xb as z,xd as Ft,y as Ht,yb as H,z as $n}from"./chunk-5RQNGF3E.js";var Ir=S(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.regexpCode=W.getEsmExportName=W.getProperty=W.safeStringify=W.stringify=W.strConcat=W.addCodeArg=W.str=W._=W.nil=W._Code=W.Name=W.IDENTIFIER=W._CodeOrName=void 0;var Pr=class{};W._CodeOrName=Pr;W.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Ot=class extends Pr{constructor(e){if(super(),!W.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};W.Name=Ot;var Ve=class extends Pr{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,i)=>`${r}${i}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,i)=>(i instanceof Ot&&(r[i.str]=(r[i.str]||0)+1),r),{})}};W._Code=Ve;W.nil=new Ve("");function Ks(t,...e){let r=[t[0]],i=0;for(;i<e.length;)Vn(r,e[i]),r.push(t[++i]);return new Ve(r)}W._=Ks;var On=new Ve("+");function Gs(t,...e){let r=[Fr(t[0])],i=0;for(;i<e.length;)r.push(On),Vn(r,e[i]),r.push(On,Fr(t[++i]));return Zd(r),new Ve(r)}W.str=Gs;function Vn(t,e){e instanceof Ve?t.push(...e._items):e instanceof Ot?t.push(e):t.push(tu(e))}W.addCodeArg=Vn;function Zd(t){let e=1;for(;e<t.length-1;){if(t[e]===On){let r=Qd(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function Qd(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof Ot||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof Ot))return`"${t}${e.slice(1)}`}function eu(t,e){return e.emptyStr()?t:t.emptyStr()?e:Gs`${t}${e}`}W.strConcat=eu;function tu(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:Fr(Array.isArray(t)?t.join(","):t)}function ru(t){return new Ve(Fr(t))}W.stringify=ru;function Fr(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}W.safeStringify=Fr;function iu(t){return typeof t=="string"&&W.IDENTIFIER.test(t)?new Ve(`.${t}`):Ks`[${t}]`}W.getProperty=iu;function nu(t){if(typeof t=="string"&&W.IDENTIFIER.test(t))return new Ve(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}W.getEsmExportName=nu;function ou(t){return new Ve(t.toString())}W.regexpCode=ou});var Dn=S(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.ValueScope=Ee.ValueScopeName=Ee.Scope=Ee.varKinds=Ee.UsedValueState=void 0;var xe=Ir(),kn=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},Ni=function(t){return t[t.Started=0]="Started",t[t.Completed=1]="Completed",t}(Ni||(Ee.UsedValueState=Ni={}));Ee.varKinds={const:new xe.Name("const"),let:new xe.Name("let"),var:new xe.Name("var")};var Di=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof xe.Name?e:this.name(e)}name(e){return new xe.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,i;if(!((i=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||i===void 0)&&i.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};Ee.Scope=Di;var Mi=class extends xe.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:i}){this.value=e,this.scopePath=(0,xe._)`.${new xe.Name(r)}[${i}]`}};Ee.ValueScopeName=Mi;var au=(0,xe._)`\n`,Nn=class extends Di{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts=Y(w({},e),{_n:e.lines?au:xe.nil})}get(){return this._scope}name(e){return new Mi(e,this._newName(e))}value(e,r){var i;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let n=this.toName(e),{prefix:o}=n,a=(i=r.key)!==null&&i!==void 0?i:r.ref,s=this._values[o];if(s){let c=s.get(a);if(c)return c}else s=this._values[o]=new Map;s.set(a,n);let l=this._scope[o]||(this._scope[o]=[]),d=l.length;return l[d]=r.ref,n.setValue(r,{property:o,itemIndex:d}),n}getValue(e,r){let i=this._values[e];if(i)return i.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,i=>{if(i.scopePath===void 0)throw new Error(`CodeGen: name "${i}" has no value`);return(0,xe._)`${e}${i.scopePath}`})}scopeCode(e=this._values,r,i){return this._reduceValues(e,n=>{if(n.value===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return n.value.code},r,i)}_reduceValues(e,r,i={},n){let o=xe.nil;for(let a in e){let s=e[a];if(!s)continue;let l=i[a]=i[a]||new Map;s.forEach(d=>{if(l.has(d))return;l.set(d,Ni.Started);let c=r(d);if(c){let f=this.opts.es5?Ee.varKinds.var:Ee.varKinds.const;o=(0,xe._)`${o}${f} ${d} = ${c};${this.opts._n}`}else if(c=n?.(d))o=(0,xe._)`${o}${c}${this.opts._n}`;else throw new kn(d);l.set(d,Ni.Completed)})}return o}};Ee.ValueScope=Nn});var V=S(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.or=k.and=k.not=k.CodeGen=k.operators=k.varKinds=k.ValueScopeName=k.ValueScope=k.Scope=k.Name=k.regexpCode=k.stringify=k.getProperty=k.nil=k.strConcat=k.str=k._=void 0;var M=Ir(),Me=Dn(),bt=Ir();Object.defineProperty(k,"_",{enumerable:!0,get:function(){return bt._}});Object.defineProperty(k,"str",{enumerable:!0,get:function(){return bt.str}});Object.defineProperty(k,"strConcat",{enumerable:!0,get:function(){return bt.strConcat}});Object.defineProperty(k,"nil",{enumerable:!0,get:function(){return bt.nil}});Object.defineProperty(k,"getProperty",{enumerable:!0,get:function(){return bt.getProperty}});Object.defineProperty(k,"stringify",{enumerable:!0,get:function(){return bt.stringify}});Object.defineProperty(k,"regexpCode",{enumerable:!0,get:function(){return bt.regexpCode}});Object.defineProperty(k,"Name",{enumerable:!0,get:function(){return bt.Name}});var Ai=Dn();Object.defineProperty(k,"Scope",{enumerable:!0,get:function(){return Ai.Scope}});Object.defineProperty(k,"ValueScope",{enumerable:!0,get:function(){return Ai.ValueScope}});Object.defineProperty(k,"ValueScopeName",{enumerable:!0,get:function(){return Ai.ValueScopeName}});Object.defineProperty(k,"varKinds",{enumerable:!0,get:function(){return Ai.varKinds}});k.operators={GT:new M._Code(">"),GTE:new M._Code(">="),LT:new M._Code("<"),LTE:new M._Code("<="),EQ:new M._Code("==="),NEQ:new M._Code("!=="),NOT:new M._Code("!"),OR:new M._Code("||"),AND:new M._Code("&&"),ADD:new M._Code("+")};var dt=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},Mn=class extends dt{constructor(e,r,i){super(),this.varKind=e,this.name=r,this.rhs=i}render({es5:e,_n:r}){let i=e?Me.varKinds.var:this.varKind,n=this.rhs===void 0?"":` = ${this.rhs}`;return`${i} ${this.name}${n};`+r}optimizeNames(e,r){if(e[this.name.str])return this.rhs&&(this.rhs=rr(this.rhs,e,r)),this}get names(){return this.rhs instanceof M._CodeOrName?this.rhs.names:{}}},ji=class extends dt{constructor(e,r,i){super(),this.lhs=e,this.rhs=r,this.sideEffects=i}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof M.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=rr(this.rhs,e,r),this}get names(){let e=this.lhs instanceof M.Name?{}:w({},this.lhs.names);return qi(e,this.rhs)}},Rn=class extends ji{constructor(e,r,i,n){super(e,i,n),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},jn=class extends dt{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},Wn=class extends dt{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},qn=class extends dt{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},An=class extends dt{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=rr(this.code,e,r),this}get names(){return this.code instanceof M._CodeOrName?this.code.names:{}}},Or=class extends dt{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,i)=>r+i.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let i=e[r].optimizeNodes();Array.isArray(i)?e.splice(r,1,...i):i?e[r]=i:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:i}=this,n=i.length;for(;n--;){let o=i[n];o.optimizeNames(e,r)||(su(e,o.names),i.splice(n,1))}return i.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>Vt(e,r.names),{})}},ut=class extends Or{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},Ln=class extends Or{},Un=(()=>{class t extends ut{}return t.kind="else",t})(),Ri=(()=>{class t extends ut{constructor(r,i){super(i),this.condition=r}render(r){let i=`if(${this.condition})`+super.render(r);return this.else&&(i+="else "+this.else.render(r)),i}optimizeNodes(){super.optimizeNodes();let r=this.condition;if(r===!0)return this.nodes;let i=this.else;if(i){let n=i.optimizeNodes();i=this.else=Array.isArray(n)?new Un(n):n}if(i)return r===!1?i instanceof t?i:i.nodes:this.nodes.length?this:new t(Qs(r),i instanceof t?[i]:i.nodes);if(!(r===!1||!this.nodes.length))return this}optimizeNames(r,i){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(r,i),!!(super.optimizeNames(r,i)||this.else))return this.condition=rr(this.condition,r,i),this}get names(){let r=super.names;return qi(r,this.condition),this.else&&Vt(r,this.else.names),r}}return t.kind="if",t})(),Li=(()=>{class t extends ut{}return t.kind="for",t})(),Hn=class extends Li{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iteration=rr(this.iteration,e,r),this}get names(){return Vt(super.names,this.iteration.names)}},Bn=class extends Li{constructor(e,r,i,n){super(),this.varKind=e,this.name=r,this.from=i,this.to=n}render(e){let r=e.es5?Me.varKinds.var:this.varKind,{name:i,from:n,to:o}=this;return`for(${r} ${i}=${n}; ${i}<${o}; ${i}++)`+super.render(e)}get names(){let e=qi(super.names,this.from);return qi(e,this.to)}},Wi=class extends Li{constructor(e,r,i,n){super(),this.loop=e,this.varKind=r,this.name=i,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iterable=rr(this.iterable,e,r),this}get names(){return Vt(super.names,this.iterable.names)}},Ys=(()=>{class t extends ut{constructor(r,i,n){super(),this.name=r,this.args=i,this.async=n}render(r){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(r)}}return t.kind="func",t})(),Js=(()=>{class t extends Or{render(r){return"return "+super.render(r)}}return t.kind="return",t})(),Kn=class extends ut{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var i,n;return super.optimizeNames(e,r),(i=this.catch)===null||i===void 0||i.optimizeNames(e,r),(n=this.finally)===null||n===void 0||n.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&Vt(e,this.catch.names),this.finally&&Vt(e,this.finally.names),e}},Xs=(()=>{class t extends ut{constructor(r){super(),this.error=r}render(r){return`catch(${this.error})`+super.render(r)}}return t.kind="catch",t})(),Zs=(()=>{class t extends ut{render(r){return"finally"+super.render(r)}}return t.kind="finally",t})(),Gn=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts=Y(w({},r),{_n:r.lines?`
`:""}),this._extScope=e,this._scope=new Me.Scope({parent:e}),this._nodes=[new Ln]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let i=this._extScope.value(e,r);return(this._values[i.prefix]||(this._values[i.prefix]=new Set)).add(i),i}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,i,n){let o=this._scope.toName(r);return i!==void 0&&n&&(this._constants[o.str]=i),this._leafNode(new Mn(e,o,i)),o}const(e,r,i){return this._def(Me.varKinds.const,e,r,i)}let(e,r,i){return this._def(Me.varKinds.let,e,r,i)}var(e,r,i){return this._def(Me.varKinds.var,e,r,i)}assign(e,r,i){return this._leafNode(new ji(e,r,i))}add(e,r){return this._leafNode(new Rn(e,k.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==M.nil&&this._leafNode(new An(e)),this}object(...e){let r=["{"];for(let[i,n]of e)r.length>1&&r.push(","),r.push(i),(i!==n||this.opts.es5)&&(r.push(":"),(0,M.addCodeArg)(r,n));return r.push("}"),new M._Code(r)}if(e,r,i){if(this._blockNode(new Ri(e)),r&&i)this.code(r).else().code(i).endIf();else if(r)this.code(r).endIf();else if(i)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new Ri(e))}else(){return this._elseNode(new Un)}endIf(){return this._endBlockNode(Ri,Un)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new Hn(e),r)}forRange(e,r,i,n,o=this.opts.es5?Me.varKinds.var:Me.varKinds.let){let a=this._scope.toName(e);return this._for(new Bn(o,a,r,i),()=>n(a))}forOf(e,r,i,n=Me.varKinds.const){let o=this._scope.toName(e);if(this.opts.es5){let a=r instanceof M.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,M._)`${a}.length`,s=>{this.var(o,(0,M._)`${a}[${s}]`),i(o)})}return this._for(new Wi("of",n,o,r),()=>i(o))}forIn(e,r,i,n=this.opts.es5?Me.varKinds.var:Me.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,M._)`Object.keys(${r})`,i);let o=this._scope.toName(e);return this._for(new Wi("in",n,o,r),()=>i(o))}endFor(){return this._endBlockNode(Li)}label(e){return this._leafNode(new jn(e))}break(e){return this._leafNode(new Wn(e))}return(e){let r=new Js;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Js)}try(e,r,i){if(!r&&!i)throw new Error('CodeGen: "try" without "catch" and "finally"');let n=new Kn;if(this._blockNode(n),this.code(e),r){let o=this.name("e");this._currNode=n.catch=new Xs(o),r(o)}return i&&(this._currNode=n.finally=new Zs,this.code(i)),this._endBlockNode(Xs,Zs)}throw(e){return this._leafNode(new qn(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let i=this._nodes.length-r;if(i<0||e!==void 0&&i!==e)throw new Error(`CodeGen: wrong number of nodes: ${i} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=M.nil,i,n){return this._blockNode(new Ys(e,r,i)),n&&this.code(n).endFunc(),this}endFunc(){return this._endBlockNode(Ys)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let i=this._currNode;if(i instanceof e||r&&i instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof Ri))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};k.CodeGen=Gn;function Vt(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function qi(t,e){return e instanceof M._CodeOrName?Vt(t,e.names):t}function rr(t,e,r){if(t instanceof M.Name)return i(t);if(!n(t))return t;return new M._Code(t._items.reduce((o,a)=>(a instanceof M.Name&&(a=i(a)),a instanceof M._Code?o.push(...a._items):o.push(a),o),[]));function i(o){let a=r[o.str];return a===void 0||e[o.str]!==1?o:(delete e[o.str],a)}function n(o){return o instanceof M._Code&&o._items.some(a=>a instanceof M.Name&&e[a.str]===1&&r[a.str]!==void 0)}}function su(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function Qs(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,M._)`!${Yn(t)}`}k.not=Qs;var lu=el(k.operators.AND);function cu(...t){return t.reduce(lu)}k.and=cu;var du=el(k.operators.OR);function uu(...t){return t.reduce(du)}k.or=uu;function el(t){return(e,r)=>e===M.nil?r:r===M.nil?e:(0,M._)`${Yn(e)} ${t} ${Yn(r)}`}function Yn(t){return t instanceof M.Name?t:(0,M._)`(${t})`}});var q=S(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.checkStrictMode=N.getErrorPath=N.Type=N.useFunc=N.setEvaluated=N.evaluatedPropsToName=N.mergeEvaluated=N.eachItem=N.unescapeJsonPointer=N.escapeJsonPointer=N.escapeFragment=N.unescapeFragment=N.schemaRefOrVal=N.schemaHasRulesButRef=N.schemaHasRules=N.checkUnknownRules=N.alwaysValidSchema=N.toHash=void 0;var J=V(),fu=Ir();function pu(t){let e={};for(let r of t)e[r]=!0;return e}N.toHash=pu;function mu(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(il(t,e),!nl(e,t.self.RULES.all))}N.alwaysValidSchema=mu;function il(t,e=t.schema){let{opts:r,self:i}=t;if(!r.strictSchema||typeof e=="boolean")return;let n=i.RULES.keywords;for(let o in e)n[o]||sl(t,`unknown keyword: "${o}"`)}N.checkUnknownRules=il;function nl(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}N.schemaHasRules=nl;function hu(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}N.schemaHasRulesButRef=hu;function gu({topSchemaRef:t,schemaPath:e},r,i,n){if(!n){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,J._)`${r}`}return(0,J._)`${t}${e}${(0,J.getProperty)(i)}`}N.schemaRefOrVal=gu;function _u(t){return ol(decodeURIComponent(t))}N.unescapeFragment=_u;function yu(t){return encodeURIComponent(Xn(t))}N.escapeFragment=yu;function Xn(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}N.escapeJsonPointer=Xn;function ol(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}N.unescapeJsonPointer=ol;function vu(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}N.eachItem=vu;function tl({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:i}){return(n,o,a,s)=>{let l=a===void 0?o:a instanceof J.Name?(o instanceof J.Name?t(n,o,a):e(n,o,a),a):o instanceof J.Name?(e(n,a,o),o):r(o,a);return s===J.Name&&!(l instanceof J.Name)?i(n,l):l}}N.mergeEvaluated={props:tl({mergeNames:(t,e,r)=>t.if((0,J._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,J._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,J._)`${r} || {}`).code((0,J._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,J._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,J._)`${r} || {}`),Zn(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:w(w({},t),e),resultToName:al}),items:tl({mergeNames:(t,e,r)=>t.if((0,J._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,J._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,J._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,J._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function al(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",(0,J._)`{}`);return e!==void 0&&Zn(t,r,e),r}N.evaluatedPropsToName=al;function Zn(t,e,r){Object.keys(r).forEach(i=>t.assign((0,J._)`${e}${(0,J.getProperty)(i)}`,!0))}N.setEvaluated=Zn;var rl={};function Su(t,e){return t.scopeValue("func",{ref:e,code:rl[e.code]||(rl[e.code]=new fu._Code(e.code))})}N.useFunc=Su;var Jn=function(t){return t[t.Num=0]="Num",t[t.Str=1]="Str",t}(Jn||(N.Type=Jn={}));function bu(t,e,r){if(t instanceof J.Name){let i=e===Jn.Num;return r?i?(0,J._)`"[" + ${t} + "]"`:(0,J._)`"['" + ${t} + "']"`:i?(0,J._)`"/" + ${t}`:(0,J._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,J.getProperty)(t).toString():"/"+Xn(t)}N.getErrorPath=bu;function sl(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}N.checkStrictMode=sl});var ft=S(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});var he=V(),wu={data:new he.Name("data"),valCxt:new he.Name("valCxt"),instancePath:new he.Name("instancePath"),parentData:new he.Name("parentData"),parentDataProperty:new he.Name("parentDataProperty"),rootData:new he.Name("rootData"),dynamicAnchors:new he.Name("dynamicAnchors"),vErrors:new he.Name("vErrors"),errors:new he.Name("errors"),this:new he.Name("this"),self:new he.Name("self"),scope:new he.Name("scope"),json:new he.Name("json"),jsonPos:new he.Name("jsonPos"),jsonLen:new he.Name("jsonLen"),jsonPart:new he.Name("jsonPart")};Qn.default=wu});var Vr=S(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.extendErrors=ge.resetErrorsCount=ge.reportExtraError=ge.reportError=ge.keyword$DataError=ge.keywordError=void 0;var j=V(),Ui=q(),ye=ft();ge.keywordError={message:({keyword:t})=>(0,j.str)`must pass "${t}" keyword validation`};ge.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,j.str)`"${t}" keyword must be ${e} ($data)`:(0,j.str)`"${t}" keyword is invalid ($data)`};function Cu(t,e=ge.keywordError,r,i){let{it:n}=t,{gen:o,compositeRule:a,allErrors:s}=n,l=dl(t,e,r);i??(a||s)?ll(o,l):cl(n,(0,j._)`[${l}]`)}ge.reportError=Cu;function zu(t,e=ge.keywordError,r){let{it:i}=t,{gen:n,compositeRule:o,allErrors:a}=i,s=dl(t,e,r);ll(n,s),o||a||cl(i,ye.default.vErrors)}ge.reportExtraError=zu;function $u(t,e){t.assign(ye.default.errors,e),t.if((0,j._)`${ye.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,j._)`${ye.default.vErrors}.length`,e),()=>t.assign(ye.default.vErrors,null)))}ge.resetErrorsCount=$u;function xu({gen:t,keyword:e,schemaValue:r,data:i,errsCount:n,it:o}){if(n===void 0)throw new Error("ajv implementation error");let a=t.name("err");t.forRange("i",n,ye.default.errors,s=>{t.const(a,(0,j._)`${ye.default.vErrors}[${s}]`),t.if((0,j._)`${a}.instancePath === undefined`,()=>t.assign((0,j._)`${a}.instancePath`,(0,j.strConcat)(ye.default.instancePath,o.errorPath))),t.assign((0,j._)`${a}.schemaPath`,(0,j.str)`${o.errSchemaPath}/${e}`),o.opts.verbose&&(t.assign((0,j._)`${a}.schema`,r),t.assign((0,j._)`${a}.data`,i))})}ge.extendErrors=xu;function ll(t,e){let r=t.const("err",e);t.if((0,j._)`${ye.default.vErrors} === null`,()=>t.assign(ye.default.vErrors,(0,j._)`[${r}]`),(0,j._)`${ye.default.vErrors}.push(${r})`),t.code((0,j._)`${ye.default.errors}++`)}function cl(t,e){let{gen:r,validateName:i,schemaEnv:n}=t;n.$async?r.throw((0,j._)`new ${t.ValidationError}(${e})`):(r.assign((0,j._)`${i}.errors`,e),r.return(!1))}var kt={keyword:new j.Name("keyword"),schemaPath:new j.Name("schemaPath"),params:new j.Name("params"),propertyName:new j.Name("propertyName"),message:new j.Name("message"),schema:new j.Name("schema"),parentSchema:new j.Name("parentSchema")};function dl(t,e,r){let{createErrors:i}=t.it;return i===!1?(0,j._)`{}`:Eu(t,e,r)}function Eu(t,e,r={}){let{gen:i,it:n}=t,o=[Tu(n,r),Pu(t,r)];return Fu(t,e,o),i.object(...o)}function Tu({errorPath:t},{instancePath:e}){let r=e?(0,j.str)`${t}${(0,Ui.getErrorPath)(e,Ui.Type.Str)}`:t;return[ye.default.instancePath,(0,j.strConcat)(ye.default.instancePath,r)]}function Pu({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:i}){let n=i?e:(0,j.str)`${e}/${t}`;return r&&(n=(0,j.str)`${n}${(0,Ui.getErrorPath)(r,Ui.Type.Str)}`),[kt.schemaPath,n]}function Fu(t,{params:e,message:r},i){let{keyword:n,data:o,schemaValue:a,it:s}=t,{opts:l,propertyName:d,topSchemaRef:c,schemaPath:f}=s;i.push([kt.keyword,n],[kt.params,typeof e=="function"?e(t):e||(0,j._)`{}`]),l.messages&&i.push([kt.message,typeof r=="function"?r(t):r]),l.verbose&&i.push([kt.schema,a],[kt.parentSchema,(0,j._)`${c}${f}`],[ye.default.data,o]),d&&i.push([kt.propertyName,d])}});var fl=S(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.boolOrEmptySchema=ir.topBoolOrEmptySchema=void 0;var Iu=Vr(),Ou=V(),Vu=ft(),ku={message:"boolean schema is false"};function Nu(t){let{gen:e,schema:r,validateName:i}=t;r===!1?ul(t,!1):typeof r=="object"&&r.$async===!0?e.return(Vu.default.data):(e.assign((0,Ou._)`${i}.errors`,null),e.return(!0))}ir.topBoolOrEmptySchema=Nu;function Du(t,e){let{gen:r,schema:i}=t;i===!1?(r.var(e,!1),ul(t)):r.var(e,!0)}ir.boolOrEmptySchema=Du;function ul(t,e){let{gen:r,data:i}=t,n={gen:r,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,Iu.reportError)(n,ku,void 0,e)}});var eo=S(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.getRules=nr.isJSONType=void 0;var Mu=["string","number","integer","boolean","null","object","array"],Ru=new Set(Mu);function ju(t){return typeof t=="string"&&Ru.has(t)}nr.isJSONType=ju;function Wu(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:Y(w({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}nr.getRules=Wu});var to=S(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.shouldUseRule=wt.shouldUseGroup=wt.schemaHasRulesForType=void 0;function qu({schema:t,self:e},r){let i=e.RULES.types[r];return i&&i!==!0&&pl(t,i)}wt.schemaHasRulesForType=qu;function pl(t,e){return e.rules.some(r=>ml(t,r))}wt.shouldUseGroup=pl;function ml(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(i=>t[i]!==void 0))}wt.shouldUseRule=ml});var kr=S(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.reportTypeError=_e.checkDataTypes=_e.checkDataType=_e.coerceAndCheckDataType=_e.getJSONTypes=_e.getSchemaTypes=_e.DataType=void 0;var Au=eo(),Lu=to(),Uu=Vr(),O=V(),hl=q(),or=function(t){return t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong",t}(or||(_e.DataType=or={}));function Hu(t){let e=gl(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}_e.getSchemaTypes=Hu;function gl(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(Au.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}_e.getJSONTypes=gl;function Bu(t,e){let{gen:r,data:i,opts:n}=t,o=Ku(e,n.coerceTypes),a=e.length>0&&!(o.length===0&&e.length===1&&(0,Lu.schemaHasRulesForType)(t,e[0]));if(a){let s=io(e,i,n.strictNumbers,or.Wrong);r.if(s,()=>{o.length?Gu(t,e,o):no(t)})}return a}_e.coerceAndCheckDataType=Bu;var _l=new Set(["string","number","integer","boolean","null"]);function Ku(t,e){return e?t.filter(r=>_l.has(r)||e==="array"&&r==="array"):[]}function Gu(t,e,r){let{gen:i,data:n,opts:o}=t,a=i.let("dataType",(0,O._)`typeof ${n}`),s=i.let("coerced",(0,O._)`undefined`);o.coerceTypes==="array"&&i.if((0,O._)`${a} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,()=>i.assign(n,(0,O._)`${n}[0]`).assign(a,(0,O._)`typeof ${n}`).if(io(e,n,o.strictNumbers),()=>i.assign(s,n))),i.if((0,O._)`${s} !== undefined`);for(let d of r)(_l.has(d)||d==="array"&&o.coerceTypes==="array")&&l(d);i.else(),no(t),i.endIf(),i.if((0,O._)`${s} !== undefined`,()=>{i.assign(n,s),Yu(t,s)});function l(d){switch(d){case"string":i.elseIf((0,O._)`${a} == "number" || ${a} == "boolean"`).assign(s,(0,O._)`"" + ${n}`).elseIf((0,O._)`${n} === null`).assign(s,(0,O._)`""`);return;case"number":i.elseIf((0,O._)`${a} == "boolean" || ${n} === null
              || (${a} == "string" && ${n} && ${n} == +${n})`).assign(s,(0,O._)`+${n}`);return;case"integer":i.elseIf((0,O._)`${a} === "boolean" || ${n} === null
              || (${a} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(s,(0,O._)`+${n}`);return;case"boolean":i.elseIf((0,O._)`${n} === "false" || ${n} === 0 || ${n} === null`).assign(s,!1).elseIf((0,O._)`${n} === "true" || ${n} === 1`).assign(s,!0);return;case"null":i.elseIf((0,O._)`${n} === "" || ${n} === 0 || ${n} === false`),i.assign(s,null);return;case"array":i.elseIf((0,O._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${n} === null`).assign(s,(0,O._)`[${n}]`)}}}function Yu({gen:t,parentData:e,parentDataProperty:r},i){t.if((0,O._)`${e} !== undefined`,()=>t.assign((0,O._)`${e}[${r}]`,i))}function ro(t,e,r,i=or.Correct){let n=i===or.Correct?O.operators.EQ:O.operators.NEQ,o;switch(t){case"null":return(0,O._)`${e} ${n} null`;case"array":o=(0,O._)`Array.isArray(${e})`;break;case"object":o=(0,O._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":o=a((0,O._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":o=a();break;default:return(0,O._)`typeof ${e} ${n} ${t}`}return i===or.Correct?o:(0,O.not)(o);function a(s=O.nil){return(0,O.and)((0,O._)`typeof ${e} == "number"`,s,r?(0,O._)`isFinite(${e})`:O.nil)}}_e.checkDataType=ro;function io(t,e,r,i){if(t.length===1)return ro(t[0],e,r,i);let n,o=(0,hl.toHash)(t);if(o.array&&o.object){let a=(0,O._)`typeof ${e} != "object"`;n=o.null?a:(0,O._)`!${e} || ${a}`,delete o.null,delete o.array,delete o.object}else n=O.nil;o.number&&delete o.integer;for(let a in o)n=(0,O.and)(n,ro(a,e,r,i));return n}_e.checkDataTypes=io;var Ju={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,O._)`{type: ${t}}`:(0,O._)`{type: ${e}}`};function no(t){let e=Xu(t);(0,Uu.reportError)(e,Ju)}_e.reportTypeError=no;function Xu(t){let{gen:e,data:r,schema:i}=t,n=(0,hl.schemaRefOrVal)(t,i,"type");return{gen:e,keyword:"type",data:r,schema:i.type,schemaCode:n,schemaValue:n,parentSchema:i,params:{},it:t}}});var vl=S(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.assignDefaults=void 0;var ar=V(),Zu=q();function Qu(t,e){let{properties:r,items:i}=t.schema;if(e==="object"&&r)for(let n in r)yl(t,n,r[n].default);else e==="array"&&Array.isArray(i)&&i.forEach((n,o)=>yl(t,o,n.default))}Hi.assignDefaults=Qu;function yl(t,e,r){let{gen:i,compositeRule:n,data:o,opts:a}=t;if(r===void 0)return;let s=(0,ar._)`${o}${(0,ar.getProperty)(e)}`;if(n){(0,Zu.checkStrictMode)(t,`default is ignored for: ${s}`);return}let l=(0,ar._)`${s} === undefined`;a.useDefaults==="empty"&&(l=(0,ar._)`${l} || ${s} === null || ${s} === ""`),i.if(l,(0,ar._)`${s} = ${(0,ar.stringify)(r)}`)}});var ke=S(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.validateUnion=G.validateArray=G.usePattern=G.callValidateCode=G.schemaProperties=G.allSchemaProperties=G.noPropertyInData=G.propertyInData=G.isOwnProperty=G.hasPropFunc=G.reportMissingProp=G.checkMissingProp=G.checkReportMissingProp=void 0;var Q=V(),oo=q(),Ct=ft(),ef=q();function tf(t,e){let{gen:r,data:i,it:n}=t;r.if(so(r,i,e,n.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Q._)`${e}`},!0),t.error()})}G.checkReportMissingProp=tf;function rf({gen:t,data:e,it:{opts:r}},i,n){return(0,Q.or)(...i.map(o=>(0,Q.and)(so(t,e,o,r.ownProperties),(0,Q._)`${n} = ${o}`)))}G.checkMissingProp=rf;function nf(t,e){t.setParams({missingProperty:e},!0),t.error()}G.reportMissingProp=nf;function Sl(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Q._)`Object.prototype.hasOwnProperty`})}G.hasPropFunc=Sl;function ao(t,e,r){return(0,Q._)`${Sl(t)}.call(${e}, ${r})`}G.isOwnProperty=ao;function of(t,e,r,i){let n=(0,Q._)`${e}${(0,Q.getProperty)(r)} !== undefined`;return i?(0,Q._)`${n} && ${ao(t,e,r)}`:n}G.propertyInData=of;function so(t,e,r,i){let n=(0,Q._)`${e}${(0,Q.getProperty)(r)} === undefined`;return i?(0,Q.or)(n,(0,Q.not)(ao(t,e,r))):n}G.noPropertyInData=so;function bl(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}G.allSchemaProperties=bl;function af(t,e){return bl(e).filter(r=>!(0,oo.alwaysValidSchema)(t,e[r]))}G.schemaProperties=af;function sf({schemaCode:t,data:e,it:{gen:r,topSchemaRef:i,schemaPath:n,errorPath:o},it:a},s,l,d){let c=d?(0,Q._)`${t}, ${e}, ${i}${n}`:e,f=[[Ct.default.instancePath,(0,Q.strConcat)(Ct.default.instancePath,o)],[Ct.default.parentData,a.parentData],[Ct.default.parentDataProperty,a.parentDataProperty],[Ct.default.rootData,Ct.default.rootData]];a.opts.dynamicRef&&f.push([Ct.default.dynamicAnchors,Ct.default.dynamicAnchors]);let y=(0,Q._)`${c}, ${r.object(...f)}`;return l!==Q.nil?(0,Q._)`${s}.call(${l}, ${y})`:(0,Q._)`${s}(${y})`}G.callValidateCode=sf;var lf=(0,Q._)`new RegExp`;function cf({gen:t,it:{opts:e}},r){let i=e.unicodeRegExp?"u":"",{regExp:n}=e.code,o=n(r,i);return t.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,Q._)`${n.code==="new RegExp"?lf:(0,ef.useFunc)(t,n)}(${r}, ${i})`})}G.usePattern=cf;function df(t){let{gen:e,data:r,keyword:i,it:n}=t,o=e.name("valid");if(n.allErrors){let s=e.let("valid",!0);return a(()=>e.assign(s,!1)),s}return e.var(o,!0),a(()=>e.break()),o;function a(s){let l=e.const("len",(0,Q._)`${r}.length`);e.forRange("i",0,l,d=>{t.subschema({keyword:i,dataProp:d,dataPropType:oo.Type.Num},o),e.if((0,Q.not)(o),s)})}}G.validateArray=df;function uf(t){let{gen:e,schema:r,keyword:i,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,oo.alwaysValidSchema)(n,l))&&!n.opts.unevaluated)return;let a=e.let("valid",!1),s=e.name("_valid");e.block(()=>r.forEach((l,d)=>{let c=t.subschema({keyword:i,schemaProp:d,compositeRule:!0},s);e.assign(a,(0,Q._)`${a} || ${s}`),t.mergeValidEvaluated(c,s)||e.if((0,Q.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}G.validateUnion=uf});var zl=S(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.validateKeywordUsage=et.validSchemaType=et.funcKeywordCode=et.macroKeywordCode=void 0;var ve=V(),Nt=ft(),ff=ke(),pf=Vr();function mf(t,e){let{gen:r,keyword:i,schema:n,parentSchema:o,it:a}=t,s=e.macro.call(a.self,n,o,a),l=Cl(r,i,s);a.opts.validateSchema!==!1&&a.self.validateSchema(s,!0);let d=r.name("valid");t.subschema({schema:s,schemaPath:ve.nil,errSchemaPath:`${a.errSchemaPath}/${i}`,topSchemaRef:l,compositeRule:!0},d),t.pass(d,()=>t.error(!0))}et.macroKeywordCode=mf;function hf(t,e){var r;let{gen:i,keyword:n,schema:o,parentSchema:a,$data:s,it:l}=t;_f(l,e);let d=!s&&e.compile?e.compile.call(l.self,o,a,l):e.validate,c=Cl(i,n,d),f=i.let("valid");t.block$data(f,y),t.ok((r=e.valid)!==null&&r!==void 0?r:f);function y(){if(e.errors===!1)u(),e.modifying&&wl(t),g(()=>t.error());else{let b=e.async?p():h();e.modifying&&wl(t),g(()=>gf(t,b))}}function p(){let b=i.let("ruleErrs",null);return i.try(()=>u((0,ve._)`await `),R=>i.assign(f,!1).if((0,ve._)`${R} instanceof ${l.ValidationError}`,()=>i.assign(b,(0,ve._)`${R}.errors`),()=>i.throw(R))),b}function h(){let b=(0,ve._)`${c}.errors`;return i.assign(b,null),u(ve.nil),b}function u(b=e.async?(0,ve._)`await `:ve.nil){let R=l.opts.passContext?Nt.default.this:Nt.default.self,D=!("compile"in e&&!s||e.schema===!1);i.assign(f,(0,ve._)`${b}${(0,ff.callValidateCode)(t,c,R,D)}`,e.modifying)}function g(b){var R;i.if((0,ve.not)((R=e.valid)!==null&&R!==void 0?R:f),b)}}et.funcKeywordCode=hf;function wl(t){let{gen:e,data:r,it:i}=t;e.if(i.parentData,()=>e.assign(r,(0,ve._)`${i.parentData}[${i.parentDataProperty}]`))}function gf(t,e){let{gen:r}=t;r.if((0,ve._)`Array.isArray(${e})`,()=>{r.assign(Nt.default.vErrors,(0,ve._)`${Nt.default.vErrors} === null ? ${e} : ${Nt.default.vErrors}.concat(${e})`).assign(Nt.default.errors,(0,ve._)`${Nt.default.vErrors}.length`),(0,pf.extendErrors)(t)},()=>t.error())}function _f({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function Cl(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,ve.stringify)(r)})}function yf(t,e,r=!1){return!e.length||e.some(i=>i==="array"?Array.isArray(t):i==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==i||r&&typeof t>"u")}et.validSchemaType=yf;function vf({schema:t,opts:e,self:r,errSchemaPath:i},n,o){if(Array.isArray(n.keyword)?!n.keyword.includes(o):n.keyword!==o)throw new Error("ajv implementation error");let a=n.dependencies;if(a?.some(s=>!Object.prototype.hasOwnProperty.call(t,s)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(n.validateSchema&&!n.validateSchema(t[o])){let l=`keyword "${o}" value is invalid at path "${i}": `+r.errorsText(n.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}et.validateKeywordUsage=vf});var xl=S(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.extendSubschemaMode=zt.extendSubschemaData=zt.getSubschema=void 0;var tt=V(),$l=q();function Sf(t,{keyword:e,schemaProp:r,schema:i,schemaPath:n,errSchemaPath:o,topSchemaRef:a}){if(e!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let s=t.schema[e];return r===void 0?{schema:s,schemaPath:(0,tt._)`${t.schemaPath}${(0,tt.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:s[r],schemaPath:(0,tt._)`${t.schemaPath}${(0,tt.getProperty)(e)}${(0,tt.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,$l.escapeFragment)(r)}`}}if(i!==void 0){if(n===void 0||o===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:n,topSchemaRef:a,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}zt.getSubschema=Sf;function bf(t,e,{dataProp:r,dataPropType:i,data:n,dataTypes:o,propertyName:a}){if(n!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:s}=e;if(r!==void 0){let{errorPath:d,dataPathArr:c,opts:f}=e,y=s.let("data",(0,tt._)`${e.data}${(0,tt.getProperty)(r)}`,!0);l(y),t.errorPath=(0,tt.str)`${d}${(0,$l.getErrorPath)(r,i,f.jsPropertySyntax)}`,t.parentDataProperty=(0,tt._)`${r}`,t.dataPathArr=[...c,t.parentDataProperty]}if(n!==void 0){let d=n instanceof tt.Name?n:s.let("data",n,!0);l(d),a!==void 0&&(t.propertyName=a)}o&&(t.dataTypes=o);function l(d){t.data=d,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,d]}}zt.extendSubschemaData=bf;function wf(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:i,createErrors:n,allErrors:o}){i!==void 0&&(t.compositeRule=i),n!==void 0&&(t.createErrors=n),o!==void 0&&(t.allErrors=o),t.jtdDiscriminator=e,t.jtdMetadata=r}zt.extendSubschemaMode=wf});var lo=S((q0,El)=>{"use strict";El.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var i,n,o;if(Array.isArray(e)){if(i=e.length,i!=r.length)return!1;for(n=i;n--!==0;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),i=o.length,i!==Object.keys(r).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[n]))return!1;for(n=i;n--!==0;){var a=o[n];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r}});var Pl=S((A0,Tl)=>{"use strict";var $t=Tl.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var i=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};Bi(e,i,n,t,"",t)};$t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};$t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};$t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};$t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Bi(t,e,r,i,n,o,a,s,l,d){if(i&&typeof i=="object"&&!Array.isArray(i)){e(i,n,o,a,s,l,d);for(var c in i){var f=i[c];if(Array.isArray(f)){if(c in $t.arrayKeywords)for(var y=0;y<f.length;y++)Bi(t,e,r,f[y],n+"/"+c+"/"+y,o,n,c,i,y)}else if(c in $t.propsKeywords){if(f&&typeof f=="object")for(var p in f)Bi(t,e,r,f[p],n+"/"+c+"/"+Cf(p),o,n,c,i,p)}else(c in $t.keywords||t.allKeys&&!(c in $t.skipKeywords))&&Bi(t,e,r,f,n+"/"+c,o,n,c,i)}r(i,n,o,a,s,l,d)}}function Cf(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Nr=S(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.getSchemaRefs=Te.resolveUrl=Te.normalizeId=Te._getFullPath=Te.getFullPath=Te.inlineRef=void 0;var zf=q(),$f=lo(),xf=Pl(),Ef=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Tf(t,e=!0){return typeof t=="boolean"?!0:e===!0?!co(t):e?Fl(t)<=e:!1}Te.inlineRef=Tf;var Pf=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function co(t){for(let e in t){if(Pf.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(co)||typeof r=="object"&&co(r))return!0}return!1}function Fl(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!Ef.has(r)&&(typeof t[r]=="object"&&(0,zf.eachItem)(t[r],i=>e+=Fl(i)),e===1/0))return 1/0}return e}function Il(t,e="",r){r!==!1&&(e=sr(e));let i=t.parse(e);return Ol(t,i)}Te.getFullPath=Il;function Ol(t,e){return t.serialize(e).split("#")[0]+"#"}Te._getFullPath=Ol;var Ff=/#\/?$/;function sr(t){return t?t.replace(Ff,""):""}Te.normalizeId=sr;function If(t,e,r){return r=sr(r),t.resolve(e,r)}Te.resolveUrl=If;var Of=/^[a-z_][-a-z0-9._]*$/i;function Vf(t,e){if(typeof t=="boolean")return{};let{schemaId:r,uriResolver:i}=this.opts,n=sr(t[r]||e),o={"":n},a=Il(i,n,!1),s={},l=new Set;return xf(t,{allKeys:!0},(f,y,p,h)=>{if(h===void 0)return;let u=a+y,g=o[h];typeof f[r]=="string"&&(g=b.call(this,f[r])),R.call(this,f.$anchor),R.call(this,f.$dynamicAnchor),o[y]=g;function b(D){let X=this.opts.uriResolver.resolve;if(D=sr(g?X(g,D):D),l.has(D))throw c(D);l.add(D);let I=this.refs[D];return typeof I=="string"&&(I=this.refs[I]),typeof I=="object"?d(f,I.schema,D):D!==sr(u)&&(D[0]==="#"?(d(f,s[D],D),s[D]=f):this.refs[D]=u),D}function R(D){if(typeof D=="string"){if(!Of.test(D))throw new Error(`invalid anchor "${D}"`);b.call(this,`#${D}`)}}}),s;function d(f,y,p){if(y!==void 0&&!$f(f,y))throw c(p)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Te.getSchemaRefs=Vf});var Rr=S(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.getData=xt.KeywordCxt=xt.validateFunctionCode=void 0;var Ml=fl(),Vl=kr(),fo=to(),Ki=kr(),kf=vl(),Mr=zl(),uo=xl(),x=V(),T=ft(),Nf=Nr(),pt=q(),Dr=Vr();function Df(t){if(Wl(t)&&(ql(t),jl(t))){jf(t);return}Rl(t,()=>(0,Ml.topBoolOrEmptySchema)(t))}xt.validateFunctionCode=Df;function Rl({gen:t,validateName:e,schema:r,schemaEnv:i,opts:n},o){n.code.es5?t.func(e,(0,x._)`${T.default.data}, ${T.default.valCxt}`,i.$async,()=>{t.code((0,x._)`"use strict"; ${kl(r,n)}`),Rf(t,n),t.code(o)}):t.func(e,(0,x._)`${T.default.data}, ${Mf(n)}`,i.$async,()=>t.code(kl(r,n)).code(o))}function Mf(t){return(0,x._)`{${T.default.instancePath}="", ${T.default.parentData}, ${T.default.parentDataProperty}, ${T.default.rootData}=${T.default.data}${t.dynamicRef?(0,x._)`, ${T.default.dynamicAnchors}={}`:x.nil}}={}`}function Rf(t,e){t.if(T.default.valCxt,()=>{t.var(T.default.instancePath,(0,x._)`${T.default.valCxt}.${T.default.instancePath}`),t.var(T.default.parentData,(0,x._)`${T.default.valCxt}.${T.default.parentData}`),t.var(T.default.parentDataProperty,(0,x._)`${T.default.valCxt}.${T.default.parentDataProperty}`),t.var(T.default.rootData,(0,x._)`${T.default.valCxt}.${T.default.rootData}`),e.dynamicRef&&t.var(T.default.dynamicAnchors,(0,x._)`${T.default.valCxt}.${T.default.dynamicAnchors}`)},()=>{t.var(T.default.instancePath,(0,x._)`""`),t.var(T.default.parentData,(0,x._)`undefined`),t.var(T.default.parentDataProperty,(0,x._)`undefined`),t.var(T.default.rootData,T.default.data),e.dynamicRef&&t.var(T.default.dynamicAnchors,(0,x._)`{}`)})}function jf(t){let{schema:e,opts:r,gen:i}=t;Rl(t,()=>{r.$comment&&e.$comment&&Ll(t),Uf(t),i.let(T.default.vErrors,null),i.let(T.default.errors,0),r.unevaluated&&Wf(t),Al(t),Kf(t)})}function Wf(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,x._)`${r}.evaluated`),e.if((0,x._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,x._)`${t.evaluated}.props`,(0,x._)`undefined`)),e.if((0,x._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,x._)`${t.evaluated}.items`,(0,x._)`undefined`))}function kl(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,x._)`/*# sourceURL=${r} */`:x.nil}function qf(t,e){if(Wl(t)&&(ql(t),jl(t))){Af(t,e);return}(0,Ml.boolOrEmptySchema)(t,e)}function jl({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function Wl(t){return typeof t.schema!="boolean"}function Af(t,e){let{schema:r,gen:i,opts:n}=t;n.$comment&&r.$comment&&Ll(t),Hf(t),Bf(t);let o=i.const("_errs",T.default.errors);Al(t,o),i.var(e,(0,x._)`${o} === ${T.default.errors}`)}function ql(t){(0,pt.checkUnknownRules)(t),Lf(t)}function Al(t,e){if(t.opts.jtd)return Nl(t,[],!1,e);let r=(0,Vl.getSchemaTypes)(t.schema),i=(0,Vl.coerceAndCheckDataType)(t,r);Nl(t,r,!i,e)}function Lf(t){let{schema:e,errSchemaPath:r,opts:i,self:n}=t;e.$ref&&i.ignoreKeywordsWithRef&&(0,pt.schemaHasRulesButRef)(e,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Uf(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,pt.checkStrictMode)(t,"default is ignored in the schema root")}function Hf(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,Nf.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function Bf(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Ll({gen:t,schemaEnv:e,schema:r,errSchemaPath:i,opts:n}){let o=r.$comment;if(n.$comment===!0)t.code((0,x._)`${T.default.self}.logger.log(${o})`);else if(typeof n.$comment=="function"){let a=(0,x.str)`${i}/$comment`,s=t.scopeValue("root",{ref:e.root});t.code((0,x._)`${T.default.self}.opts.$comment(${o}, ${a}, ${s}.schema)`)}}function Kf(t){let{gen:e,schemaEnv:r,validateName:i,ValidationError:n,opts:o}=t;r.$async?e.if((0,x._)`${T.default.errors} === 0`,()=>e.return(T.default.data),()=>e.throw((0,x._)`new ${n}(${T.default.vErrors})`)):(e.assign((0,x._)`${i}.errors`,T.default.vErrors),o.unevaluated&&Gf(t),e.return((0,x._)`${T.default.errors} === 0`))}function Gf({gen:t,evaluated:e,props:r,items:i}){r instanceof x.Name&&t.assign((0,x._)`${e}.props`,r),i instanceof x.Name&&t.assign((0,x._)`${e}.items`,i)}function Nl(t,e,r,i){let{gen:n,schema:o,data:a,allErrors:s,opts:l,self:d}=t,{RULES:c}=d;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,pt.schemaHasRulesButRef)(o,c))){n.block(()=>Hl(t,"$ref",c.all.$ref.definition));return}l.jtd||Yf(t,e),n.block(()=>{for(let y of c.rules)f(y);f(c.post)});function f(y){(0,fo.shouldUseGroup)(o,y)&&(y.type?(n.if((0,Ki.checkDataType)(y.type,a,l.strictNumbers)),Dl(t,y),e.length===1&&e[0]===y.type&&r&&(n.else(),(0,Ki.reportTypeError)(t)),n.endIf()):Dl(t,y),s||n.if((0,x._)`${T.default.errors} === ${i||0}`))}}function Dl(t,e){let{gen:r,schema:i,opts:{useDefaults:n}}=t;n&&(0,kf.assignDefaults)(t,e.type),r.block(()=>{for(let o of e.rules)(0,fo.shouldUseRule)(i,o)&&Hl(t,o.keyword,o.definition,e.type)})}function Yf(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(Jf(t,e),t.opts.allowUnionTypes||Xf(t,e),Zf(t,t.dataTypes))}function Jf(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Ul(t.dataTypes,r)||po(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),ep(t,e)}}function Xf(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&po(t,"use allowUnionTypes to allow union type keyword")}function Zf(t,e){let r=t.self.RULES.all;for(let i in r){let n=r[i];if(typeof n=="object"&&(0,fo.shouldUseRule)(t.schema,n)){let{type:o}=n.definition;o.length&&!o.some(a=>Qf(e,a))&&po(t,`missing type "${o.join(",")}" for keyword "${i}"`)}}}function Qf(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Ul(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function ep(t,e){let r=[];for(let i of t.dataTypes)Ul(e,i)?r.push(i):e.includes("integer")&&i==="number"&&r.push("integer");t.dataTypes=r}function po(t,e){let r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,pt.checkStrictMode)(t,e,t.opts.strictTypes)}var Gi=class{constructor(e,r,i){if((0,Mr.validateKeywordUsage)(e,r,i),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=i,this.data=e.data,this.schema=e.schema[i],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,pt.schemaRefOrVal)(e,this.schema,i,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Bl(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Mr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${i} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",T.default.errors))}result(e,r,i){this.failResult((0,x.not)(e),r,i)}failResult(e,r,i){this.gen.if(e),i?i():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,x.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail((0,x._)`${r} !== undefined && (${(0,x.or)(this.invalid$data(),e)})`)}error(e,r,i){if(r){this.setParams(r),this._error(e,i),this.setParams({});return}this._error(e,i)}_error(e,r){(e?Dr.reportExtraError:Dr.reportError)(this,this.def.error,r)}$dataError(){(0,Dr.reportError)(this,this.def.$dataError||Dr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Dr.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,i=x.nil){this.gen.block(()=>{this.check$data(e,i),r()})}check$data(e=x.nil,r=x.nil){if(!this.$data)return;let{gen:i,schemaCode:n,schemaType:o,def:a}=this;i.if((0,x.or)((0,x._)`${n} === undefined`,r)),e!==x.nil&&i.assign(e,!0),(o.length||a.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),e!==x.nil&&i.assign(e,!1)),i.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:i,def:n,it:o}=this;return(0,x.or)(a(),s());function a(){if(i.length){if(!(r instanceof x.Name))throw new Error("ajv implementation error");let l=Array.isArray(i)?i:[i];return(0,x._)`${(0,Ki.checkDataTypes)(l,r,o.opts.strictNumbers,Ki.DataType.Wrong)}`}return x.nil}function s(){if(n.validateSchema){let l=e.scopeValue("validate$data",{ref:n.validateSchema});return(0,x._)`!${l}(${r})`}return x.nil}}subschema(e,r){let i=(0,uo.getSubschema)(this.it,e);(0,uo.extendSubschemaData)(i,this.it,e),(0,uo.extendSubschemaMode)(i,e);let n=Y(w(w({},this.it),i),{items:void 0,props:void 0});return qf(n,r),n}mergeEvaluated(e,r){let{it:i,gen:n}=this;i.opts.unevaluated&&(i.props!==!0&&e.props!==void 0&&(i.props=pt.mergeEvaluated.props(n,e.props,i.props,r)),i.items!==!0&&e.items!==void 0&&(i.items=pt.mergeEvaluated.items(n,e.items,i.items,r)))}mergeValidEvaluated(e,r){let{it:i,gen:n}=this;if(i.opts.unevaluated&&(i.props!==!0||i.items!==!0))return n.if(r,()=>this.mergeEvaluated(e,x.Name)),!0}};xt.KeywordCxt=Gi;function Hl(t,e,r,i){let n=new Gi(t,r,e);"code"in r?r.code(n,i):n.$data&&r.validate?(0,Mr.funcKeywordCode)(n,r):"macro"in r?(0,Mr.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,Mr.funcKeywordCode)(n,r)}var tp=/^\/(?:[^~]|~0|~1)*$/,rp=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Bl(t,{dataLevel:e,dataNames:r,dataPathArr:i}){let n,o;if(t==="")return T.default.rootData;if(t[0]==="/"){if(!tp.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);n=t,o=T.default.rootData}else{let d=rp.exec(t);if(!d)throw new Error(`Invalid JSON-pointer: ${t}`);let c=+d[1];if(n=d[2],n==="#"){if(c>=e)throw new Error(l("property/index",c));return i[e-c]}if(c>e)throw new Error(l("data",c));if(o=r[e-c],!n)return o}let a=o,s=n.split("/");for(let d of s)d&&(o=(0,x._)`${o}${(0,x.getProperty)((0,pt.unescapeJsonPointer)(d))}`,a=(0,x._)`${a} && ${o}`);return a;function l(d,c){return`Cannot access ${d} ${c} levels up, current level is ${e}`}}xt.getData=Bl});var Yi=S(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});var mo=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};ho.default=mo});var jr=S(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});var go=Nr(),_o=class extends Error{constructor(e,r,i,n){super(n||`can't resolve reference ${i} from id ${r}`),this.missingRef=(0,go.resolveUrl)(e,r,i),this.missingSchema=(0,go.normalizeId)((0,go.getFullPath)(e,this.missingRef))}};yo.default=_o});var Xi=S(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.resolveSchema=Ne.getCompilingSchema=Ne.resolveRef=Ne.compileSchema=Ne.SchemaEnv=void 0;var Re=V(),ip=Yi(),Dt=ft(),je=Nr(),Kl=q(),np=Rr(),lr=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let i;typeof e.schema=="object"&&(i=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,je.normalizeId)(i?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=i?.$async,this.refs={}}};Ne.SchemaEnv=lr;function So(t){let e=Gl.call(this,t);if(e)return e;let r=(0,je.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:i,lines:n}=this.opts.code,{ownProperties:o}=this.opts,a=new Re.CodeGen(this.scope,{es5:i,lines:n,ownProperties:o}),s;t.$async&&(s=a.scopeValue("Error",{ref:ip.default,code:(0,Re._)`require("ajv/dist/runtime/validation_error").default`}));let l=a.scopeName("validate");t.validateName=l;let d={gen:a,allErrors:this.opts.allErrors,data:Dt.default.data,parentData:Dt.default.parentData,parentDataProperty:Dt.default.parentDataProperty,dataNames:[Dt.default.data],dataPathArr:[Re.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Re.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:s,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Re.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Re._)`""`,opts:this.opts,self:this},c;try{this._compilations.add(t),(0,np.validateFunctionCode)(d),a.optimize(this.opts.code.optimize);let f=a.toString();c=`${a.scopeRefs(Dt.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,t));let p=new Function(`${Dt.default.self}`,`${Dt.default.scope}`,c)(this,this.scope.get());if(this.scope.value(l,{ref:p}),p.errors=null,p.schema=t.schema,p.schemaEnv=t,t.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:l,validateCode:f,scopeValues:a._values}),this.opts.unevaluated){let{props:h,items:u}=d;p.evaluated={props:h instanceof Re.Name?void 0:h,items:u instanceof Re.Name?void 0:u,dynamicProps:h instanceof Re.Name,dynamicItems:u instanceof Re.Name},p.source&&(p.source.evaluated=(0,Re.stringify)(p.evaluated))}return t.validate=p,t}catch(f){throw delete t.validate,delete t.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(t)}}Ne.compileSchema=So;function op(t,e,r){var i;r=(0,je.resolveUrl)(this.opts.uriResolver,e,r);let n=t.refs[r];if(n)return n;let o=lp.call(this,t,r);if(o===void 0){let a=(i=t.localRefs)===null||i===void 0?void 0:i[r],{schemaId:s}=this.opts;a&&(o=new lr({schema:a,schemaId:s,root:t,baseId:e}))}if(o!==void 0)return t.refs[r]=ap.call(this,o)}Ne.resolveRef=op;function ap(t){return(0,je.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:So.call(this,t)}function Gl(t){for(let e of this._compilations)if(sp(e,t))return e}Ne.getCompilingSchema=Gl;function sp(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function lp(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Ji.call(this,t,e)}function Ji(t,e){let r=this.opts.uriResolver.parse(e),i=(0,je._getFullPath)(this.opts.uriResolver,r),n=(0,je.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&i===n)return vo.call(this,r,t);let o=(0,je.normalizeId)(i),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){let s=Ji.call(this,t,a);return typeof s?.schema!="object"?void 0:vo.call(this,r,s)}if(typeof a?.schema=="object"){if(a.validate||So.call(this,a),o===(0,je.normalizeId)(e)){let{schema:s}=a,{schemaId:l}=this.opts,d=s[l];return d&&(n=(0,je.resolveUrl)(this.opts.uriResolver,n,d)),new lr({schema:s,schemaId:l,root:t,baseId:n})}return vo.call(this,r,a)}}Ne.resolveSchema=Ji;var cp=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function vo(t,{baseId:e,schema:r,root:i}){var n;if(((n=t.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(let s of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let l=r[(0,Kl.unescapeFragment)(s)];if(l===void 0)return;r=l;let d=typeof r=="object"&&r[this.opts.schemaId];!cp.has(s)&&d&&(e=(0,je.resolveUrl)(this.opts.uriResolver,e,d))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,Kl.schemaHasRulesButRef)(r,this.RULES)){let s=(0,je.resolveUrl)(this.opts.uriResolver,e,r.$ref);o=Ji.call(this,i,s)}let{schemaId:a}=this.opts;if(o=o||new lr({schema:r,schemaId:a,root:i,baseId:e}),o.schema!==o.root.schema)return o}});var Yl=S((Y0,dp)=>{dp.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Xl=S((J0,Jl)=>{"use strict";var up={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Jl.exports={HEX:up}});var oc=S((X0,nc)=>{"use strict";var{HEX:fp}=Xl(),pp=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function tc(t){if(ic(t,".")<3)return{host:t,isIPV4:!1};let e=t.match(pp)||[],[r]=e;return r?{host:hp(r,"."),isIPV4:!0}:{host:t,isIPV4:!1}}function bo(t,e=!1){let r="",i=!0;for(let n of t){if(fp[n]===void 0)return;n!=="0"&&i===!0&&(i=!1),i||(r+=n)}return e&&r.length===0&&(r="0"),r}function mp(t){let e=0,r={error:!1,address:"",zone:""},i=[],n=[],o=!1,a=!1,s=!1;function l(){if(n.length){if(o===!1){let d=bo(n);if(d!==void 0)i.push(d);else return r.error=!0,!1}n.length=0}return!0}for(let d=0;d<t.length;d++){let c=t[d];if(!(c==="["||c==="]"))if(c===":"){if(a===!0&&(s=!0),!l())break;if(e++,i.push(":"),e>7){r.error=!0;break}d-1>=0&&t[d-1]===":"&&(a=!0);continue}else if(c==="%"){if(!l())break;o=!0}else{n.push(c);continue}}return n.length&&(o?r.zone=n.join(""):s?i.push(n.join("")):i.push(bo(n))),r.address=i.join(""),r}function rc(t){if(ic(t,":")<2)return{host:t,isIPV6:!1};let e=mp(t);if(e.error)return{host:t,isIPV6:!1};{let r=e.address,i=e.address;return e.zone&&(r+="%"+e.zone,i+="%25"+e.zone),{host:r,escapedHost:i,isIPV6:!0}}}function hp(t,e){let r="",i=!0,n=t.length;for(let o=0;o<n;o++){let a=t[o];a==="0"&&i?(o+1<=n&&t[o+1]===e||o+1===n)&&(r+=a,i=!1):(a===e?i=!0:i=!1,r+=a)}return r}function ic(t,e){let r=0;for(let i=0;i<t.length;i++)t[i]===e&&r++;return r}var Zl=/^\.\.?\//u,Ql=/^\/\.(?:\/|$)/u,ec=/^\/\.\.(?:\/|$)/u,gp=/^\/?(?:.|\n)*?(?=\/|$)/u;function _p(t){let e=[];for(;t.length;)if(t.match(Zl))t=t.replace(Zl,"");else if(t.match(Ql))t=t.replace(Ql,"/");else if(t.match(ec))t=t.replace(ec,"/"),e.pop();else if(t==="."||t==="..")t="";else{let r=t.match(gp);if(r){let i=r[0];t=t.slice(i.length),e.push(i)}else throw new Error("Unexpected dot segment condition")}return e.join("")}function yp(t,e){let r=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=r(t.scheme)),t.userinfo!==void 0&&(t.userinfo=r(t.userinfo)),t.host!==void 0&&(t.host=r(t.host)),t.path!==void 0&&(t.path=r(t.path)),t.query!==void 0&&(t.query=r(t.query)),t.fragment!==void 0&&(t.fragment=r(t.fragment)),t}function vp(t){let e=[];if(t.userinfo!==void 0&&(e.push(t.userinfo),e.push("@")),t.host!==void 0){let r=unescape(t.host),i=tc(r);if(i.isIPV4)r=i.host;else{let n=rc(i.host);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=t.host}e.push(r)}return(typeof t.port=="number"||typeof t.port=="string")&&(e.push(":"),e.push(String(t.port))),e.length?e.join(""):void 0}nc.exports={recomposeAuthority:vp,normalizeComponentEncoding:yp,removeDotSegments:_p,normalizeIPv4:tc,normalizeIPv6:rc,stringArrayToHexStripped:bo}});var uc=S((Z0,dc)=>{"use strict";var Sp=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,bp=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function ac(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function sc(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function lc(t){let e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function wp(t){return t.secure=ac(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function Cp(t){if((t.port===(ac(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){let[e,r]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=r,t.resourceName=void 0}return t.fragment=void 0,t}function zp(t,e){if(!t.path)return t.error="URN can not be parsed",t;let r=t.path.match(bp);if(r){let i=e.scheme||t.scheme||"urn";t.nid=r[1].toLowerCase(),t.nss=r[2];let n=`${i}:${e.nid||t.nid}`,o=wo[n];t.path=void 0,o&&(t=o.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function $p(t,e){let r=e.scheme||t.scheme||"urn",i=t.nid.toLowerCase(),n=`${r}:${e.nid||i}`,o=wo[n];o&&(t=o.serialize(t,e));let a=t,s=t.nss;return a.path=`${i||e.nid}:${s}`,e.skipEscape=!0,a}function xp(t,e){let r=t;return r.uuid=r.nss,r.nss=void 0,!e.tolerant&&(!r.uuid||!Sp.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Ep(t){let e=t;return e.nss=(t.uuid||"").toLowerCase(),e}var cc={scheme:"http",domainHost:!0,parse:sc,serialize:lc},Tp={scheme:"https",domainHost:cc.domainHost,parse:sc,serialize:lc},Zi={scheme:"ws",domainHost:!0,parse:wp,serialize:Cp},Pp={scheme:"wss",domainHost:Zi.domainHost,parse:Zi.parse,serialize:Zi.serialize},Fp={scheme:"urn",parse:zp,serialize:$p,skipNormalize:!0},Ip={scheme:"urn:uuid",parse:xp,serialize:Ep,skipNormalize:!0},wo={http:cc,https:Tp,ws:Zi,wss:Pp,urn:Fp,"urn:uuid":Ip};dc.exports=wo});var pc=S((Q0,en)=>{"use strict";var{normalizeIPv6:Op,normalizeIPv4:Vp,removeDotSegments:Wr,recomposeAuthority:kp,normalizeComponentEncoding:Qi}=oc(),Co=uc();function Np(t,e){return typeof t=="string"?t=rt(mt(t,e),e):typeof t=="object"&&(t=mt(rt(t,e),e)),t}function Dp(t,e,r){let i=Object.assign({scheme:"null"},r),n=fc(mt(t,i),mt(e,i),i,!0);return rt(n,Y(w({},i),{skipEscape:!0}))}function fc(t,e,r,i){let n={};return i||(t=mt(rt(t,r),r),e=mt(rt(e,r),r)),r=r||{},!r.tolerant&&e.scheme?(n.scheme=e.scheme,n.userinfo=e.userinfo,n.host=e.host,n.port=e.port,n.path=Wr(e.path||""),n.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(n.userinfo=e.userinfo,n.host=e.host,n.port=e.port,n.path=Wr(e.path||""),n.query=e.query):(e.path?(e.path.charAt(0)==="/"?n.path=Wr(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?n.path="/"+e.path:t.path?n.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:n.path=e.path,n.path=Wr(n.path)),n.query=e.query):(n.path=t.path,e.query!==void 0?n.query=e.query:n.query=t.query),n.userinfo=t.userinfo,n.host=t.host,n.port=t.port),n.scheme=t.scheme),n.fragment=e.fragment,n}function Mp(t,e,r){return typeof t=="string"?(t=unescape(t),t=rt(Qi(mt(t,r),!0),Y(w({},r),{skipEscape:!0}))):typeof t=="object"&&(t=rt(Qi(t,!0),Y(w({},r),{skipEscape:!0}))),typeof e=="string"?(e=unescape(e),e=rt(Qi(mt(e,r),!0),Y(w({},r),{skipEscape:!0}))):typeof e=="object"&&(e=rt(Qi(e,!0),Y(w({},r),{skipEscape:!0}))),t.toLowerCase()===e.toLowerCase()}function rt(t,e){let r={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},i=Object.assign({},e),n=[],o=Co[(i.scheme||r.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(r,i),r.path!==void 0&&(i.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),i.reference!=="suffix"&&r.scheme&&n.push(r.scheme,":");let a=kp(r);if(a!==void 0&&(i.reference!=="suffix"&&n.push("//"),n.push(a),r.path&&r.path.charAt(0)!=="/"&&n.push("/")),r.path!==void 0){let s=r.path;!i.absolutePath&&(!o||!o.absolutePath)&&(s=Wr(s)),a===void 0&&(s=s.replace(/^\/\//u,"/%2F")),n.push(s)}return r.query!==void 0&&n.push("?",r.query),r.fragment!==void 0&&n.push("#",r.fragment),n.join("")}var Rp=Array.from({length:127},(t,e)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(e)));function jp(t){let e=0;for(let r=0,i=t.length;r<i;++r)if(e=t.charCodeAt(r),e>126||Rp[e])return!0;return!1}var Wp=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function mt(t,e){let r=Object.assign({},e),i={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},n=t.indexOf("%")!==-1,o=!1;r.reference==="suffix"&&(t=(r.scheme?r.scheme+":":"")+"//"+t);let a=t.match(Wp);if(a){if(i.scheme=a[1],i.userinfo=a[3],i.host=a[4],i.port=parseInt(a[5],10),i.path=a[6]||"",i.query=a[7],i.fragment=a[8],isNaN(i.port)&&(i.port=a[5]),i.host){let l=Vp(i.host);if(l.isIPV4===!1){let d=Op(l.host);i.host=d.host.toLowerCase(),o=d.isIPV6}else i.host=l.host,o=!0}i.scheme===void 0&&i.userinfo===void 0&&i.host===void 0&&i.port===void 0&&i.query===void 0&&!i.path?i.reference="same-document":i.scheme===void 0?i.reference="relative":i.fragment===void 0?i.reference="absolute":i.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==i.reference&&(i.error=i.error||"URI is not a "+r.reference+" reference.");let s=Co[(r.scheme||i.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!s||!s.unicodeSupport)&&i.host&&(r.domainHost||s&&s.domainHost)&&o===!1&&jp(i.host))try{i.host=URL.domainToASCII(i.host.toLowerCase())}catch(l){i.error=i.error||"Host's domain name can not be converted to ASCII: "+l}(!s||s&&!s.skipNormalize)&&(n&&i.scheme!==void 0&&(i.scheme=unescape(i.scheme)),n&&i.host!==void 0&&(i.host=unescape(i.host)),i.path&&(i.path=escape(unescape(i.path))),i.fragment&&(i.fragment=encodeURI(decodeURIComponent(i.fragment)))),s&&s.parse&&s.parse(i,r)}else i.error=i.error||"URI can not be parsed.";return i}var zo={SCHEMES:Co,normalize:Np,resolve:Dp,resolveComponents:fc,equal:Mp,serialize:rt,parse:mt};en.exports=zo;en.exports.default=zo;en.exports.fastUri=zo});var hc=S($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});var mc=pc();mc.code='require("ajv/dist/runtime/uri").default';$o.default=mc});var Cc=S(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.CodeGen=ce.Name=ce.nil=ce.stringify=ce.str=ce._=ce.KeywordCxt=void 0;var qp=Rr();Object.defineProperty(ce,"KeywordCxt",{enumerable:!0,get:function(){return qp.KeywordCxt}});var cr=V();Object.defineProperty(ce,"_",{enumerable:!0,get:function(){return cr._}});Object.defineProperty(ce,"str",{enumerable:!0,get:function(){return cr.str}});Object.defineProperty(ce,"stringify",{enumerable:!0,get:function(){return cr.stringify}});Object.defineProperty(ce,"nil",{enumerable:!0,get:function(){return cr.nil}});Object.defineProperty(ce,"Name",{enumerable:!0,get:function(){return cr.Name}});Object.defineProperty(ce,"CodeGen",{enumerable:!0,get:function(){return cr.CodeGen}});var Ap=Yi(),Sc=jr(),Lp=eo(),qr=Xi(),Up=V(),Ar=Nr(),tn=kr(),Eo=q(),gc=Yl(),Hp=hc(),bc=(t,e)=>new RegExp(t,e);bc.code="new RegExp";var Bp=["removeAdditional","useDefaults","coerceTypes"],Kp=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Gp={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Yp={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},_c=200;function Jp(t){var e,r,i,n,o,a,s,l,d,c,f,y,p,h,u,g,b,R,D,X,I,Le,lt,wn,Cn;let zr=t.strict,zn=(e=t.code)===null||e===void 0?void 0:e.optimize,Ta=zn===!0||zn===void 0?1:zn||0,Pa=(i=(r=t.code)===null||r===void 0?void 0:r.regExp)!==null&&i!==void 0?i:bc,Kd=(n=t.uriResolver)!==null&&n!==void 0?n:Hp.default;return{strictSchema:(a=(o=t.strictSchema)!==null&&o!==void 0?o:zr)!==null&&a!==void 0?a:!0,strictNumbers:(l=(s=t.strictNumbers)!==null&&s!==void 0?s:zr)!==null&&l!==void 0?l:!0,strictTypes:(c=(d=t.strictTypes)!==null&&d!==void 0?d:zr)!==null&&c!==void 0?c:"log",strictTuples:(y=(f=t.strictTuples)!==null&&f!==void 0?f:zr)!==null&&y!==void 0?y:"log",strictRequired:(h=(p=t.strictRequired)!==null&&p!==void 0?p:zr)!==null&&h!==void 0?h:!1,code:t.code?Y(w({},t.code),{optimize:Ta,regExp:Pa}):{optimize:Ta,regExp:Pa},loopRequired:(u=t.loopRequired)!==null&&u!==void 0?u:_c,loopEnum:(g=t.loopEnum)!==null&&g!==void 0?g:_c,meta:(b=t.meta)!==null&&b!==void 0?b:!0,messages:(R=t.messages)!==null&&R!==void 0?R:!0,inlineRefs:(D=t.inlineRefs)!==null&&D!==void 0?D:!0,schemaId:(X=t.schemaId)!==null&&X!==void 0?X:"$id",addUsedSchema:(I=t.addUsedSchema)!==null&&I!==void 0?I:!0,validateSchema:(Le=t.validateSchema)!==null&&Le!==void 0?Le:!0,validateFormats:(lt=t.validateFormats)!==null&&lt!==void 0?lt:!0,unicodeRegExp:(wn=t.unicodeRegExp)!==null&&wn!==void 0?wn:!0,int32range:(Cn=t.int32range)!==null&&Cn!==void 0?Cn:!0,uriResolver:Kd}}var Lr=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts=w(w({},e),Jp(e));let{es5:r,lines:i}=this.opts.code;this.scope=new Up.ValueScope({scope:{},prefixes:Kp,es5:r,lines:i}),this.logger=rm(e.logger);let n=e.validateFormats;e.validateFormats=!1,this.RULES=(0,Lp.getRules)(),yc.call(this,Gp,e,"NOT SUPPORTED"),yc.call(this,Yp,e,"DEPRECATED","warn"),this._metaOpts=em.call(this),e.formats&&Zp.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&Qp.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),Xp.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:i}=this.opts,n=gc;i==="id"&&(n=w({},gc),n.id=n.$id,delete n.$id),r&&e&&this.addMetaSchema(n,n[i],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let i;if(typeof e=="string"){if(i=this.getSchema(e),!i)throw new Error(`no schema with key or ref "${e}"`)}else i=this.compile(e);let n=i(r);return"$async"in i||(this.errors=i.errors),n}compile(e,r){let i=this._addSchema(e,r);return i.validate||this._compileSchemaEnv(i)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:i}=this.opts;return n.call(this,e,r);function n(c,f){return At(this,null,function*(){yield o.call(this,c.$schema);let y=this._addSchema(c,f);return y.validate||a.call(this,y)})}function o(c){return At(this,null,function*(){c&&!this.getSchema(c)&&(yield n.call(this,{$ref:c},!0))})}function a(c){return At(this,null,function*(){try{return this._compileSchemaEnv(c)}catch(f){if(!(f instanceof Sc.default))throw f;return s.call(this,f),yield l.call(this,f.missingSchema),a.call(this,c)}})}function s({missingSchema:c,missingRef:f}){if(this.refs[c])throw new Error(`AnySchema ${c} is loaded but ${f} cannot be resolved`)}function l(c){return At(this,null,function*(){let f=yield d.call(this,c);this.refs[c]||(yield o.call(this,f.$schema)),this.refs[c]||this.addSchema(f,c,r)})}function d(c){return At(this,null,function*(){let f=this._loading[c];if(f)return f;try{return yield this._loading[c]=i(c)}finally{delete this._loading[c]}})}}addSchema(e,r,i,n=this.opts.validateSchema){if(Array.isArray(e)){for(let a of e)this.addSchema(a,void 0,i,n);return this}let o;if(typeof e=="object"){let{schemaId:a}=this.opts;if(o=e[a],o!==void 0&&typeof o!="string")throw new Error(`schema ${a} must be string`)}return r=(0,Ar.normalizeId)(r||o),this._checkUnique(r),this.schemas[r]=this._addSchema(e,i,r,n,!0),this}addMetaSchema(e,r,i=this.opts.validateSchema){return this.addSchema(e,r,!0,i),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let i;if(i=e.$schema,i!==void 0&&typeof i!="string")throw new Error("$schema must be a string");if(i=i||this.opts.defaultMeta||this.defaultMeta(),!i)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let n=this.validate(i,e);if(!n&&r){let o="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(o);else throw new Error(o)}return n}getSchema(e){let r;for(;typeof(r=vc.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:i}=this.opts,n=new qr.SchemaEnv({schema:{},schemaId:i});if(r=qr.resolveSchema.call(this,n,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=vc.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let i=e[this.opts.schemaId];return i&&(i=(0,Ar.normalizeId)(i),delete this.schemas[i],delete this.refs[i]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let i;if(typeof e=="string")i=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=i);else if(typeof e=="object"&&r===void 0){if(r=e,i=r.keyword,Array.isArray(i)&&!i.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(nm.call(this,i,r),!r)return(0,Eo.eachItem)(i,o=>xo.call(this,o)),this;am.call(this,r);let n=Y(w({},r),{type:(0,tn.getJSONTypes)(r.type),schemaType:(0,tn.getJSONTypes)(r.schemaType)});return(0,Eo.eachItem)(i,n.type.length===0?o=>xo.call(this,o,n):o=>n.type.forEach(a=>xo.call(this,o,n,a))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let i of r.rules){let n=i.rules.findIndex(o=>o.keyword===e);n>=0&&i.rules.splice(n,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:i="data"}={}){return!e||e.length===0?"No errors":e.map(n=>`${i}${n.instancePath} ${n.message}`).reduce((n,o)=>n+r+o)}$dataMetaSchema(e,r){let i=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let n of r){let o=n.split("/").slice(1),a=e;for(let s of o)a=a[s];for(let s in i){let l=i[s];if(typeof l!="object")continue;let{$data:d}=l.definition,c=a[s];d&&c&&(a[s]=wc(c))}}return e}_removeAllSchemas(e,r){for(let i in e){let n=e[i];(!r||r.test(i))&&(typeof n=="string"?delete e[i]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[i]))}}_addSchema(e,r,i,n=this.opts.validateSchema,o=this.opts.addUsedSchema){let a,{schemaId:s}=this.opts;if(typeof e=="object")a=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let l=this._cache.get(e);if(l!==void 0)return l;i=(0,Ar.normalizeId)(a||i);let d=Ar.getSchemaRefs.call(this,e,i);return l=new qr.SchemaEnv({schema:e,schemaId:s,meta:r,baseId:i,localRefs:d}),this._cache.set(l.schema,l),o&&!i.startsWith("#")&&(i&&this._checkUnique(i),this.refs[i]=l),n&&this.validateSchema(e,!0),l}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):qr.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{qr.compileSchema.call(this,e)}finally{this.opts=r}}};Lr.ValidationError=Ap.default;Lr.MissingRefError=Sc.default;ce.default=Lr;function yc(t,e,r,i="error"){for(let n in t){let o=n;o in e&&this.logger[i](`${r}: option ${n}. ${t[o]}`)}}function vc(t){return t=(0,Ar.normalizeId)(t),this.schemas[t]||this.refs[t]}function Xp(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function Zp(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function Qp(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function em(){let t=w({},this.opts);for(let e of Bp)delete t[e];return t}var tm={log(){},warn(){},error(){}};function rm(t){if(t===!1)return tm;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var im=/^[a-z_$][a-z0-9_$:-]*$/i;function nm(t,e){let{RULES:r}=this;if((0,Eo.eachItem)(t,i=>{if(r.keywords[i])throw new Error(`Keyword ${i} is already defined`);if(!im.test(i))throw new Error(`Keyword ${i} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function xo(t,e,r){var i;let n=e?.post;if(r&&n)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,a=n?o.post:o.rules.find(({type:l})=>l===r);if(a||(a={type:r,rules:[]},o.rules.push(a)),o.keywords[t]=!0,!e)return;let s={keyword:t,definition:Y(w({},e),{type:(0,tn.getJSONTypes)(e.type),schemaType:(0,tn.getJSONTypes)(e.schemaType)})};e.before?om.call(this,a,s,e.before):a.rules.push(s),o.all[t]=s,(i=e.implements)===null||i===void 0||i.forEach(l=>this.addKeyword(l))}function om(t,e,r){let i=t.rules.findIndex(n=>n.keyword===r);i>=0?t.rules.splice(i,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function am(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=wc(e)),t.validateSchema=this.compile(e,!0))}var sm={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function wc(t){return{anyOf:[t,sm]}}});var zc=S(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});var lm={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};To.default=lm});var Tc=S(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.callRef=Mt.getValidate=void 0;var cm=jr(),$c=ke(),Pe=V(),dr=ft(),xc=Xi(),rn=q(),dm={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:i}=t,{baseId:n,schemaEnv:o,validateName:a,opts:s,self:l}=i,{root:d}=o;if((r==="#"||r==="#/")&&n===d.baseId)return f();let c=xc.resolveRef.call(l,d,n,r);if(c===void 0)throw new cm.default(i.opts.uriResolver,n,r);if(c instanceof xc.SchemaEnv)return y(c);return p(c);function f(){if(o===d)return nn(t,a,o,o.$async);let h=e.scopeValue("root",{ref:d});return nn(t,(0,Pe._)`${h}.validate`,d,d.$async)}function y(h){let u=Ec(t,h);nn(t,u,h,h.$async)}function p(h){let u=e.scopeValue("schema",s.code.source===!0?{ref:h,code:(0,Pe.stringify)(h)}:{ref:h}),g=e.name("valid"),b=t.subschema({schema:h,dataTypes:[],schemaPath:Pe.nil,topSchemaRef:u,errSchemaPath:r},g);t.mergeEvaluated(b),t.ok(g)}}};function Ec(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,Pe._)`${r.scopeValue("wrapper",{ref:e})}.validate`}Mt.getValidate=Ec;function nn(t,e,r,i){let{gen:n,it:o}=t,{allErrors:a,schemaEnv:s,opts:l}=o,d=l.passContext?dr.default.this:Pe.nil;i?c():f();function c(){if(!s.$async)throw new Error("async schema referenced by sync schema");let h=n.let("valid");n.try(()=>{n.code((0,Pe._)`await ${(0,$c.callValidateCode)(t,e,d)}`),p(e),a||n.assign(h,!0)},u=>{n.if((0,Pe._)`!(${u} instanceof ${o.ValidationError})`,()=>n.throw(u)),y(u),a||n.assign(h,!1)}),t.ok(h)}function f(){t.result((0,$c.callValidateCode)(t,e,d),()=>p(e),()=>y(e))}function y(h){let u=(0,Pe._)`${h}.errors`;n.assign(dr.default.vErrors,(0,Pe._)`${dr.default.vErrors} === null ? ${u} : ${dr.default.vErrors}.concat(${u})`),n.assign(dr.default.errors,(0,Pe._)`${dr.default.vErrors}.length`)}function p(h){var u;if(!o.opts.unevaluated)return;let g=(u=r?.validate)===null||u===void 0?void 0:u.evaluated;if(o.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(o.props=rn.mergeEvaluated.props(n,g.props,o.props));else{let b=n.var("props",(0,Pe._)`${h}.evaluated.props`);o.props=rn.mergeEvaluated.props(n,b,o.props,Pe.Name)}if(o.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(o.items=rn.mergeEvaluated.items(n,g.items,o.items));else{let b=n.var("items",(0,Pe._)`${h}.evaluated.items`);o.items=rn.mergeEvaluated.items(n,b,o.items,Pe.Name)}}}Mt.callRef=nn;Mt.default=dm});var Pc=S(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});var um=zc(),fm=Tc(),pm=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",um.default,fm.default];Po.default=pm});var Fc=S(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});var on=V(),Et=on.operators,an={maximum:{okStr:"<=",ok:Et.LTE,fail:Et.GT},minimum:{okStr:">=",ok:Et.GTE,fail:Et.LT},exclusiveMaximum:{okStr:"<",ok:Et.LT,fail:Et.GTE},exclusiveMinimum:{okStr:">",ok:Et.GT,fail:Et.LTE}},mm={message:({keyword:t,schemaCode:e})=>(0,on.str)`must be ${an[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,on._)`{comparison: ${an[t].okStr}, limit: ${e}}`},hm={keyword:Object.keys(an),type:"number",schemaType:"number",$data:!0,error:mm,code(t){let{keyword:e,data:r,schemaCode:i}=t;t.fail$data((0,on._)`${r} ${an[e].fail} ${i} || isNaN(${r})`)}};Fo.default=hm});var Ic=S(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});var Ur=V(),gm={message:({schemaCode:t})=>(0,Ur.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Ur._)`{multipleOf: ${t}}`},_m={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:gm,code(t){let{gen:e,data:r,schemaCode:i,it:n}=t,o=n.opts.multipleOfPrecision,a=e.let("res"),s=o?(0,Ur._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,Ur._)`${a} !== parseInt(${a})`;t.fail$data((0,Ur._)`(${i} === 0 || (${a} = ${r}/${i}, ${s}))`)}};Io.default=_m});var Vc=S(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});function Oc(t){let e=t.length,r=0,i=0,n;for(;i<e;)r++,n=t.charCodeAt(i++),n>=55296&&n<=56319&&i<e&&(n=t.charCodeAt(i),(n&64512)===56320&&i++);return r}Oo.default=Oc;Oc.code='require("ajv/dist/runtime/ucs2length").default'});var kc=S(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});var Rt=V(),ym=q(),vm=Vc(),Sm={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return(0,Rt.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,Rt._)`{limit: ${t}}`},bm={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Sm,code(t){let{keyword:e,data:r,schemaCode:i,it:n}=t,o=e==="maxLength"?Rt.operators.GT:Rt.operators.LT,a=n.opts.unicode===!1?(0,Rt._)`${r}.length`:(0,Rt._)`${(0,ym.useFunc)(t.gen,vm.default)}(${r})`;t.fail$data((0,Rt._)`${a} ${o} ${i}`)}};Vo.default=bm});var Nc=S(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});var wm=ke(),sn=V(),Cm={message:({schemaCode:t})=>(0,sn.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,sn._)`{pattern: ${t}}`},zm={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Cm,code(t){let{data:e,$data:r,schema:i,schemaCode:n,it:o}=t,a=o.opts.unicodeRegExp?"u":"",s=r?(0,sn._)`(new RegExp(${n}, ${a}))`:(0,wm.usePattern)(t,i);t.fail$data((0,sn._)`!${s}.test(${e})`)}};ko.default=zm});var Dc=S(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});var Hr=V(),$m={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return(0,Hr.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Hr._)`{limit: ${t}}`},xm={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:$m,code(t){let{keyword:e,data:r,schemaCode:i}=t,n=e==="maxProperties"?Hr.operators.GT:Hr.operators.LT;t.fail$data((0,Hr._)`Object.keys(${r}).length ${n} ${i}`)}};No.default=xm});var Mc=S(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});var Br=ke(),Kr=V(),Em=q(),Tm={message:({params:{missingProperty:t}})=>(0,Kr.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Kr._)`{missingProperty: ${t}}`},Pm={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Tm,code(t){let{gen:e,schema:r,schemaCode:i,data:n,$data:o,it:a}=t,{opts:s}=a;if(!o&&r.length===0)return;let l=r.length>=s.loopRequired;if(a.allErrors?d():c(),s.strictRequired){let p=t.parentSchema.properties,{definedProperties:h}=t.it;for(let u of r)if(p?.[u]===void 0&&!h.has(u)){let g=a.schemaEnv.baseId+a.errSchemaPath,b=`required property "${u}" is not defined at "${g}" (strictRequired)`;(0,Em.checkStrictMode)(a,b,a.opts.strictRequired)}}function d(){if(l||o)t.block$data(Kr.nil,f);else for(let p of r)(0,Br.checkReportMissingProp)(t,p)}function c(){let p=e.let("missing");if(l||o){let h=e.let("valid",!0);t.block$data(h,()=>y(p,h)),t.ok(h)}else e.if((0,Br.checkMissingProp)(t,r,p)),(0,Br.reportMissingProp)(t,p),e.else()}function f(){e.forOf("prop",i,p=>{t.setParams({missingProperty:p}),e.if((0,Br.noPropertyInData)(e,n,p,s.ownProperties),()=>t.error())})}function y(p,h){t.setParams({missingProperty:p}),e.forOf(p,i,()=>{e.assign(h,(0,Br.propertyInData)(e,n,p,s.ownProperties)),e.if((0,Kr.not)(h),()=>{t.error(),e.break()})},Kr.nil)}}};Do.default=Pm});var Rc=S(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});var Gr=V(),Fm={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return(0,Gr.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Gr._)`{limit: ${t}}`},Im={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Fm,code(t){let{keyword:e,data:r,schemaCode:i}=t,n=e==="maxItems"?Gr.operators.GT:Gr.operators.LT;t.fail$data((0,Gr._)`${r}.length ${n} ${i}`)}};Mo.default=Im});var ln=S(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});var jc=lo();jc.code='require("ajv/dist/runtime/equal").default';Ro.default=jc});var Wc=S(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});var jo=kr(),de=V(),Om=q(),Vm=ln(),km={message:({params:{i:t,j:e}})=>(0,de.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,de._)`{i: ${t}, j: ${e}}`},Nm={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:km,code(t){let{gen:e,data:r,$data:i,schema:n,parentSchema:o,schemaCode:a,it:s}=t;if(!i&&!n)return;let l=e.let("valid"),d=o.items?(0,jo.getSchemaTypes)(o.items):[];t.block$data(l,c,(0,de._)`${a} === false`),t.ok(l);function c(){let h=e.let("i",(0,de._)`${r}.length`),u=e.let("j");t.setParams({i:h,j:u}),e.assign(l,!0),e.if((0,de._)`${h} > 1`,()=>(f()?y:p)(h,u))}function f(){return d.length>0&&!d.some(h=>h==="object"||h==="array")}function y(h,u){let g=e.name("item"),b=(0,jo.checkDataTypes)(d,g,s.opts.strictNumbers,jo.DataType.Wrong),R=e.const("indices",(0,de._)`{}`);e.for((0,de._)`;${h}--;`,()=>{e.let(g,(0,de._)`${r}[${h}]`),e.if(b,(0,de._)`continue`),d.length>1&&e.if((0,de._)`typeof ${g} == "string"`,(0,de._)`${g} += "_"`),e.if((0,de._)`typeof ${R}[${g}] == "number"`,()=>{e.assign(u,(0,de._)`${R}[${g}]`),t.error(),e.assign(l,!1).break()}).code((0,de._)`${R}[${g}] = ${h}`)})}function p(h,u){let g=(0,Om.useFunc)(e,Vm.default),b=e.name("outer");e.label(b).for((0,de._)`;${h}--;`,()=>e.for((0,de._)`${u} = ${h}; ${u}--;`,()=>e.if((0,de._)`${g}(${r}[${h}], ${r}[${u}])`,()=>{t.error(),e.assign(l,!1).break(b)})))}}};Wo.default=Nm});var qc=S(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});var qo=V(),Dm=q(),Mm=ln(),Rm={message:"must be equal to constant",params:({schemaCode:t})=>(0,qo._)`{allowedValue: ${t}}`},jm={keyword:"const",$data:!0,error:Rm,code(t){let{gen:e,data:r,$data:i,schemaCode:n,schema:o}=t;i||o&&typeof o=="object"?t.fail$data((0,qo._)`!${(0,Dm.useFunc)(e,Mm.default)}(${r}, ${n})`):t.fail((0,qo._)`${o} !== ${r}`)}};Ao.default=jm});var Ac=S(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});var Yr=V(),Wm=q(),qm=ln(),Am={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Yr._)`{allowedValues: ${t}}`},Lm={keyword:"enum",schemaType:"array",$data:!0,error:Am,code(t){let{gen:e,data:r,$data:i,schema:n,schemaCode:o,it:a}=t;if(!i&&n.length===0)throw new Error("enum must have non-empty array");let s=n.length>=a.opts.loopEnum,l,d=()=>l??(l=(0,Wm.useFunc)(e,qm.default)),c;if(s||i)c=e.let("valid"),t.block$data(c,f);else{if(!Array.isArray(n))throw new Error("ajv implementation error");let p=e.const("vSchema",o);c=(0,Yr.or)(...n.map((h,u)=>y(p,u)))}t.pass(c);function f(){e.assign(c,!1),e.forOf("v",o,p=>e.if((0,Yr._)`${d()}(${r}, ${p})`,()=>e.assign(c,!0).break()))}function y(p,h){let u=n[h];return typeof u=="object"&&u!==null?(0,Yr._)`${d()}(${r}, ${p}[${h}])`:(0,Yr._)`${r} === ${u}`}}};Lo.default=Lm});var Lc=S(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});var Um=Fc(),Hm=Ic(),Bm=kc(),Km=Nc(),Gm=Dc(),Ym=Mc(),Jm=Rc(),Xm=Wc(),Zm=qc(),Qm=Ac(),eh=[Um.default,Hm.default,Bm.default,Km.default,Gm.default,Ym.default,Jm.default,Xm.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Zm.default,Qm.default];Uo.default=eh});var Bo=S(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.validateAdditionalItems=void 0;var jt=V(),Ho=q(),th={message:({params:{len:t}})=>(0,jt.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,jt._)`{limit: ${t}}`},rh={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:th,code(t){let{parentSchema:e,it:r}=t,{items:i}=e;if(!Array.isArray(i)){(0,Ho.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Uc(t,i)}};function Uc(t,e){let{gen:r,schema:i,data:n,keyword:o,it:a}=t;a.items=!0;let s=r.const("len",(0,jt._)`${n}.length`);if(i===!1)t.setParams({len:e.length}),t.pass((0,jt._)`${s} <= ${e.length}`);else if(typeof i=="object"&&!(0,Ho.alwaysValidSchema)(a,i)){let d=r.var("valid",(0,jt._)`${s} <= ${e.length}`);r.if((0,jt.not)(d),()=>l(d)),t.ok(d)}function l(d){r.forRange("i",e.length,s,c=>{t.subschema({keyword:o,dataProp:c,dataPropType:Ho.Type.Num},d),a.allErrors||r.if((0,jt.not)(d),()=>r.break())})}}Jr.validateAdditionalItems=Uc;Jr.default=rh});var Ko=S(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.validateTuple=void 0;var Hc=V(),cn=q(),ih=ke(),nh={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return Bc(t,"additionalItems",e);r.items=!0,!(0,cn.alwaysValidSchema)(r,e)&&t.ok((0,ih.validateArray)(t))}};function Bc(t,e,r=t.schema){let{gen:i,parentSchema:n,data:o,keyword:a,it:s}=t;c(n),s.opts.unevaluated&&r.length&&s.items!==!0&&(s.items=cn.mergeEvaluated.items(i,r.length,s.items));let l=i.name("valid"),d=i.const("len",(0,Hc._)`${o}.length`);r.forEach((f,y)=>{(0,cn.alwaysValidSchema)(s,f)||(i.if((0,Hc._)`${d} > ${y}`,()=>t.subschema({keyword:a,schemaProp:y,dataProp:y},l)),t.ok(l))});function c(f){let{opts:y,errSchemaPath:p}=s,h=r.length,u=h===f.minItems&&(h===f.maxItems||f[e]===!1);if(y.strictTuples&&!u){let g=`"${a}" is ${h}-tuple, but minItems or maxItems/${e} are not specified or different at path "${p}"`;(0,cn.checkStrictMode)(s,g,y.strictTuples)}}}Xr.validateTuple=Bc;Xr.default=nh});var Kc=S(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});var oh=Ko(),ah={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,oh.validateTuple)(t,"items")};Go.default=ah});var Yc=S(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});var Gc=V(),sh=q(),lh=ke(),ch=Bo(),dh={message:({params:{len:t}})=>(0,Gc.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Gc._)`{limit: ${t}}`},uh={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:dh,code(t){let{schema:e,parentSchema:r,it:i}=t,{prefixItems:n}=r;i.items=!0,!(0,sh.alwaysValidSchema)(i,e)&&(n?(0,ch.validateAdditionalItems)(t,n):t.ok((0,lh.validateArray)(t)))}};Yo.default=uh});var Jc=S(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});var De=V(),dn=q(),fh={message:({params:{min:t,max:e}})=>e===void 0?(0,De.str)`must contain at least ${t} valid item(s)`:(0,De.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,De._)`{minContains: ${t}}`:(0,De._)`{minContains: ${t}, maxContains: ${e}}`},ph={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:fh,code(t){let{gen:e,schema:r,parentSchema:i,data:n,it:o}=t,a,s,{minContains:l,maxContains:d}=i;o.opts.next?(a=l===void 0?1:l,s=d):a=1;let c=e.const("len",(0,De._)`${n}.length`);if(t.setParams({min:a,max:s}),s===void 0&&a===0){(0,dn.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,dn.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,dn.alwaysValidSchema)(o,r)){let u=(0,De._)`${c} >= ${a}`;s!==void 0&&(u=(0,De._)`${u} && ${c} <= ${s}`),t.pass(u);return}o.items=!0;let f=e.name("valid");s===void 0&&a===1?p(f,()=>e.if(f,()=>e.break())):a===0?(e.let(f,!0),s!==void 0&&e.if((0,De._)`${n}.length > 0`,y)):(e.let(f,!1),y()),t.result(f,()=>t.reset());function y(){let u=e.name("_valid"),g=e.let("count",0);p(u,()=>e.if(u,()=>h(g)))}function p(u,g){e.forRange("i",0,c,b=>{t.subschema({keyword:"contains",dataProp:b,dataPropType:dn.Type.Num,compositeRule:!0},u),g()})}function h(u){e.code((0,De._)`${u}++`),s===void 0?e.if((0,De._)`${u} >= ${a}`,()=>e.assign(f,!0).break()):(e.if((0,De._)`${u} > ${s}`,()=>e.assign(f,!1).break()),a===1?e.assign(f,!0):e.if((0,De._)`${u} >= ${a}`,()=>e.assign(f,!0)))}}};Jo.default=ph});var Qc=S(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.validateSchemaDeps=it.validatePropertyDeps=it.error=void 0;var Xo=V(),mh=q(),Zr=ke();it.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let i=e===1?"property":"properties";return(0,Xo.str)`must have ${i} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:i}})=>(0,Xo._)`{property: ${t},
    missingProperty: ${i},
    depsCount: ${e},
    deps: ${r}}`};var hh={keyword:"dependencies",type:"object",schemaType:"object",error:it.error,code(t){let[e,r]=gh(t);Xc(t,e),Zc(t,r)}};function gh({schema:t}){let e={},r={};for(let i in t){if(i==="__proto__")continue;let n=Array.isArray(t[i])?e:r;n[i]=t[i]}return[e,r]}function Xc(t,e=t.schema){let{gen:r,data:i,it:n}=t;if(Object.keys(e).length===0)return;let o=r.let("missing");for(let a in e){let s=e[a];if(s.length===0)continue;let l=(0,Zr.propertyInData)(r,i,a,n.opts.ownProperties);t.setParams({property:a,depsCount:s.length,deps:s.join(", ")}),n.allErrors?r.if(l,()=>{for(let d of s)(0,Zr.checkReportMissingProp)(t,d)}):(r.if((0,Xo._)`${l} && (${(0,Zr.checkMissingProp)(t,s,o)})`),(0,Zr.reportMissingProp)(t,o),r.else())}}it.validatePropertyDeps=Xc;function Zc(t,e=t.schema){let{gen:r,data:i,keyword:n,it:o}=t,a=r.name("valid");for(let s in e)(0,mh.alwaysValidSchema)(o,e[s])||(r.if((0,Zr.propertyInData)(r,i,s,o.opts.ownProperties),()=>{let l=t.subschema({keyword:n,schemaProp:s},a);t.mergeValidEvaluated(l,a)},()=>r.var(a,!0)),t.ok(a))}it.validateSchemaDeps=Zc;it.default=hh});var td=S(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});var ed=V(),_h=q(),yh={message:"property name must be valid",params:({params:t})=>(0,ed._)`{propertyName: ${t.propertyName}}`},vh={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:yh,code(t){let{gen:e,schema:r,data:i,it:n}=t;if((0,_h.alwaysValidSchema)(n,r))return;let o=e.name("valid");e.forIn("key",i,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),e.if((0,ed.not)(o),()=>{t.error(!0),n.allErrors||e.break()})}),t.ok(o)}};Zo.default=vh});var ea=S(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});var un=ke(),We=V(),Sh=ft(),fn=q(),bh={message:"must NOT have additional properties",params:({params:t})=>(0,We._)`{additionalProperty: ${t.additionalProperty}}`},wh={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:bh,code(t){let{gen:e,schema:r,parentSchema:i,data:n,errsCount:o,it:a}=t;if(!o)throw new Error("ajv implementation error");let{allErrors:s,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,fn.alwaysValidSchema)(a,r))return;let d=(0,un.allSchemaProperties)(i.properties),c=(0,un.allSchemaProperties)(i.patternProperties);f(),t.ok((0,We._)`${o} === ${Sh.default.errors}`);function f(){e.forIn("key",n,g=>{!d.length&&!c.length?h(g):e.if(y(g),()=>h(g))})}function y(g){let b;if(d.length>8){let R=(0,fn.schemaRefOrVal)(a,i.properties,"properties");b=(0,un.isOwnProperty)(e,R,g)}else d.length?b=(0,We.or)(...d.map(R=>(0,We._)`${g} === ${R}`)):b=We.nil;return c.length&&(b=(0,We.or)(b,...c.map(R=>(0,We._)`${(0,un.usePattern)(t,R)}.test(${g})`))),(0,We.not)(b)}function p(g){e.code((0,We._)`delete ${n}[${g}]`)}function h(g){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){p(g);return}if(r===!1){t.setParams({additionalProperty:g}),t.error(),s||e.break();return}if(typeof r=="object"&&!(0,fn.alwaysValidSchema)(a,r)){let b=e.name("valid");l.removeAdditional==="failing"?(u(g,b,!1),e.if((0,We.not)(b),()=>{t.reset(),p(g)})):(u(g,b),s||e.if((0,We.not)(b),()=>e.break()))}}function u(g,b,R){let D={keyword:"additionalProperties",dataProp:g,dataPropType:fn.Type.Str};R===!1&&Object.assign(D,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(D,b)}}};Qo.default=wh});var nd=S(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});var Ch=Rr(),rd=ke(),ta=q(),id=ea(),zh={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:i,data:n,it:o}=t;o.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&id.default.code(new Ch.KeywordCxt(o,id.default,"additionalProperties"));let a=(0,rd.allSchemaProperties)(r);for(let f of a)o.definedProperties.add(f);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=ta.mergeEvaluated.props(e,(0,ta.toHash)(a),o.props));let s=a.filter(f=>!(0,ta.alwaysValidSchema)(o,r[f]));if(s.length===0)return;let l=e.name("valid");for(let f of s)d(f)?c(f):(e.if((0,rd.propertyInData)(e,n,f,o.opts.ownProperties)),c(f),o.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(f),t.ok(l);function d(f){return o.opts.useDefaults&&!o.compositeRule&&r[f].default!==void 0}function c(f){t.subschema({keyword:"properties",schemaProp:f,dataProp:f},l)}}};ra.default=zh});var ld=S(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});var od=ke(),pn=V(),ad=q(),sd=q(),$h={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:i,parentSchema:n,it:o}=t,{opts:a}=o,s=(0,od.allSchemaProperties)(r),l=s.filter(u=>(0,ad.alwaysValidSchema)(o,r[u]));if(s.length===0||l.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;let d=a.strictSchema&&!a.allowMatchingProperties&&n.properties,c=e.name("valid");o.props!==!0&&!(o.props instanceof pn.Name)&&(o.props=(0,sd.evaluatedPropsToName)(e,o.props));let{props:f}=o;y();function y(){for(let u of s)d&&p(u),o.allErrors?h(u):(e.var(c,!0),h(u),e.if(c))}function p(u){for(let g in d)new RegExp(u).test(g)&&(0,ad.checkStrictMode)(o,`property ${g} matches pattern ${u} (use allowMatchingProperties)`)}function h(u){e.forIn("key",i,g=>{e.if((0,pn._)`${(0,od.usePattern)(t,u)}.test(${g})`,()=>{let b=l.includes(u);b||t.subschema({keyword:"patternProperties",schemaProp:u,dataProp:g,dataPropType:sd.Type.Str},c),o.opts.unevaluated&&f!==!0?e.assign((0,pn._)`${f}[${g}]`,!0):!b&&!o.allErrors&&e.if((0,pn.not)(c),()=>e.break())})})}}};ia.default=$h});var cd=S(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});var xh=q(),Eh={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:i}=t;if((0,xh.alwaysValidSchema)(i,r)){t.fail();return}let n=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),t.failResult(n,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};na.default=Eh});var dd=S(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});var Th=ke(),Ph={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Th.validateUnion,error:{message:"must match a schema in anyOf"}};oa.default=Ph});var ud=S(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});var mn=V(),Fh=q(),Ih={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,mn._)`{passingSchemas: ${t.passing}}`},Oh={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Ih,code(t){let{gen:e,schema:r,parentSchema:i,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&i.discriminator)return;let o=r,a=e.let("valid",!1),s=e.let("passing",null),l=e.name("_valid");t.setParams({passing:s}),e.block(d),t.result(a,()=>t.reset(),()=>t.error(!0));function d(){o.forEach((c,f)=>{let y;(0,Fh.alwaysValidSchema)(n,c)?e.var(l,!0):y=t.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},l),f>0&&e.if((0,mn._)`${l} && ${a}`).assign(a,!1).assign(s,(0,mn._)`[${s}, ${f}]`).else(),e.if(l,()=>{e.assign(a,!0),e.assign(s,f),y&&t.mergeEvaluated(y,mn.Name)})})}}};aa.default=Oh});var fd=S(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});var Vh=q(),kh={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let n=e.name("valid");r.forEach((o,a)=>{if((0,Vh.alwaysValidSchema)(i,o))return;let s=t.subschema({keyword:"allOf",schemaProp:a},n);t.ok(n),t.mergeEvaluated(s)})}};sa.default=kh});var hd=S(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});var hn=V(),md=q(),Nh={message:({params:t})=>(0,hn.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,hn._)`{failingKeyword: ${t.ifClause}}`},Dh={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Nh,code(t){let{gen:e,parentSchema:r,it:i}=t;r.then===void 0&&r.else===void 0&&(0,md.checkStrictMode)(i,'"if" without "then" and "else" is ignored');let n=pd(i,"then"),o=pd(i,"else");if(!n&&!o)return;let a=e.let("valid",!0),s=e.name("_valid");if(l(),t.reset(),n&&o){let c=e.let("ifClause");t.setParams({ifClause:c}),e.if(s,d("then",c),d("else",c))}else n?e.if(s,d("then")):e.if((0,hn.not)(s),d("else"));t.pass(a,()=>t.error(!0));function l(){let c=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);t.mergeEvaluated(c)}function d(c,f){return()=>{let y=t.subschema({keyword:c},s);e.assign(a,s),t.mergeValidEvaluated(y,a),f?e.assign(f,(0,hn._)`${c}`):t.setParams({ifClause:c})}}}};function pd(t,e){let r=t.schema[e];return r!==void 0&&!(0,md.alwaysValidSchema)(t,r)}la.default=Dh});var gd=S(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});var Mh=q(),Rh={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,Mh.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};ca.default=Rh});var _d=S(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});var jh=Bo(),Wh=Kc(),qh=Ko(),Ah=Yc(),Lh=Jc(),Uh=Qc(),Hh=td(),Bh=ea(),Kh=nd(),Gh=ld(),Yh=cd(),Jh=dd(),Xh=ud(),Zh=fd(),Qh=hd(),eg=gd();function tg(t=!1){let e=[Yh.default,Jh.default,Xh.default,Zh.default,Qh.default,eg.default,Hh.default,Bh.default,Uh.default,Kh.default,Gh.default];return t?e.push(Wh.default,Ah.default):e.push(jh.default,qh.default),e.push(Lh.default),e}da.default=tg});var yd=S(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});var ne=V(),rg={message:({schemaCode:t})=>(0,ne.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,ne._)`{format: ${t}}`},ig={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:rg,code(t,e){let{gen:r,data:i,$data:n,schema:o,schemaCode:a,it:s}=t,{opts:l,errSchemaPath:d,schemaEnv:c,self:f}=s;if(!l.validateFormats)return;n?y():p();function y(){let h=r.scopeValue("formats",{ref:f.formats,code:l.code.formats}),u=r.const("fDef",(0,ne._)`${h}[${a}]`),g=r.let("fType"),b=r.let("format");r.if((0,ne._)`typeof ${u} == "object" && !(${u} instanceof RegExp)`,()=>r.assign(g,(0,ne._)`${u}.type || "string"`).assign(b,(0,ne._)`${u}.validate`),()=>r.assign(g,(0,ne._)`"string"`).assign(b,u)),t.fail$data((0,ne.or)(R(),D()));function R(){return l.strictSchema===!1?ne.nil:(0,ne._)`${a} && !${b}`}function D(){let X=c.$async?(0,ne._)`(${u}.async ? await ${b}(${i}) : ${b}(${i}))`:(0,ne._)`${b}(${i})`,I=(0,ne._)`(typeof ${b} == "function" ? ${X} : ${b}.test(${i}))`;return(0,ne._)`${b} && ${b} !== true && ${g} === ${e} && !${I}`}}function p(){let h=f.formats[o];if(!h){R();return}if(h===!0)return;let[u,g,b]=D(h);u===e&&t.pass(X());function R(){if(l.strictSchema===!1){f.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${o}" ignored in schema at path "${d}"`}}function D(I){let Le=I instanceof RegExp?(0,ne.regexpCode)(I):l.code.formats?(0,ne._)`${l.code.formats}${(0,ne.getProperty)(o)}`:void 0,lt=r.scopeValue("formats",{key:o,ref:I,code:Le});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,ne._)`${lt}.validate`]:["string",I,lt]}function X(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!c.$async)throw new Error("async format in sync schema");return(0,ne._)`await ${b}(${i})`}return typeof g=="function"?(0,ne._)`${b}(${i})`:(0,ne._)`${b}.test(${i})`}}}};ua.default=ig});var vd=S(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});var ng=yd(),og=[ng.default];fa.default=og});var Sd=S(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.contentVocabulary=ur.metadataVocabulary=void 0;ur.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];ur.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var wd=S(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});var ag=Pc(),sg=Lc(),lg=_d(),cg=vd(),bd=Sd(),dg=[ag.default,sg.default,(0,lg.default)(),cg.default,bd.metadataVocabulary,bd.contentVocabulary];pa.default=dg});var zd=S(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.DiscrError=void 0;var Cd=function(t){return t.Tag="tag",t.Mapping="mapping",t}(Cd||(gn.DiscrError=Cd={}))});var xd=S(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});var fr=V(),ma=zd(),$d=Xi(),ug=jr(),fg=q(),pg={message:({params:{discrError:t,tagName:e}})=>t===ma.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,fr._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},mg={keyword:"discriminator",type:"object",schemaType:"object",error:pg,code(t){let{gen:e,data:r,schema:i,parentSchema:n,it:o}=t,{oneOf:a}=n;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");let s=i.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let l=e.let("valid",!1),d=e.const("tag",(0,fr._)`${r}${(0,fr.getProperty)(s)}`);e.if((0,fr._)`typeof ${d} == "string"`,()=>c(),()=>t.error(!1,{discrError:ma.DiscrError.Tag,tag:d,tagName:s})),t.ok(l);function c(){let p=y();e.if(!1);for(let h in p)e.elseIf((0,fr._)`${d} === ${h}`),e.assign(l,f(p[h]));e.else(),t.error(!1,{discrError:ma.DiscrError.Mapping,tag:d,tagName:s}),e.endIf()}function f(p){let h=e.name("valid"),u=t.subschema({keyword:"oneOf",schemaProp:p},h);return t.mergeEvaluated(u,fr.Name),h}function y(){var p;let h={},u=b(n),g=!0;for(let X=0;X<a.length;X++){let I=a[X];if(I?.$ref&&!(0,fg.schemaHasRulesButRef)(I,o.self.RULES)){let lt=I.$ref;if(I=$d.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,lt),I instanceof $d.SchemaEnv&&(I=I.schema),I===void 0)throw new ug.default(o.opts.uriResolver,o.baseId,lt)}let Le=(p=I?.properties)===null||p===void 0?void 0:p[s];if(typeof Le!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);g=g&&(u||b(I)),R(Le,X)}if(!g)throw new Error(`discriminator: "${s}" must be required`);return h;function b({required:X}){return Array.isArray(X)&&X.includes(s)}function R(X,I){if(X.const)D(X.const,I);else if(X.enum)for(let Le of X.enum)D(Le,I);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function D(X,I){if(typeof X!="string"||X in h)throw new Error(`discriminator: "${s}" values must be unique strings`);h[X]=I}}}};ha.default=mg});var Ed=S((Lv,hg)=>{hg.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var _a=S((ee,ga)=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.MissingRefError=ee.ValidationError=ee.CodeGen=ee.Name=ee.nil=ee.stringify=ee.str=ee._=ee.KeywordCxt=ee.Ajv=void 0;var gg=Cc(),_g=wd(),yg=xd(),Td=Ed(),vg=["/properties"],_n="http://json-schema.org/draft-07/schema",pr=class extends gg.default{_addVocabularies(){super._addVocabularies(),_g.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(yg.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(Td,vg):Td;this.addMetaSchema(e,_n,!1),this.refs["http://json-schema.org/schema"]=_n}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(_n)?_n:void 0)}};ee.Ajv=pr;ga.exports=ee=pr;ga.exports.Ajv=pr;Object.defineProperty(ee,"__esModule",{value:!0});ee.default=pr;var Sg=Rr();Object.defineProperty(ee,"KeywordCxt",{enumerable:!0,get:function(){return Sg.KeywordCxt}});var mr=V();Object.defineProperty(ee,"_",{enumerable:!0,get:function(){return mr._}});Object.defineProperty(ee,"str",{enumerable:!0,get:function(){return mr.str}});Object.defineProperty(ee,"stringify",{enumerable:!0,get:function(){return mr.stringify}});Object.defineProperty(ee,"nil",{enumerable:!0,get:function(){return mr.nil}});Object.defineProperty(ee,"Name",{enumerable:!0,get:function(){return mr.Name}});Object.defineProperty(ee,"CodeGen",{enumerable:!0,get:function(){return mr.CodeGen}});var bg=Yi();Object.defineProperty(ee,"ValidationError",{enumerable:!0,get:function(){return bg.default}});var wg=jr();Object.defineProperty(ee,"MissingRefError",{enumerable:!0,get:function(){return wg.default}})});var Dd=S(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.formatNames=ot.fastFormats=ot.fullFormats=void 0;function nt(t,e){return{validate:t,compare:e}}ot.fullFormats={date:nt(Od,ba),time:nt(va(!0),wa),"date-time":nt(Pd(!0),kd),"iso-time":nt(va(),Vd),"iso-date-time":nt(Pd(),Nd),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:Tg,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:Ng,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:Pg,int32:{type:"number",validate:Og},int64:{type:"number",validate:Vg},float:{type:"number",validate:Id},double:{type:"number",validate:Id},password:!0,binary:!0};ot.fastFormats=Y(w({},ot.fullFormats),{date:nt(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,ba),time:nt(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,wa),"date-time":nt(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,kd),"iso-time":nt(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Vd),"iso-date-time":nt(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Nd),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i});ot.formatNames=Object.keys(ot.fullFormats);function Cg(t){return t%4===0&&(t%100!==0||t%400===0)}var zg=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,$g=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Od(t){let e=zg.exec(t);if(!e)return!1;let r=+e[1],i=+e[2],n=+e[3];return i>=1&&i<=12&&n>=1&&n<=(i===2&&Cg(r)?29:$g[i])}function ba(t,e){if(t&&e)return t>e?1:t<e?-1:0}var ya=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function va(t){return function(r){let i=ya.exec(r);if(!i)return!1;let n=+i[1],o=+i[2],a=+i[3],s=i[4],l=i[5]==="-"?-1:1,d=+(i[6]||0),c=+(i[7]||0);if(d>23||c>59||t&&!s)return!1;if(n<=23&&o<=59&&a<60)return!0;let f=o-c*l,y=n-d*l-(f<0?1:0);return(y===23||y===-1)&&(f===59||f===-1)&&a<61}}function wa(t,e){if(!(t&&e))return;let r=new Date("2020-01-01T"+t).valueOf(),i=new Date("2020-01-01T"+e).valueOf();if(r&&i)return r-i}function Vd(t,e){if(!(t&&e))return;let r=ya.exec(t),i=ya.exec(e);if(r&&i)return t=r[1]+r[2]+r[3],e=i[1]+i[2]+i[3],t>e?1:t<e?-1:0}var Sa=/t|\s/i;function Pd(t){let e=va(t);return function(i){let n=i.split(Sa);return n.length===2&&Od(n[0])&&e(n[1])}}function kd(t,e){if(!(t&&e))return;let r=new Date(t).valueOf(),i=new Date(e).valueOf();if(r&&i)return r-i}function Nd(t,e){if(!(t&&e))return;let[r,i]=t.split(Sa),[n,o]=e.split(Sa),a=ba(r,n);if(a!==void 0)return a||wa(i,o)}var xg=/\/|:/,Eg=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Tg(t){return xg.test(t)&&Eg.test(t)}var Fd=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function Pg(t){return Fd.lastIndex=0,Fd.test(t)}var Fg=-(2**31),Ig=2**31-1;function Og(t){return Number.isInteger(t)&&t<=Ig&&t>=Fg}function Vg(t){return Number.isInteger(t)}function Id(){return!0}var kg=/[^\\]\\Z/;function Ng(t){if(kg.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var Md=S(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.formatLimitDefinition=void 0;var Dg=_a(),qe=V(),Tt=qe.operators,yn={formatMaximum:{okStr:"<=",ok:Tt.LTE,fail:Tt.GT},formatMinimum:{okStr:">=",ok:Tt.GTE,fail:Tt.LT},formatExclusiveMaximum:{okStr:"<",ok:Tt.LT,fail:Tt.GTE},formatExclusiveMinimum:{okStr:">",ok:Tt.GT,fail:Tt.LTE}},Mg={message:({keyword:t,schemaCode:e})=>(0,qe.str)`should be ${yn[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,qe._)`{comparison: ${yn[t].okStr}, limit: ${e}}`};hr.formatLimitDefinition={keyword:Object.keys(yn),type:"string",schemaType:"string",$data:!0,error:Mg,code(t){let{gen:e,data:r,schemaCode:i,keyword:n,it:o}=t,{opts:a,self:s}=o;if(!a.validateFormats)return;let l=new Dg.KeywordCxt(o,s.RULES.all.format.definition,"format");l.$data?d():c();function d(){let y=e.scopeValue("formats",{ref:s.formats,code:a.code.formats}),p=e.const("fmt",(0,qe._)`${y}[${l.schemaCode}]`);t.fail$data((0,qe.or)((0,qe._)`typeof ${p} != "object"`,(0,qe._)`${p} instanceof RegExp`,(0,qe._)`typeof ${p}.compare != "function"`,f(p)))}function c(){let y=l.schema,p=s.formats[y];if(!p||p===!0)return;if(typeof p!="object"||p instanceof RegExp||typeof p.compare!="function")throw new Error(`"${n}": format "${y}" does not define "compare" function`);let h=e.scopeValue("formats",{key:y,ref:p,code:a.code.formats?(0,qe._)`${a.code.formats}${(0,qe.getProperty)(y)}`:void 0});t.fail$data(f(h))}function f(y){return(0,qe._)`${y}.compare(${r}, ${i}) ${yn[n].fail} 0`}},dependencies:["format"]};var Rg=t=>(t.addKeyword(hr.formatLimitDefinition),t);hr.default=Rg});var qd=S((Qr,Wd)=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});var gr=Dd(),jg=Md(),Ca=V(),Rd=new Ca.Name("fullFormats"),Wg=new Ca.Name("fastFormats"),za=(t,e={keywords:!0})=>{if(Array.isArray(e))return jd(t,e,gr.fullFormats,Rd),t;let[r,i]=e.mode==="fast"?[gr.fastFormats,Wg]:[gr.fullFormats,Rd],n=e.formats||gr.formatNames;return jd(t,n,r,i),e.keywords&&(0,jg.default)(t),t};za.get=(t,e="full")=>{let i=(e==="fast"?gr.fastFormats:gr.fullFormats)[t];if(!i)throw new Error(`Unknown format "${t}"`);return i};function jd(t,e,r,i){var n,o;(n=(o=t.opts.code).formats)!==null&&n!==void 0||(o.formats=(0,Ca._)`require("ajv-formats/dist/formats").${i}`);for(let a of e)t.addFormat(a,r[a])}Wd.exports=Qr=za;Object.defineProperty(Qr,"__esModule",{value:!0});Qr.default=za});var Gd={formatMap:{"date-time":{widget:"date",showTime:!0,format:"yyyy-MM-dd'T'HH:mm:ss.SSSxxx"},date:{widget:"date",format:"yyyy-MM-dd"},"full-date":{widget:"date",format:"yyyy-MM-dd"},time:{widget:"time",format:"HH:mm:ss.SSSxxx"},"full-time":{widget:"time"},week:{widget:"date",mode:"week",format:"yyyy-ww"},month:{widget:"date",mode:"month",format:"yyyy-MM"},uri:{widget:"upload"},email:{widget:"autocomplete",type:"email"},color:{widget:"string",type:"color"},"":{widget:"string"}},ignoreKeywords:["type","enum"],liveValidate:!0,autocomplete:null,firstVisual:!1,onlyVisual:!1,errors:{},ui:{},button:{submit_type:"primary",reset_type:"default"},uiDateStringFormat:"yyyy-MM-dd HH:mm:ss",uiDateNumberFormat:"T",uiTimeStringFormat:"HH:mm:ss",uiTimeNumberFormat:"T",uiEmailSuffixes:["qq.com","163.com","gmail.com","126.com","aliyun.com"],delay:!1};function Jt(t){return t.merge("sf",Gd)}var le="/";function In(t){return t==null}function me(t,e){return t==null?e:`${t}`!="false"}function Xt(t,...e){}function Yd(t,e){let r=/^#\/definitions\/(.*)$/.exec(t);if(r&&r[1]){let i=r[1].split(le),n=e;for(let o of i)if(o=o.replace(/~1/g,le).replace(/~0/g,"~"),Object.prototype.hasOwnProperty.call(n,o))n=n[o];else throw new Error(`Could not find a definition for ${t}.`);return n}throw new Error(`Could not find a definition for ${t}.`)}function Er(t,e={}){if(Object.prototype.hasOwnProperty.call(t,"$ref")){let i=Yd(t.$ref,e),r=t,{$ref:n}=r,o=Fa(r,["$ref"]);return Er(w(w({},i),o),e)}return t}function Us(t,e){let r=(i,n)=>{Jd(i,n),Object.keys(i.properties).forEach(o=>{let a=i.properties[o],s=`$${o}`;a.items&&r(a.items,n[s].$items),a.properties&&r(a,n[s])})};r(t,e)}function Jd(t,e){if(!(Object.prototype.hasOwnProperty.call(t,"if")&&Object.prototype.hasOwnProperty.call(t,"then")))return null;if(!t.if.properties)throw new Error("if: does not contain 'properties'");let r=Object.keys(t.properties),i=Object.keys(t.if.properties);Fn(r,i),Fn(r,t.then.required),t.required=t.required.concat(t.then.required);let n=Object.prototype.hasOwnProperty.call(t,"else");n&&(Fn(r,t.else.required),t.required=t.required.concat(t.else.required));let o={},a={};return i.forEach(s=>{let l=t.if.properties[s].enum;o[s]=l,n&&(a[s]=d=>!l.includes(d))}),t.then.required.forEach(s=>e[`$${s}`].visibleIf=o),n&&t.else.required.forEach(s=>e[`$${s}`].visibleIf=a),t}function Fn(t,e){e.forEach(r=>{if(!t.includes(r))throw new Error(`if: properties does not contain '${r}'`)})}function Hs(t,e){if(!Array.isArray(e))return t;let r=c=>c.reduce((f,y)=>(f[y]=!0,f),{}),i=c=>`property [${c.join("', '")}]`,n=r(t),o=r(e),a=e.filter(c=>c!=="*"&&!n[c]);if(a.length)throw new Error(`ui schema order list contains extraneous ${i(a)}`);let s=t.filter(c=>!o[c]),l=e.indexOf("*");if(l===-1){if(s.length)throw new Error(`ui schema order list does not contain ${i(s)}`);return e}if(l!==e.lastIndexOf("*"))throw new Error("ui schema order list contains more than one wildcard item");let d=[...e];return d.splice(l,1,...s),d}function Bs(t,e,r){return In(t)||!Array.isArray(t)||t.length===0?[]:(typeof t[0]!="object"&&(t=t.map(i=>({label:i,value:i}))),e&&(Array.isArray(e)||(e=[e]),t.forEach(i=>{~e.indexOf(i.value)&&(i.checked=!0)})),r&&t.forEach(i=>i.disabled=!0),t)}function Xd(t,e,r){return Bs(Ft(t||[]),e,r)}function Zt(t,e,r,i){return typeof e.asyncData=="function"?e.asyncData(i).pipe(Ht(n=>Bs(n,r,t.readOnly))):Va(Xd(t.enum,r,t.readOnly))}var Tr=class{constructor(e,r,i,n,o,a,s,l){this.injector=e;this._options=l;this.schema=i,this.ui=n,this.schemaValidator=r.createValidatorFn(i,{ignoreKeywords:this.ui.ignoreKeywords,debug:n.debug}),this.formData=o||i.default,this._parent=a,a?this._root=a.root:this._root=this,this.path=s}_errors=null;_valueChanges=new Ut({path:null,pathValue:null,value:null});_errorsChanges=new Ut(null);_visible=!0;_visibilityChanges=new Ut(!0);_root;_parent;_objErrors={};schemaValidator;schema;ui;formData;_value=null;widget;path;propertyId;get valueChanges(){return this._valueChanges}get errorsChanges(){return this._errorsChanges}get type(){return this.schema.type}get parent(){return this._parent}get root(){return this._root}get value(){return this._value}get errors(){return this._errors}get visible(){return this._visible}get valid(){return this._errors===null||this._errors.length===0}get options(){return this._options}cd(e=!1){this.widget?.detectChanges(e)}updateValueAndValidity(e){e=w({onlySelf:!1,emitValidator:!0,emitValueEvent:!0,updatePath:"",updateValue:null},e),this._updateValue(),e.emitValueEvent&&(e.updatePath=e.updatePath||this.path,e.updateValue=e.updateValue==null?this.value:e.updateValue,this.valueChanges.next({value:this.value,path:e.updatePath,pathValue:e.updateValue})),e.emitValidator&&this.ui.liveValidate===!0&&this._runValidation(),this.parent&&!e.onlySelf&&this.parent.updateValueAndValidity(Y(w({},e),{emitValidator:!1}))}searchProperty(e){let r=this,i=null,n=null;if(e[0]===le)i=this.findRoot(),n=i.getProperty(e.substring(1));else for(;n===null&&r.parent!==null;)r=i=r.parent,n=i.getProperty(e);return n}findRoot(){let e=this;for(;e.parent!==null;)e=e.parent;return e}isEmptyData(e){if(In(e))return!0;switch(this.type){case"string":return`${e}`.length===0}return!1}_runValidation(){let e,r=this.isEmptyData(this._value);r&&this.ui._required?e=[{keyword:"required"}]:r?e=[]:e=this.schemaValidator(this._value)||[];let i=this.ui.validator;if(typeof i=="function"){let n=i(this.value,this,this.findRoot());if(n instanceof Oa){n.subscribe(o=>{this.setCustomErrors(e,o),this.cd(!1)});return}this.setCustomErrors(e,n);return}this._errors=e,this.setErrors(this._errors)}setCustomErrors(e,r){let i=Array.isArray(r)&&r.length>0;i&&r.forEach(n=>{if(!n.message)throw new Error("The custom validator must contain a 'message' attribute to viewed error text");n.keyword=null}),this._errors=i?e.concat(...r):e,this.setErrors(this._errors)}setErrors(e=[],r=!0){let i=Array.isArray(e)?e:[e];if(r&&i&&!this.ui.onlyVisual){let n=this.widget&&this.widget.l.error||{};i=i.map(o=>{let a=o.keyword==null&&o.message?o.message:(this.ui.errors||{})[o.keyword]||this._options.errors[o.keyword]||n[o.keyword]||"";return a&&typeof a=="function"&&(a=a(o)),a&&(~a.indexOf("{")&&o.params&&(a=a.replace(/{([.a-zA-Z0-9]+)}/g,(s,l)=>o.params[l]||"")),o.message=a),o})}this._errors=i,this._errorsChanges.next(i),this._parent&&this._parent.setParentAndPlatErrors(i,this.path)}setParentAndPlatErrors(e,r){this._objErrors[r]=e;let i=[];Object.keys(this._objErrors).forEach(n=>{let o=this.searchProperty(n);o&&!o.visible||i.push(...this._objErrors[n])}),this.setErrors(i,!1)}setVisible(e){return this._visible=e,this._visibilityChanges.next(e),e&&this.injector.get(yt).onStable.pipe(Ma(1)).subscribe(()=>{this.resetValue(this.value,!0)}),this}_bindVisibility(){let e=this.ui.visibleIf;if(typeof e=="object"&&Object.keys(e).length===0)this.setVisible(!1);else if(e!=null){let r=[];for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)){let n=this.searchProperty(i);if(n){let o=n.valueChanges.pipe(Ht(l=>{let d=e[i];if(typeof d=="function"){let c=d(l.value,n);if(typeof c=="object"){let f=w({show:!1,required:!1},c),y=this.parent?.schema.required;if(y&&this.propertyId){let p=y.findIndex(h=>h===this.propertyId);f.required?p===-1&&y.push(this.propertyId):p!==-1&&y.splice(p,1),this.ui._required=f.required}return f.show}return c}return d.indexOf("$ANY$")!==-1?l.value&&l.value.length>0:d.indexOf(l.value)!==-1})),a=n._visibilityChanges,s=$n([o,a]).pipe(Ht(l=>l[0]&&l[1]));r.push(s)}}$n(r).pipe(Ht(i=>this.ui.visibleIfLogical==="and"?i.every(n=>n):i.some(n=>n)),pi()).subscribe(i=>this.setVisible(i))}}updateFeedback(e=""){this.ui.feedback=e,this.widget?.injector.get(Gt).formStatusChanges.next({status:e,hasFeedback:!!e}),this.cd(!0)}},Qe=class t extends Tr{properties=null;getProperty(e){let r=e.indexOf(le),i=r!==-1?e.substring(0,r):e,n=this.properties[i];if(n!==null&&r!==-1&&n instanceof t){let o=e.substring(r+1);n=n.getProperty(o)}return n}forEachChild(e){for(let r in this.properties)if(Object.prototype.hasOwnProperty.call(this.properties,r)){let i=this.properties[r];e(i,r)}}forEachChildRecursive(e){this.forEachChild(r=>{e(r),r instanceof t&&r.forEachChildRecursive(e)})}_bindVisibility(){super._bindVisibility(),this._bindVisibilityRecursive()}_bindVisibilityRecursive(){this.forEachChildRecursive(e=>{e._bindVisibility()})}isRoot(){return this===this.root}};var Qt=class extends Qe{constructor(r,i,n,o,a,s,l,d,c){super(r,n,o,a,s,l,d,c);this.formPropertyFactory=i;this.createProperties()}_propertiesId=[];get propertiesId(){return this._propertiesId}createProperties(){this.properties={},this._propertiesId=[];let r;try{r=Hs(Object.keys(this.schema.properties),this.ui.order)}catch(i){console.error(`Invalid ${this.schema.title||"root"} object field configuration:`,i)}r.forEach(i=>{this.properties[i]=this.formPropertyFactory.createProperty(this.schema.properties[i],this.ui[`$${i}`],(this.formData||{})[i],this,i),this._propertiesId.push(i)})}setValue(r,i){let n=this.properties;for(let o in r)Object.prototype.hasOwnProperty.call(r,o)&&n[o]&&n[o].setValue(r[o],!0);this.cd(i),this.updateValueAndValidity({onlySelf:i,emitValueEvent:!0})}resetValue(r,i){r=r||this.schema.default||{};let n=this.properties;for(let o in this.schema.properties)Object.prototype.hasOwnProperty.call(this.schema.properties,o)&&n[o].resetValue(r[o],!0);this.cd(i),this.updateValueAndValidity({onlySelf:i,emitValueEvent:!0})}_hasValue(){return this.value!=null&&!!Object.keys(this.value).length}_updateValue(){let r={};this.forEachChild((i,n)=>{i.visible&&i._hasValue()&&(r[n]=i.value)}),this._value=r}};var er=class extends Qe{constructor(r,i,n,o,a,s,l,d,c){super(r,n,o,a,s,l,d,c);this.formPropertyFactory=i;this.properties=[]}getProperty(r){let i=r.indexOf(le),n=+(i!==-1?r.substring(0,i):r),o=this.properties;if(isNaN(n)||n>=o.length)return;let a=r.substring(i+1);return o[n].getProperty(a)}setValue(r,i){this.properties=[],this.clearErrors(),this.resetProperties(r),this.cd(i),this.updateValueAndValidity({onlySelf:i,emitValueEvent:!0})}resetValue(r,i){this._value=r||this.schema.default||[],this.setValue(this._value,i)}_hasValue(){return!0}_updateValue(){let r=[];this.forEachChild(i=>{i.visible&&r.push(w(w({},this.widget?.cleanValue?null:i.formData),i.value))}),this._value=r}addProperty(r){let i=this.formPropertyFactory.createProperty(Ft(this.schema.items),Ft(this.ui.$items),r,this);return this.properties.push(i),i}resetProperties(r){for(let i of r)this.addProperty(i).resetValue(i,!0)}clearErrors(r){(r||this)._objErrors={}}add(r){let i=this.addProperty(r);return i.resetValue(r,!1),i}remove(r){let i=this.properties;this.clearErrors(),i.splice(r,1),i.forEach((n,o)=>{n.path=[n.parent.path,o].join(le),this.clearErrors(n),n instanceof Qt&&n.forEachChild(a=>{a.updateValueAndValidity({emitValueEvent:!1})})}),i.length===0&&this.updateValueAndValidity()}};var St=class extends Tr{setValue(e,r){this._value=e,this.cd(r),this.updateValueAndValidity({onlySelf:r,emitValueEvent:!0})}resetValue(e,r){e==null&&(e=this.schema.default!==void 0?this.schema.default:this.fallbackValue()),this._value=e,this.updateValueAndValidity({onlySelf:r,emitValueEvent:!0}),this.widget&&(this.widget.reset(e),this.cd(r))}_hasValue(){return this.fallbackValue()!==this.value}_updateValue(){}};var Oi=class extends St{fallbackValue(){return null}};var Vi=class extends St{fallbackValue(){return null}setValue(e,r){typeof e=="string"&&(e.length?e=e.indexOf(".")>-1?parseFloat(e):parseInt(e,10):e=void 0),this._value=e,this.cd(r),this.updateValueAndValidity({onlySelf:r,emitValueEvent:!0})}};var ki=class extends St{fallbackValue(){return null}setValue(e,r){this._value=e??"",this.cd(r),this.updateValueAndValidity({onlySelf:r,emitValueEvent:!0})}};var tr=class{constructor(e,r,i){this.injector=e;this.schemaValidatorFactory=r;this.options=Jt(i)}options;createProperty(e,r,i,n=null,o){let a=null,s="";if(n)switch(s+=n.path,n.parent!==null&&(s+=le),n.type){case"object":s+=o;break;case"array":s+=n.properties.length;break;default:throw new Error(`Instanciation of a FormProperty with an unknown parent type: ${n.type}`)}else s=le;if(e.$ref){let l=Er(e,n.root.schema.definitions);a=this.createProperty(l,r,i,n,s)}else switch((o&&n.schema.required.indexOf(o.split(le).pop())!==-1||r.showRequired===!0)&&(r._required=!0),e.title==null&&(e.title=o),(e.type==="string"||e.type==="number")&&!e.format&&!r.format?r.widget==="date"?r._format=e.type==="string"?this.options.uiDateStringFormat:this.options.uiDateNumberFormat:r.widget==="time"&&(r._format=e.type==="string"?this.options.uiTimeStringFormat:this.options.uiTimeNumberFormat):r._format=r.format,e.type){case"integer":case"number":a=new Vi(this.injector,this.schemaValidatorFactory,e,r,i,n,s,this.options);break;case"string":a=new ki(this.injector,this.schemaValidatorFactory,e,r,i,n,s,this.options);break;case"boolean":a=new Oi(this.injector,this.schemaValidatorFactory,e,r,i,n,s,this.options);break;case"object":a=new Qt(this.injector,this,this.schemaValidatorFactory,e,r,i,n,s,this.options);break;case"array":a=new er(this.injector,this,this.schemaValidatorFactory,e,r,i,n,s,this.options);break;default:throw new TypeError(`Undefined type ${e.type}`)}return a.propertyId=o,a instanceof Qe&&this.initializeRoot(a),a}initializeRoot(e){e._bindVisibility()}};var It=class{onDestroy;constructor(){this.onDestroy=new Lt}destroy(){this.onDestroy.next(!0)}};var Ad=Ia(_a()),Ld=Ia(qd());var ht=class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$r({token:t,factory:t.\u0275fac})},_r=class t extends ht{ngZone=A(yt);cogSrv=A(Je);ajv;options;constructor(){if(super(),!(typeof document=="object"&&document))return;this.options=Jt(this.cogSrv);let e=this.options.ajv||{};this.ngZone.runOutsideAngular(()=>{this.ajv=new Ad.default(Y(w({allErrors:!0,loopEnum:50},e),{formats:w({"data-url":/^data:([a-z]+\/[a-z0-9-+.]+)?;name=(.*);base64,(.*)$/,color:Pi.color,mobile:Pi.mobile,"id-card":Pi.idCard},e.formats)})),(0,Ld.default)(this.ajv)})}createValidatorFn(e,r){let i=[...this.options.ignoreKeywords,...r.ignoreKeywords||[]];return n=>{try{this.ngZone.runOutsideAngular(()=>this.ajv.validate(e,n))}catch{}let o=this.ajv.errors;return this.options&&i&&o&&(o=o.filter(a=>i.indexOf(a.keyword)===-1)),o}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$r({token:t,factory:t.\u0275fac})};var at=class{_widgets={};defaultWidget;get widgets(){return this._widgets}setDefault(e){this.defaultWidget=e}register(e,r){this._widgets[e]=r}has(e){return Object.prototype.hasOwnProperty.call(this._widgets,e)}getType(e){return this.has(e)?this._widgets[e]:this.defaultWidget}},yr=class t{registry=A(at);createWidget(e,r){this.registry.has(r);let i=this.registry.getType(r);return e.createComponent(i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$r({token:t,factory:t.\u0275fac})};var qg=["target"];function Ag(t,e){}function Lg(t,e){t&1&&Ba(0)}var Ug=0,Ae=class t{widgetFactory=A(yr);terminator=A(It);ref;destroy$=new Lt;widget=null;formProperty;footer=null;container;onWidgetInstanciated(e){this.widget=e;let r=`_sf-${Ug++}`,i=this.formProperty.ui;this.widget.formProperty=this.formProperty,this.widget.schema=this.formProperty.schema,this.widget.ui=i,this.widget.id=r,this.formProperty.widget=e}ngOnInit(){this.terminator.onDestroy.subscribe(()=>this.ngOnDestroy())}ngOnChanges(){let e=this.formProperty;this.ref=this.widgetFactory.createWidget(this.container,e.ui.widget||e.schema.type),this.onWidgetInstanciated(this.ref.instance)}ngOnDestroy(){let{destroy$:e}=this;e.next(),e.complete(),this.ref.destroy()}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=U({type:t,selectors:[["sf-item"]],viewQuery:function(r,i){if(r&1&&Ka(qg,7,Ua),r&2){let n;Ga(n=Ya())&&(i.container=n.first)}},hostVars:2,hostBindings:function(r,i){r&2&&ae("sf__item",!0)},inputs:{formProperty:"formProperty",footer:"footer"},exportAs:["sfItem"],standalone:!1,features:[bi([Gt]),_t],decls:3,vars:1,consts:[["target",""],[4,"ngTemplateOutlet"]],template:function(r,i){r&1&&$(0,Ag,0,0,"ng-template",null,0,Ce)(2,Lg,1,0,"ng-container",1),r&2&&(v(2),_("ngTemplateOutlet",i.footer))},dependencies:[ze],encapsulation:2})};var Wt=class t{el=A(gi).nativeElement;render=A(Aa);_inited=!1;num;init(){if(!this._inited||this.num==null||this.num<=0)return;let e=this.el,r=e.querySelector(".ant-row")||e;this.render.addClass(r,"sf__fixed");let i=r.querySelector(".ant-form-item-label"),n=r.querySelector(".ant-form-item-control-wrapper,.ant-form-item-control"),o=`${this.num}px`;i?(this.render.setStyle(i,"flex",`0 0 ${o}`),this.render.setStyle(n,"max-width",`calc(100% - ${o})`)):this.render.setStyle(n,"margin-left",o)}ngAfterViewInit(){this._inited=!0,this.init()}ngOnChanges(){this._inited&&this.init()}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ct({type:t,selectors:[["","fixed-label",""]],inputs:{num:[2,"fixed-label","num",e=>Xa(e,0)]},standalone:!1,features:[_i,_t]})};var Kg=["*"];function Gg(t,e){t&1&&Si(0)}function Yg(t,e){if(t&1&&H(0,"nz-icon",11),t&2){let r=m(5);_("nzType",r._btn.submit_icon.type)("nzTheme",r._btn.submit_icon.theme)("nzTwotoneColor",r._btn.submit_icon.twoToneColor)("nzIconfont",r._btn.submit_icon.iconfont)}}function Jg(t,e){if(t&1&&H(0,"nz-icon",11),t&2){m();let r=xr(1);_("nzType",r.type)("nzTheme",r.theme)("nzTwotoneColor",r.twoToneColor)("nzIconfont",r.iconfont)}}function Xg(t,e){if(t&1){let r=te();C(0,"button",13),L("click",function(){P(r);let n=m(5);return F(n.reset(!0))}),xn(1),$(2,Jg,1,4,"nz-icon",11),Z(3),z()}if(t&2){m(3);let r=xr(0),i=m(2);_("nzType",i._btn.reset_type)("nzSize",r.size)("disabled",i.loading),v();let n=En(i._btn.reset_icon);v(),E(n?2:-1),v(),se(" ",i._btn.reset," ")}}function Zg(t,e){if(t&1&&(C(0,"button",10),$(1,Yg,1,4,"nz-icon",11),Z(2),z(),$(3,Xg,4,6,"button",12)),t&2){m(2);let r=xr(0),i=m(2);_("nzType",i._btn.submit_type)("nzSize",r.size)("nzLoading",i.loading)("disabled",i.liveValidate&&!i.valid),v(),E(i._btn.submit_icon?1:-1),v(),se(" ",i._btn.submit," "),v(),E(i._btn.reset?3:-1)}}function Qg(t,e){}function e_(t,e){if(t&1&&$(0,Qg,0,0,"ng-template",4),t&2){m(4);let r=ue(1);_("ngTemplateOutlet",r)}}function t_(t,e){if(t&1&&(C(0,"nz-form-item",6)(1,"div",7)(2,"div",8)(3,"div",9),$(4,Zg,4,7)(5,e_,1,1,null,4),z()()()()),t&2){m();let r=xr(0),i=m(2);He(r.class),_("fixed-label",r.spanLabelFixed),v(),_("nzSpan",i.btnGrid.span)("nzOffset",i.btnGrid.offset)("nzXs",i.btnGrid.xs)("nzSm",i.btnGrid.sm)("nzMd",i.btnGrid.md)("nzLg",i.btnGrid.lg)("nzXl",i.btnGrid.xl)("nzXXl",i.btnGrid.xxl),v(3),E(i.button?4:5)}}function r_(t,e){if(t&1&&(xn(0),$(1,t_,6,12,"nz-form-item",5)),t&2){let r=En(m(2)._btn.render);v(),E(r?1:-1)}}function i_(t,e){}function n_(t,e){if(t&1&&$(0,i_,0,0,"ng-template",4),t&2){m(2);let r=ue(1);_("ngTemplateOutlet",r)}}function o_(t,e){if(t&1&&$(0,r_,2,2)(1,n_,1,1,null,4),t&2){let r=m();E(r.button!=="none"?0:1)}}function a_(t,e){if(t&1&&H(0,"sf-item",3),t&2){let r=m(),i=ue(3);_("formProperty",r.rootProperty)("footer",i)}}function s_(t,e,r){return new tr(t,e,r)}var qt=class t{formPropertyFactory=A(tr);terminator=A(It);dom=A(Ci);cdr=A(wi);localeSrv=A(rs);aclSrv=A(Qa);i18nSrv=A(es);platform=A(ts);_renders=new Map;_item;_valid=!0;_defUi;options;_inited=!1;locale={};rootProperty=null;_formData;_btn;_schema;_ui;get btnGrid(){return this._btn.render.grid}layout="horizontal";schema;ui;formData;button={};liveValidate=!0;autocomplete;firstVisual=!0;onlyVisual=!1;compact=!1;set mode(e){switch(e){case"search":this.layout="inline",this.firstVisual=!1,this.liveValidate=!1,this._btn&&(this._btn.submit=this._btn.search);break;case"edit":this.layout="horizontal",this.firstVisual=!1,this.liveValidate=!0,this._btn&&(this._btn.submit=this._btn.edit);break}this._mode=e}get mode(){return this._mode}_mode;loading=!1;disabled=!1;noColon=!1;cleanValue=!1;delay=!1;formValueChange=new Bt;formChange=new Bt;formSubmit=new Bt;formReset=new Bt;formError=new Bt;get valid(){return this._valid}get value(){return this._item}getProperty(e){return this.rootProperty?.searchProperty(e)}getValue(e){return this.getProperty(e)?.value}setValue(e,r){let i=this.getProperty(e);if(!i)throw new Error(`Invalid path: ${e}`);return i.resetValue(r,!1),this}setDisabled(e,r){let i=this.getProperty(e);if(!i)throw new Error(`Invalid path: ${e}`);return i.schema.readOnly=r,i.widget.detectChanges(),this}setRequired(e,r){let i=this.getProperty(e);if(!i)throw new Error(`Invalid path: ${e}`);let n=e.split(le).pop(),o=i.parent?.schema.required||[],a=o.findIndex(s=>s===n);return r?a===-1&&o.push(n):a!==-1&&o.splice(a,1),i.parent.schema.required=o,i.ui._required=r,i.widget.detectChanges(),this.validator({onlyRoot:!1}),this}updateFeedback(e,r=""){return this.getProperty(e)?.updateFeedback(r),this}onSubmit(e){e.preventDefault(),e.stopPropagation(),this.liveValidate||this.validator(),this.valid&&this.formSubmit.emit(this.value)}constructor(e){this.options=Jt(e),this.liveValidate=this.options.liveValidate,this.firstVisual=this.options.firstVisual,this.autocomplete=this.options.autocomplete,this.delay=this.options.delay,this.localeSrv.change.pipe(Pn()).subscribe(()=>{this.locale=this.localeSrv.getData("sf"),this._inited&&(this.validator({emitError:!1,onlyRoot:!1}),this.coverButtonProperty(),this.cdr.markForCheck())}),ka(this.aclSrv.change,this.i18nSrv.change).pipe(Na(()=>this._inited),Pn()).subscribe(()=>this.refreshSchema())}fanyi(e){return this.i18nSrv.fanyi(e)||e}inheritUI(e){["optionalHelp"].filter(r=>!!this._defUi[r]).forEach(r=>e[r]=w(w({},this._defUi[r]),e[r]))}coverProperty(){let e=this.layout==="horizontal",r=Ft(this.schema),{definitions:i}=r,n=(o,a,s,l,d)=>{Array.isArray(o.required)||(o.required=[]),Object.keys(o.properties).forEach(c=>{let f="$",y=f+c,p=Er(o.properties[c],i),h=w(w({},p.ui),s[y]),u=w(w(w(w(Y(w(w({},this._defUi),l),{visibleIf:void 0,hidden:void 0,optional:void 0,optionalHelp:void 0,widget:p.type}),p.format&&this.options.formatMap[p.format]),typeof p.ui=="string"?{widget:p.ui}:null),!p.format&&!p.ui&&Array.isArray(p.enum)&&p.enum.length>0?{widget:"select"}:null),h);if(Object.keys(u).filter(g=>g.startsWith(f)).forEach(g=>delete u[g]),e?l.spanLabelFixed?h.spanLabelFixed||(u.spanLabelFixed=l.spanLabelFixed):(u.spanLabel||(u.spanLabel=typeof l.spanLabel>"u"?5:l.spanLabel),u.spanControl||(u.spanControl=typeof l.spanControl>"u"?19:l.spanControl),u.offsetControl||(u.offsetControl=typeof l.offsetControl>"u"?null:l.offsetControl)):(u.spanLabel=null,u.spanControl=null,u.offsetControl=null),this.layout==="inline"&&delete u.grid,this.layout!=="horizontal"&&(u.spanLabelFixed=null),u.spanLabelFixed!=null&&u.spanLabelFixed>0&&(u.spanLabel=null,u.spanControl=null),u.widget==="date"&&u.end!=null){let g=o.properties[u.end];g?g.ui=Y(w({},g.ui),{widget:u.widget,hidden:!0}):u.end=null}if(this.inheritUI(u),u.optionalHelp){typeof u.optionalHelp=="string"&&(u.optionalHelp={text:u.optionalHelp});let g=u.optionalHelp=w({text:"",icon:"question-circle",placement:"top",trigger:"hover",mouseEnterDelay:.15,mouseLeaveDelay:.1},u.optionalHelp);g.i18n&&(g.text=this.fanyi(g.i18n)),g.text||(u.optionalHelp=void 0)}if(u.i18n&&(p.title=this.fanyi(u.i18n)),u.descriptionI18n&&(p.description=this.fanyi(u.descriptionI18n)),p.description&&(u._description=this.dom.bypassSecurityTrustHtml(p.description)),u.hidden=typeof u.hidden=="boolean"?u.hidden:!1,u.hidden===!1&&u.acl&&this.aclSrv&&!this.aclSrv.can(u.acl)&&(u.hidden=!0),d[y]=u,delete p.ui,u.hidden===!0){let g=o.required.indexOf(c);g!==-1&&o.required.splice(g,1)}p.items&&(u.$items=w(w(w({},p.items.ui),s[y]),u.$items),n(p.items,p.items,s[y]?.$items??{},u.$items,u.$items)),p.properties&&Object.keys(p.properties).length&&n(p,o,s[y]||{},u,u)})};this.ui==null&&(this.ui={}),this._defUi=w(w(w({onlyVisual:this.options.onlyVisual,size:this.options.size,liveValidate:this.liveValidate},this.options.ui),r.ui),this.ui["*"]),this.onlyVisual===!0&&(this._defUi.onlyVisual=!0),this.layout==="inline"&&delete this._defUi.grid,this._ui=w({},this._defUi),n(r,r,this.ui,this.ui,this._ui),Us(r,this._ui),this._schema=r,delete r.ui,Xt(this._ui,"cover schema & ui",this._ui,r)}coverButtonProperty(){this._btn=w(w(w({render:{size:"default"}},this.locale),this.options.button),this.button);let e=Object.keys(this._ui).find(i=>i.startsWith("$")),r=this._btn.render;if(this.layout==="horizontal"){let i=e?this._ui[e]:this._defUi;r.grid||(r.grid={offset:i.spanLabel,span:i.spanControl}),r.spanLabelFixed==null&&(r.spanLabelFixed=i.spanLabelFixed),!r.class&&typeof i.spanLabelFixed=="number"&&i.spanLabelFixed>0&&(r.class="text-center")}else r.grid={};this._mode&&(this.mode=this._mode),Xt(this._ui,"button property",this._btn)}ngOnInit(){this.platform.isBrowser&&(this.validator(),this._inited=!0)}ngOnChanges(e){if(!this.platform.isBrowser)return;let r=["disabled","loading"];if(Object.keys(e).every(i=>r.includes(i))){this.cdr.detectChanges();return}this.delay||this.refreshSchema()}_addTpl(e,r){this._inited&&(this._renders.has(e)||(this._renders.set(e,r),this.attachCustomRender()))}attachCustomRender(){this._renders.forEach((e,r)=>{let i=this.rootProperty?.searchProperty(r);i!=null&&(i.ui._render=e)})}validator(e={emitError:!0,onlyRoot:!0}){if(this.rootProperty==null||!this.platform.isBrowser)return!1;let r=n=>{n._runValidation(),!(!(n instanceof Qe)||!n.properties)&&(Array.isArray(n.properties)?n.properties.forEach(o=>r(o)):Object.keys(n.properties).forEach(o=>r(n.properties[o])))};e.onlyRoot?this.rootProperty._runValidation():r(this.rootProperty);let i=this.rootProperty.errors;return this._valid=!(i&&i.length),e.emitError&&!this._valid&&this.formError.emit(i),this.cdr.detectChanges(),this._valid}refreshSchema(e,r){if(!this.platform.isBrowser)return this;if(e&&(this.schema=e),r&&(this.ui=r),!this.schema||typeof this.schema.properties>"u")throw new Error("Invalid Schema");if(this.schema.ui&&typeof this.schema.ui=="string")throw new Error("Don't support string with root ui property");this.schema.type="object",this._formData=w({},this.formData),this._inited&&this.terminator.destroy(),this.cleanRootSub(),this.coverProperty(),this.coverButtonProperty(),this.rootProperty=this.formPropertyFactory.createProperty(this._schema,this._ui,this.formData),this.attachCustomRender(),this.cdr.detectChanges(),this.reset();let i=!0;return this.rootProperty.valueChanges.subscribe(n=>{if(this._item=w(w({},this.cleanValue?null:this.formData),n.value),i){i=!1;return}this.formChange.emit(this._item),this.formValueChange.emit({value:this._item,path:n.path,pathValue:n.pathValue})}),this.rootProperty.errorsChanges.subscribe(n=>{this._valid=!(n&&n.length),this.formError.emit(n),this.cdr.detectChanges()}),this}reset(e=!1){return this.rootProperty==null||!this.platform.isBrowser?this:(this.rootProperty.resetValue(this.formData,!1),Promise.resolve().then(()=>this.cdr.detectChanges()),e&&this.formReset.emit(this.value),this)}cleanRootSub(){this.rootProperty&&(this.rootProperty.errorsChanges.unsubscribe(),this.rootProperty.valueChanges.unsubscribe())}ngOnDestroy(){this.cleanRootSub(),this.terminator.destroy()}static \u0275fac=function(r){return new(r||t)(La(Je))};static \u0275cmp=U({type:t,selectors:[["sf"],["","sf",""]],hostVars:16,hostBindings:function(r,i){r&2&&ae("sf",!0)("sf__inline",i.layout==="inline")("sf__horizontal",i.layout==="horizontal")("sf__search",i.mode==="search")("sf__edit",i.mode==="edit")("sf__no-error",i.onlyVisual)("sf__no-colon",i.noColon)("sf__compact",i.compact)},inputs:{layout:"layout",schema:"schema",ui:"ui",formData:"formData",button:"button",liveValidate:[2,"liveValidate","liveValidate",Ye],autocomplete:"autocomplete",firstVisual:[2,"firstVisual","firstVisual",Ye],onlyVisual:[2,"onlyVisual","onlyVisual",Ye],compact:[2,"compact","compact",Ye],mode:"mode",loading:[2,"loading","loading",Ye],disabled:[2,"disabled","disabled",Ye],noColon:[2,"noColon","noColon",Ye],cleanValue:[2,"cleanValue","cleanValue",Ye],delay:[2,"delay","delay",Ye]},outputs:{formValueChange:"formValueChange",formChange:"formChange",formSubmit:"formSubmit",formReset:"formReset",formError:"formError"},exportAs:["sf"],standalone:!1,features:[bi([yr,{provide:tr,useFactory:s_,deps:[hi,ht,Je]},It]),_i,_t],ngContentSelectors:Kg,decls:6,vars:3,consts:[["con",""],["btnTpl",""],["nz-form","",3,"submit","nzLayout"],[3,"formProperty","footer"],[3,"ngTemplateOutlet"],[1,"sf-btns",3,"class","fixed-label"],[1,"sf-btns",3,"fixed-label"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["type","submit","nz-button","","data-type","submit",3,"nzType","nzSize","nzLoading","disabled"],[3,"nzType","nzTheme","nzTwotoneColor","nzIconfont"],["type","button","nz-button","","data-type","reset",3,"nzType","nzSize","disabled"],["type","button","nz-button","","data-type","reset",3,"click","nzType","nzSize","disabled"]],template:function(r,i){if(r&1){let n=te();vi(),$(0,Gg,1,0,"ng-template",null,0,Ce)(2,o_,2,1,"ng-template",null,1,Ce),C(4,"form",2),L("submit",function(a){return P(n),F(i.onSubmit(a))}),$(5,a_,1,2,"sf-item",3),z()}r&2&&(v(4),_("nzLayout",i.layout),Ie("autocomplete",i.autocomplete),v(),E(i.rootProperty?5:-1))},dependencies:[ze,ds,ls,cs,xi,$e,$i,Ze,Xe,Rs,Yt,Oe,Ae,Wt],encapsulation:2,changeDetection:0})};var l_=["*"];function c_(t,e){if(t&1&&H(0,"nz-icon",9),t&2){let r=m(4);_("nzTooltipTitle",r.oh.text)("nzTooltipPlacement",r.oh.placement)("nzTooltipTrigger",r.oh.trigger)("nzTooltipColor",r.oh.bgColor)("nzTooltipOverlayClassName",r.oh.overlayClassName)("nzTooltipOverlayStyle",r.oh.overlayStyle)("nzTooltipMouseEnterDelay",r.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",r.oh.mouseLeaveDelay)("nzType",r.oh.icon)}}function d_(t,e){if(t&1&&(C(0,"span",8),Z(1),$(2,c_,1,9,"nz-icon",9),z()),t&2){let r=m(3);v(),se(" ",r.ui.optional," "),v(),E(r.oh?2:-1)}}function u_(t,e){if(t&1&&(C(0,"label")(1,"span",7),Z(2),z(),$(3,d_,3,2,"span",8),z()),t&2){let r=m(2);ae("ant-form-item-required",r.ui._required),Ie("for",r.id),v(2),Kt(r.t),v(),E(r.ui.optional||r.oh?3:-1)}}function f_(t,e){if(t&1&&(C(0,"div",0),$(1,u_,4,5,"label",6),z()),t&2){let r=m();_("nzSpan",r.ui.spanLabel),v(),E(r.t?1:-1)}}function p_(t,e){if(t&1&&(C(0,"div",4)(1,"div",10),Z(2),z()()),t&2){let r=m();_("@helpMotion",void 0),v(2),se(" ",r.error," ")}}function m_(t,e){if(t&1&&H(0,"div",5),t&2){let r=m();_("innerHTML",r.ui._description,Ue)}}var re=class t{statusSrv=A(Gt);_showTitle=!1;id;schema;ui;showError;error;set showTitle(e){this._showTitle=!!e}title=null;get t(){return this.title===null?this.schema.title:this.title}get oh(){return this.ui.optionalHelp}ngOnChanges(){let e=!!this.error;this.statusSrv.formStatusChanges.next({status:e?"error":"",hasFeedback:!!this.ui.feedback})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=U({type:t,selectors:[["sf-item-wrap"]],inputs:{id:"id",schema:"schema",ui:"ui",showError:"showError",error:"error",showTitle:"showTitle",title:"title"},standalone:!1,features:[_t],ngContentSelectors:l_,decls:8,vars:21,consts:[["nz-col","",1,"ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control",3,"nzSpan","nzOffset"],[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],[1,"ant-form-item-extra",3,"innerHTML"],[3,"ant-form-item-required"],[1,"sf__label-text"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],["role","alert",1,"ant-form-item-explain-error"]],template:function(r,i){r&1&&(vi(),C(0,"nz-form-item"),$(1,f_,2,2,"div",0),C(2,"div",1)(3,"div",2)(4,"div",3),Si(5),z()(),$(6,p_,3,2,"div",4)(7,m_,1,1,"div",5),z()()),r&2&&(yi("width",i.ui.width,"px"),ae("ant-form-item-has-error",i.showError)("ant-form-item-with-help",i.showError)("ant-form-item-has-success",i.ui.feedback==="success")("ant-form-item-has-warning",i.ui.feedback==="warning")("ant-form-item-has-error",i.ui.feedback==="error")("ant-form-item-is-validating",i.ui.feedback==="validating")("ant-form-item-has-feedback",i.ui.feedback),v(),E(i._showTitle?1:-1),v(),_("nzSpan",i.ui.spanControl)("nzOffset",i.ui.offsetControl),v(4),E(!i.ui.onlyVisual&&i.showError?6:-1),v(),E(i.schema.description?7:-1))},dependencies:[$e,Ze,Xe,Yt,Oe,vt],encapsulation:2,data:{animation:[as]}})};var Ea=class t{table=A(qt);templateRef=A(qa);path;ngOnInit(){this.table._addTpl(this.path.startsWith(le)?this.path:le+this.path,this.templateRef)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ct({type:t,selectors:[["","sf-template",""]],inputs:{path:[0,"sf-template","path"]},standalone:!1})};var ti=class t{cd=A(wi);injector=A(hi);sfItemComp=A(Ae);sfComp=A(qt);formProperty;error;showError=!1;id="";schema;ui;get cls(){return this.ui.class||""}get disabled(){return!!(this.schema.readOnly===!0||this.sfComp.disabled)}get l(){return this.formProperty.root.widget.sfComp.locale}get oh(){return this.ui.optionalHelp}get dom(){return this.injector.get(Ci)}get cleanValue(){return this.sfComp.cleanValue}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(gt(this.sfItemComp.destroy$)).subscribe(e=>{if(e==null)return;Xt(this.ui,"errorsChanges",this.formProperty.path,e);let r=this.sfComp?.firstVisual;(r||!r&&this.sfComp?._inited)&&(this.showError=e.length>0,this.error=this.showError?e[0].message:"",this.cd.detectChanges())}),this.afterViewInit()}setValue(e){this.formProperty.setValue(e,!1),Xt(this.ui,"valueChanges",this.formProperty.path,this.formProperty)}get value(){return this.formProperty.value}detectChanges(e=!1){e?this.cd.markForCheck():this.formProperty.root.widget?.cd.markForCheck()}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ct({type:t,hostVars:2,hostBindings:function(r,i){r&2&&He(i.cls)}})};var ie=class t extends ti{reset(e){}afterViewInit(){}static \u0275fac=(()=>{let e;return function(i){return(e||(e=B(t)))(i||t)}})();static \u0275dir=ct({type:t,features:[K]})},Sn=class t extends ti{reset(e){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(gt(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}static \u0275fac=(()=>{let e;return function(i){return(e||(e=B(t)))(i||t)}})();static \u0275dir=ct({type:t,features:[K]})},bn=class t extends ti{reset(e){}afterViewInit(){}ngAfterViewInit(){this.formProperty.errorsChanges.pipe(gt(this.sfItemComp.destroy$)).subscribe(()=>this.cd.detectChanges())}static \u0275fac=(()=>{let e;return function(i){return(e||(e=B(t)))(i||t)}})();static \u0275dir=ct({type:t,features:[K]})};function g_(t,e){if(t&1&&H(0,"nz-icon",7),t&2){let r=m(2);_("nzTooltipTitle",r.oh.text)("nzTooltipPlacement",r.oh.placement)("nzTooltipTrigger",r.oh.trigger)("nzTooltipOverlayClassName",r.oh.overlayClassName)("nzTooltipOverlayStyle",r.oh.overlayStyle)("nzTooltipMouseEnterDelay",r.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",r.oh.mouseLeaveDelay)("nzType",r.oh.icon)}}function __(t,e){if(t&1){let r=te();C(0,"div",0)(1,"label"),Z(2),C(3,"span",6),Z(4),$(5,g_,1,8,"nz-icon",7),z()(),C(6,"div",8)(7,"button",9),L("click",function(){P(r);let n=m();return F(n.addItem())}),z()()()}if(t&2){let r=m();_("nzSpan",r.ui.spanLabel),v(),ae("ant-form-item-required",r.ui.required),v(),se(" ",r.schema.title," "),v(2),se(" ",r.ui.optional," "),v(),E(r.oh?5:-1),v(2),_("nzType",r.addType)("disabled",r.addDisabled)("innerHTML",r.addTitle,Ue)}}function y_(t,e){if(t&1){let r=te();C(0,"span",13),L("click",function(){P(r);let n=m(2).$index,o=m();return F(o.removeItem(n))}),H(1,"nz-icon",14),z()}if(t&2){let r=m(3);Ie("title",r.removeTitle)}}function v_(t,e){if(t&1&&(C(0,"div",10)(1,"nz-card"),H(2,"sf-item",11),$(3,y_,2,1,"span",12),z()()),t&2){let r=m(),i=r.$implicit,n=r.$index,o=m();_("nzSpan",o.arraySpan),Ie("data-index",n),v(2),_("formProperty",i),v(),E(o.showRemove?3:-1)}}function S_(t,e){if(t&1&&$(0,v_,4,4,"div",10),t&2){let r=e.$implicit;E(r.visible&&!r.ui.hidden?0:-1)}}function b_(t,e){if(t&1&&(C(0,"div",4),Z(1),z()),t&2){let r=m();v(),Kt(r.error)}}function w_(t,e){if(t&1&&H(0,"div",5),t&2){let r=m();_("innerHTML",r.ui._description,Ue)}}var ri=class t extends Sn{addTitle;addType;removeTitle;arraySpan=8;get addDisabled(){return this.disabled||this.schema.maxItems!=null&&this.formProperty.properties.length>=this.schema.maxItems}get showRemove(){return!(this.disabled||!this.removeTitle||this.schema.minItems!=null&&this.formProperty.properties.length<=this.schema.minItems)}ngOnInit(){let{grid:e,addTitle:r,addType:i,removable:n,removeTitle:o}=this.ui;e&&e.arraySpan&&(this.arraySpan=e.arraySpan),this.addTitle=this.dom.bypassSecurityTrustHtml(r||this.l.addText),this.addType=i||"dashed",this.removeTitle=n===!1?null:o||this.l.removeText}reValid(e){this.formProperty.updateValueAndValidity(w({onlySelf:!1,emitValueEvent:!1,emitValidator:!0},e))}addItem(){let e=this.formProperty.add({});this.reValid(),this.ui.add?.(e)}removeItem(e){let r=this.formProperty.properties[e].path;this.formProperty.remove(e),this.reValid({updatePath:r,emitValueEvent:!0}),this.ui.remove?.(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=B(t)))(i||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-array"]],hostVars:2,hostBindings:function(r,i){r&2&&ae("sf__array",!0)},standalone:!1,features:[K],decls:9,vars:9,consts:[["nz-col","",1,"ant-form-item-label",3,"nzSpan"],["nz-col","",1,"ant-form-item-control-wrapper",3,"nzSpan","nzOffset"],[1,"ant-form-item-control"],["nz-row","",1,"sf__array-container"],[1,"ant-form-explain"],[1,"ant-form-extra",3,"innerHTML"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__array-add"],["type","button","nz-button","",3,"click","nzType","disabled","innerHTML"],["nz-col","",1,"sf__array-item",3,"nzSpan"],[3,"formProperty"],[1,"sf__array-remove"],[1,"sf__array-remove",3,"click"],["nzType","delete"]],template:function(r,i){r&1&&(C(0,"nz-form-item"),$(1,__,8,9,"div",0),C(2,"div",1)(3,"div",2)(4,"div",3),be(5,S_,1,1,null,null,Se),z(),$(7,b_,2,1,"div",4)(8,w_,1,1,"div",5),z()()()),r&2&&(ae("ant-form-item-with-help",i.showError),v(),E(i.schema.title?1:-1),v(),_("nzSpan",i.ui.spanControl)("nzOffset",i.ui.offsetControl),v(),ae("has-error",i.showError),v(2),we(i.formProperty.properties),v(2),E(!i.ui.onlyVisual&&i.showError?7:-1),v(),E(i.schema.description?8:-1))},dependencies:[xi,$e,$i,Ii,Ze,Xe,Yt,Oe,vt,Ae],encapsulation:2})};var ii=class t extends ie{static \u0275fac=(()=>{let e;return function(i){return(e||(e=B(t)))(i||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-boolean"]],standalone:!1,features:[K],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","ngModel","nzDisabled","nzSize","nzCheckedChildren","nzUnCheckedChildren","nzLoading"]],template:function(r,i){r&1&&(C(0,"sf-item-wrap",0)(1,"nz-switch",1),L("ngModelChange",function(o){return i.setValue(o)}),z()()),r&2&&(_("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),v(),_("ngModel",i.value)("nzDisabled",i.disabled)("nzSize",i.ui.size)("nzCheckedChildren",i.ui.checkedChildren)("nzUnCheckedChildren",i.ui.unCheckedChildren)("nzLoading",i.ui.loading))},dependencies:[fe,pe,qs,re],encapsulation:2})};function C_(t,e){if(t&1){let r=te();C(0,"label",3),Ge("ngModelChange",function(n){P(r);let o=m(2);return Ke(o.allChecked,n)||(o.allChecked=n),F(n)}),L("ngModelChange",function(){P(r);let n=m(2);return F(n.onAllChecked())}),Z(1),z()}if(t&2){let r=m(2);Be("ngModel",r.allChecked),_("nzIndeterminate",r.indeterminate),v(),se(" ",r.ui.checkAllText||r.l.checkAllText," ")}}function z_(t,e){if(t&1&&$(0,C_,2,3,"label",2),t&2){let r=m();E(r.ui.checkAll?0:-1)}}function $_(t,e){if(t&1&&H(0,"nz-icon",7),t&2){let r=m(3);_("nzTooltipTitle",r.oh.text)("nzTooltipPlacement",r.oh.placement)("nzTooltipTrigger",r.oh.trigger)("nzTooltipOverlayClassName",r.oh.overlayClassName)("nzTooltipOverlayStyle",r.oh.overlayStyle)("nzTooltipMouseEnterDelay",r.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",r.oh.mouseLeaveDelay)("nzType",r.oh.icon)}}function x_(t,e){if(t&1){let r=te();C(0,"label",5),L("ngModelChange",function(n){P(r);let o=m(2);return F(o._setValue(n))}),Z(1),C(2,"span",6),Z(3),$(4,$_,1,8,"nz-icon",7),z()()}if(t&2){let r=m(2);_("nzDisabled",r.disabled)("ngModel",r.value),v(),se(" ",r.schema.title," "),v(2),se(" ",r.ui.optional," "),v(),E(r.oh?4:-1)}}function E_(t,e){}function T_(t,e){if(t&1){let r=te();$(0,E_,0,0,"ng-template",9),C(1,"nz-checkbox-group",10),L("ngModelChange",function(){P(r);let n=m(3);return F(n.notifySet())}),z()}if(t&2){let r=m(3),i=ue(1);_("ngTemplateOutlet",i),v(),_("ngModel",r.value)("nzOptions",r.data)}}function P_(t,e){}function F_(t,e){if(t&1&&(C(0,"div",13),$(1,P_,0,0,"ng-template",9),z()),t&2){let r=m(4),i=ue(1);_("nzSpan",r.grid_span),v(),_("ngTemplateOutlet",i)}}function I_(t,e){if(t&1&&(C(0,"div",13)(1,"label",14),Z(2),z()()),t&2){let r=e.$implicit,i=m(4);_("nzSpan",i.grid_span),v(),_("nzValue",r.value)("ngModel",r.checked)("nzDisabled",r.disabled),v(),se(" ",r.label," ")}}function O_(t,e){if(t&1){let r=te();C(0,"nz-checkbox-wrapper",11),L("nzOnChange",function(n){P(r);let o=m(3);return F(o.groupInGridChange(n))}),C(1,"div",12),$(2,F_,2,2,"div",13),be(3,I_,3,5,"div",13,Se),z()()}if(t&2){let r=m(3);v(2),E(r.ui.checkAll?2:-1),v(),we(r.data)}}function V_(t,e){if(t&1&&$(0,T_,2,3)(1,O_,5,1,"nz-checkbox-wrapper",8),t&2){let r=m(2);E(r.grid_span===0?0:1)}}function k_(t,e){if(t&1&&$(0,x_,5,5,"label",4)(1,V_,2,1),t&2){let r=m();E(r.data.length===0?0:1)}}var ni=class t extends ie{data=[];allChecked=!1;indeterminate=!1;grid_span;labelTitle="";inited=!1;reset(e){this.inited=!1,Zt(this.schema,this.ui,e).subscribe(r=>{this.data=r,this.allChecked=!1,this.indeterminate=!1,this.labelTitle=r.length===0?"":this.schema.title;let{span:i}=this.ui;this.grid_span=i&&i>0?i:0,this.updateAllChecked(),this.inited=!0,this.detectChanges()})}_setValue(e){this.setValue(e),this.detectChanges(),this.notifyChange(e)}notifySet(){let e=this.data.filter(r=>r.checked);this.updateAllChecked().setValue(e.map(r=>r.value)),this.notifyChange(e)}groupInGridChange(e){this.data.forEach(r=>r.checked=e.indexOf(r.value)!==-1),this.notifySet()}onAllChecked(){this.data.forEach(e=>e.checked=this.allChecked),this.notifySet()}updateAllChecked(){return this.data.every(e=>e.checked!==!0)?(this.allChecked=!1,this.indeterminate=!1):this.data.every(e=>e.checked===!0)?(this.allChecked=!0,this.indeterminate=!1):this.indeterminate=!0,this.detectChanges(),this}notifyChange(e){this.ui.change&&this.ui.change(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=B(t)))(i||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-checkbox"]],standalone:!1,features:[K],decls:4,vars:8,consts:[["all",""],[3,"id","schema","ui","showError","error","showTitle","title"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModel","nzIndeterminate"],["nz-checkbox","",1,"sf__checkbox-all","mr-sm",3,"ngModelChange","ngModel","nzIndeterminate"],["nz-checkbox","",3,"nzDisabled","ngModel"],["nz-checkbox","",3,"ngModelChange","nzDisabled","ngModel"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"],[1,"sf__checkbox-list"],[3,"ngTemplateOutlet"],[3,"ngModelChange","ngModel","nzOptions"],[1,"sf__checkbox-list",3,"nzOnChange"],["nz-row",""],["nz-col","",3,"nzSpan"],["nz-checkbox","",3,"nzValue","ngModel","nzDisabled"]],template:function(r,i){r&1&&($(0,z_,1,1,"ng-template",null,0,Ce),C(2,"sf-item-wrap",1),$(3,k_,2,1),z()),r&2&&(v(2),_("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",!0)("title",i.labelTitle),v(),E(i.inited?3:-1))},dependencies:[ze,fe,pe,$e,ps,ms,fs,Ze,Xe,Oe,vt,re],encapsulation:2})};var N_=(t,e,r)=>({$implicit:t,schema:e,ui:r});function D_(t,e){}var oi=class t extends ie{static \u0275fac=(()=>{let e;return function(i){return(e||(e=B(t)))(i||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-custom"]],standalone:!1,features:[K],decls:2,vars:12,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,i){r&1&&(C(0,"sf-item-wrap",0),$(1,D_,0,0,"ng-template",1),z()),r&2&&(_("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),v(),_("ngTemplateOutlet",i.ui._render)("ngTemplateOutletContext",Ja(8,N_,i,i.schema,i.ui)))},dependencies:[ze,re],encapsulation:2})};function M_(t,e){if(t&1){let r=te();C(0,"nz-year-picker",5),Ge("ngModelChange",function(n){P(r);let o=m();return Ke(o.displayValue,n)||(o.displayValue=n),F(n)}),L("ngModelChange",function(n){P(r);let o=m();return F(o._change(n))})("nzOnOpenChange",function(n){P(r);let o=m();return F(o._openChange(n))}),z()}if(t&2){let r=m();He(r.ui.className),_("nzId",r.id)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzFormat",r.displayFormat),Be("ngModel",r.displayValue),_("nzAllowClear",r.i.allowClear)("nzDisabledDate",r.ui.disabledDate)("nzLocale",r.ui.locale)("nzPlaceHolder",r.ui.placeholder)("nzPopupStyle",r.ui.popupStyle)("nzDropdownClassName",r.ui.dropdownClassName)("nzRenderExtraFooter",r.ui.renderExtraFooter)("nzInputReadOnly",r.ui.inputReadOnly)("nzInline",r.ui.inline)}}function R_(t,e){if(t&1){let r=te();C(0,"nz-month-picker",5),Ge("ngModelChange",function(n){P(r);let o=m();return Ke(o.displayValue,n)||(o.displayValue=n),F(n)}),L("ngModelChange",function(n){P(r);let o=m();return F(o._change(n))})("nzOnOpenChange",function(n){P(r);let o=m();return F(o._openChange(n))}),z()}if(t&2){let r=m();He(r.ui.className),_("nzId",r.id)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzFormat",r.displayFormat),Be("ngModel",r.displayValue),_("nzAllowClear",r.i.allowClear)("nzDisabledDate",r.ui.disabledDate)("nzLocale",r.ui.locale)("nzPlaceHolder",r.ui.placeholder)("nzPopupStyle",r.ui.popupStyle)("nzDropdownClassName",r.ui.dropdownClassName)("nzRenderExtraFooter",r.ui.renderExtraFooter)("nzInputReadOnly",r.ui.inputReadOnly)("nzInline",r.ui.inline)}}function j_(t,e){if(t&1){let r=te();C(0,"nz-week-picker",6),Ge("ngModelChange",function(n){P(r);let o=m();return Ke(o.displayValue,n)||(o.displayValue=n),F(n)}),L("ngModelChange",function(n){P(r);let o=m();return F(o._change(n))})("nzOnOpenChange",function(n){P(r);let o=m();return F(o._openChange(n))}),z()}if(t&2){let r=m();He(r.ui.className),_("nzId",r.id)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzFormat",r.displayFormat),Be("ngModel",r.displayValue),_("nzAllowClear",r.i.allowClear)("nzDisabledDate",r.ui.disabledDate)("nzLocale",r.ui.locale)("nzPlaceHolder",r.ui.placeholder)("nzPopupStyle",r.ui.popupStyle)("nzDropdownClassName",r.ui.dropdownClassName)("nzInputReadOnly",r.ui.inputReadOnly)("nzInline",r.ui.inline)}}function W_(t,e){if(t&1){let r=te();C(0,"nz-range-picker",7),Ge("ngModelChange",function(n){P(r);let o=m();return Ke(o.displayValue,n)||(o.displayValue=n),F(n)}),L("ngModelChange",function(n){P(r);let o=m();return F(o._change(n))})("nzOnOpenChange",function(n){P(r);let o=m();return F(o._openChange(n))})("nzOnOk",function(n){P(r);let o=m();return F(o._ok(n))}),z()}if(t&2){let r=m();He(r.ui.className),_("nzId",r.id)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzFormat",r.displayFormat),Be("ngModel",r.displayValue),_("nzAllowClear",r.i.allowClear)("nzDisabledDate",r.ui.disabledDate)("nzLocale",r.ui.locale)("nzPlaceHolder",r.ui.placeholder)("nzPopupStyle",r.ui.popupStyle)("nzDropdownClassName",r.ui.dropdownClassName)("nzDisabledTime",r.ui.disabledTime)("nzRenderExtraFooter",r.ui.renderExtraFooter)("nzRanges",r.ui.ranges)("nzShowTime",r.ui.showTime)("nzSeparator",r.ui.separator)("nzShowWeekNumber",r.ui.showWeekNumber||!1)("nzMode",r.ui.rangeMode)("nzInputReadOnly",r.ui.inputReadOnly)("nzInline",r.ui.inline)}}function q_(t,e){if(t&1){let r=te();C(0,"nz-date-picker",8),Ge("ngModelChange",function(n){P(r);let o=m();return Ke(o.displayValue,n)||(o.displayValue=n),F(n)}),L("ngModelChange",function(n){P(r);let o=m();return F(o._change(n))})("nzOnOpenChange",function(n){P(r);let o=m();return F(o._openChange(n))})("nzOnOk",function(n){P(r);let o=m();return F(o._ok(n))}),z()}if(t&2){let r=m();He(r.ui.className),_("nzId",r.id)("nzDisabled",r.disabled)("nzSize",r.ui.size)("nzFormat",r.displayFormat),Be("ngModel",r.displayValue),_("nzAllowClear",r.i.allowClear)("nzDisabledDate",r.ui.disabledDate)("nzLocale",r.ui.locale)("nzPlaceHolder",r.ui.placeholder)("nzPopupStyle",r.ui.popupStyle)("nzDropdownClassName",r.ui.dropdownClassName)("nzDisabledTime",r.ui.disabledTime)("nzRenderExtraFooter",r.ui.renderExtraFooter)("nzShowTime",r.ui.showTime)("nzShowToday",r.i.showToday)("nzShowWeekNumber",r.ui.showWeekNumber||!1)("nzInputReadOnly",r.ui.inputReadOnly)("nzInline",r.ui.inline)}}var ai=class t extends ie{startFormat;endFormat;flatRange=!1;mode;displayValue=null;displayFormat;i;ngOnInit(){let{mode:e,end:r,displayFormat:i,allowClear:n,showToday:o}=this.ui;if(this.mode=e||"date",this.flatRange=r!=null,this.startFormat=this.ui._format,this.flatRange){this.mode="range";let a=this.endProperty.ui;this.endFormat=a.format?a._format:this.startFormat}if(i)this.displayFormat=i;else switch(this.mode){case"year":this.displayFormat="yyyy";break;case"month":this.displayFormat="yyyy-MM";break;case"week":this.displayFormat="yyyy-ww";break}this.i={allowClear:me(n,!0),showToday:me(o,!0)}}reset(e){let r={formatString:this.startFormat,defaultValue:null};if(Array.isArray(e)?e=e.map(i=>Ei(i,r)):e=Ei(e,r),this.flatRange){let i=Ei(this.endProperty.formData,{formatString:this.endFormat||this.startFormat,defaultValue:null});this.displayValue=e==null||i==null?[]:[e,i]}else this.displayValue=e;this.detectChanges(),this.displayValue&&setTimeout(()=>this._change(this.displayValue,!1))}_change(e,r=!0){if(r&&this.ui.change&&this.ui.change(e),e==null||Array.isArray(e)&&e.length<2){this.setValue(null),this.setEnd(null);return}let i=Array.isArray(e)?[zi(e[0],this.startFormat),zi(e[1],this.endFormat||this.startFormat)]:zi(e,this.startFormat);this.flatRange?(this.setValue(i[0]),this.setEnd(i[1])):this.setValue(i)}_openChange(e){this.ui.onOpenChange&&this.ui.onOpenChange(e)}_ok(e){this.ui.onOk&&this.ui.onOk(e)}get endProperty(){return this.formProperty.parent.properties[this.ui.end]}setEnd(e){this.flatRange&&(this.endProperty.setValue(e,!0),this.endProperty.updateValueAndValidity())}static \u0275fac=(()=>{let e;return function(i){return(e||(e=B(t)))(i||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-date"]],standalone:!1,features:[K],decls:6,vars:7,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","class","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","class","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","class","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline"],[3,"nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","class","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzRenderExtraFooter","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzOnOk","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzRanges","nzShowTime","nzSeparator","nzShowWeekNumber","nzMode","nzInputReadOnly","nzInline"],[3,"ngModelChange","nzOnOpenChange","nzOnOk","nzId","nzDisabled","nzSize","nzFormat","ngModel","nzAllowClear","nzDisabledDate","nzLocale","nzPlaceHolder","nzPopupStyle","nzDropdownClassName","nzDisabledTime","nzRenderExtraFooter","nzShowTime","nzShowToday","nzShowWeekNumber","nzInputReadOnly","nzInline"]],template:function(r,i){if(r&1&&(C(0,"sf-item-wrap",0),$(1,M_,1,16,"nz-year-picker",1)(2,R_,1,16,"nz-month-picker",1)(3,j_,1,15,"nz-week-picker",2)(4,W_,1,22,"nz-range-picker",3)(5,q_,1,20,"nz-date-picker",4),z()),r&2){let n;_("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),v(),E((n=i.mode)==="year"?1:n==="month"?2:n==="week"?3:n==="range"?4:5)}},dependencies:[fe,pe,zs,xs,$s,Ts,Es,re],encapsulation:2})};var br=class t extends ie{min;max;step;formatter=e=>e.toString();parser=e=>+e;width="";ngOnInit(){let{minimum:e,exclusiveMinimum:r,maximum:i,exclusiveMaximum:n,multipleOf:o,type:a}=this.schema;this.step=o||1,typeof e<"u"&&(this.min=r?e+this.step:e),typeof i<"u"&&(this.max=n?i-this.step:i),a==="integer"&&(this.min=Math.trunc(this.min),this.max=Math.trunc(this.max),this.step=Math.trunc(this.step));let s=this.ui;s.prefix!=null&&(s.formatter=l=>l==null?"":`${s.prefix} ${l}`,s.parser=l=>+l.replace(`${s.prefix} `,"")),s.unit!=null&&(s.formatter=l=>l==null?"":`${l} ${s.unit}`,s.parser=l=>+l.replace(` ${s.unit}`,"")),s.formatter&&(this.formatter=s.formatter),s.parser&&(this.parser=s.parser),this.width=typeof s.widgetWidth=="number"?`${s.widgetWidth}px`:s.widgetWidth??"90px"}_setValue(e){this.setValue(this.schema.type==="integer"?Math.floor(e):e),this.ui.change&&this.ui.change(this.value)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=B(t)))(i||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-number"]],standalone:!1,features:[K],decls:2,vars:21,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzId","ngModel","nzDisabled","nzSize","nzMin","nzMax","nzStep","nzFormatter","nzParser","nzPrecision","nzPlaceHolder"]],template:function(r,i){r&1&&(C(0,"sf-item-wrap",0)(1,"nz-input-number",1),L("ngModelChange",function(o){return i._setValue(o)}),z()()),r&2&&(_("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),v(),yi("width",i.width),ae("ant-input-number__hide-step",i.ui.hideStep),_("nzId",i.id)("ngModel",i.value)("nzDisabled",i.disabled)("nzSize",i.ui.size)("nzMin",i.min)("nzMax",i.max)("nzStep",i.step)("nzFormatter",i.formatter)("nzParser",i.parser)("nzPrecision",i.ui.precision||null)("nzPlaceHolder",i.ui.placeholder||""))},dependencies:[fe,pe,Ns,re],encapsulation:2})};var A_=()=>[],L_=()=>({$implicit:!0});function U_(t,e){if(t&1&&(C(0,"div",4),Z(1),z()),t&2){let r=m(2);v(),Kt(r.title)}}function H_(t,e){if(t&1&&(C(0,"div",6),H(1,"sf-item",7),z()),t&2){let r=m().$implicit;_("nzSpan",r.grid.span)("nzOffset",r.grid.offset)("nzXs",r.grid.xs)("nzSm",r.grid.sm)("nzMd",r.grid.md)("nzLg",r.grid.lg)("nzXl",r.grid.xl)("nzXXl",r.grid.xxl),v(),_("formProperty",r.property)("fixed-label",r.spanLabelFixed)}}function B_(t,e){if(t&1&&$(0,H_,2,10,"div",6),t&2){let r=e.$implicit;E(r.property.visible&&r.show?0:-1)}}function K_(t,e){if(t&1&&(C(0,"div",5),be(1,B_,1,1,null,null,Se),z()),t&2){let r=m(2);_("nzGutter",r.grid.gutter),v(),we(r.list)}}function G_(t,e){if(t&1&&H(0,"sf-item",7),t&2){let r=m().$implicit;_("formProperty",r.property)("fixed-label",r.spanLabelFixed)}}function Y_(t,e){if(t&1&&$(0,G_,1,2,"sf-item",7),t&2){let r=e.$implicit;E(r.property.visible&&r.show?0:-1)}}function J_(t,e){if(t&1&&be(0,Y_,1,1,null,null,Se),t&2){let r=m(2);we(r.list)}}function X_(t,e){if(t&1&&$(0,U_,2,1,"div",4)(1,K_,3,1,"div",5)(2,J_,2,0),t&2){let r=e.$implicit,i=m();E(!r&&i.title?0:-1),v(),E(i.grid?1:2)}}function Z_(t,e){if(t&1&&H(0,"nz-icon",11),t&2){let r=m(3);_("nzType",r.expand?"down":"up")}}function Q_(t,e){if(t&1&&H(0,"nz-icon",13),t&2){let r=m(4);_("nzTooltipTitle",r.oh.text)("nzTooltipPlacement",r.oh.placement)("nzTooltipTrigger",r.oh.trigger)("nzTooltipColor",r.oh.bgColor)("nzTooltipOverlayClassName",r.oh.overlayClassName)("nzTooltipOverlayStyle",r.oh.overlayStyle)("nzTooltipMouseEnterDelay",r.oh.mouseEnterDelay)("nzTooltipMouseLeaveDelay",r.oh.mouseLeaveDelay)("nzType",r.oh.icon)}}function ey(t,e){if(t&1&&(C(0,"span",12),Z(1),$(2,Q_,1,9,"nz-icon",13),z()),t&2){let r=m(3);v(),se(" ",r.ui.optional," "),v(),E(r.oh?2:-1)}}function ty(t,e){if(t&1){let r=te();C(0,"div",10),L("click",function(){P(r);let n=m(2);return F(n.changeExpand())}),$(1,Z_,1,1,"nz-icon",11),Z(2),$(3,ey,3,2,"span",12),z()}if(t&2){let r=m(2);ae("point",r.showExpand),v(),E(r.showExpand?1:-1),v(),se(" ",r.title," "),v(),E(r.ui.optional||r.oh?3:-1)}}function ry(t,e){}function iy(t,e){if(t&1&&(C(0,"nz-card",8),$(1,ty,4,5,"ng-template",null,1,Ce)(3,ry,0,0,"ng-template",9),z()),t&2){let r=ue(2),i=m(),n=ue(1);ae("sf__object-card-fold",!i.expand),_("nzTitle",r)("nzExtra",i.ui.cardExtra)("nzSize",i.ui.cardSize||"small")("nzActions",i.ui.cardActions||Tn(10,A_))("nzBodyStyle",i.ui.cardBodyStyle)("nzBordered",i.ui.cardBordered||!0),v(3),_("ngTemplateOutlet",n)("ngTemplateOutletContext",Tn(11,L_))}}function ny(t,e){}function oy(t,e){if(t&1&&$(0,ny,0,0,"ng-template",3),t&2){m();let r=ue(1);_("ngTemplateOutlet",r)}}var si=class t extends bn{grid;type="default";list=[];title;showExpand=!0;expand=!0;ngOnInit(){let{formProperty:e,ui:r}=this,{grid:i,showTitle:n,type:o}=r;this.showExpand=me(r.showExpand,!0),this.expand=me(r.expand,!0),this.type=o??"default",(this.type==="card"||!e.isRoot()&&!(e.parent instanceof er)&&n===!0)&&(this.title=this.schema.title),this.grid=i;let a=[];for(let s of e.propertiesId){let l=e.properties[s],d={property:l,grid:l.ui.grid||i||{},spanLabelFixed:l.ui.spanLabelFixed,show:l.ui.hidden===!1};a.push(d)}this.list=a}changeExpand(){this.showExpand&&(this.expand=!this.expand,this.detectChanges(!0))}static \u0275fac=(()=>{let e;return function(i){return(e||(e=B(t)))(i||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-object"]],standalone:!1,features:[K],decls:4,vars:1,consts:[["default",""],["cardTitleTpl",""],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered","sf__object-card-fold"],[3,"ngTemplateOutlet"],[1,"sf__title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan","nzOffset","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"formProperty","fixed-label"],[1,"sf__object-card",3,"nzTitle","nzExtra","nzSize","nzActions","nzBodyStyle","nzBordered"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click"],[1,"mr-xs","text-xs",3,"nzType"],[1,"sf__optional"],["nz-tooltip","",3,"nzTooltipTitle","nzTooltipPlacement","nzTooltipTrigger","nzTooltipColor","nzTooltipOverlayClassName","nzTooltipOverlayStyle","nzTooltipMouseEnterDelay","nzTooltipMouseLeaveDelay","nzType"]],template:function(r,i){r&1&&$(0,X_,3,2,"ng-template",null,0,Ce)(2,iy,4,12,"nz-card",2)(3,oy,1,1,null,3),r&2&&(v(2),E(i.type==="card"?2:3))},dependencies:[ze,$e,Ii,Ze,Xe,Oe,vt,Ae,Wt],encapsulation:2})};function ay(t,e){if(t&1&&(C(0,"label",2),H(1,"span",3),z()),t&2){let r=e.$implicit,i=m(2);_("nzValue",r.value)("nzDisabled",i.disabled||r.disabled),v(),_("innerHTML",r.label,Ue)}}function sy(t,e){if(t&1&&be(0,ay,2,3,"label",2,Se),t&2){let r=m();we(r.data)}}function ly(t,e){if(t&1&&(C(0,"label",4),H(1,"span",3),z()),t&2){let r=e.$implicit,i=m(2);_("nzValue",r.value)("nzDisabled",i.disabled||r.disabled),v(),_("innerHTML",r.label,Ue)}}function cy(t,e){if(t&1&&be(0,ly,2,3,"label",4,Se),t&2){let r=m();we(r.data)}}var li=class t extends ie{data=[];styleType;reset(e){this.styleType=(this.ui.styleType||"default")==="default",Zt(this.schema,this.ui,e).subscribe(r=>{this.data=r,this.detectChanges()})}_setValue(e){this.setValue(e),this.ui.change&&this.ui.change(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=B(t)))(i||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-radio"]],standalone:!1,features:[K],decls:4,vars:11,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzSize","nzName","ngModel","nzButtonStyle"],["nz-radio","",3,"nzValue","nzDisabled"],[3,"innerHTML"],["nz-radio-button","",3,"nzValue","nzDisabled"]],template:function(r,i){r&1&&(C(0,"sf-item-wrap",0)(1,"nz-radio-group",1),L("ngModelChange",function(o){return i._setValue(o)}),$(2,sy,2,0)(3,cy,2,0),z()()),r&2&&(_("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),v(),_("nzSize",i.ui.size)("nzName",i.id)("ngModel",i.value)("nzButtonStyle",i.ui.buttonStyle||"outline"),v(),E(i.styleType?2:3))},dependencies:[fe,pe,_s,gs,re],encapsulation:2})};function dy(t,e){if(t&1&&H(0,"nz-option",3),t&2){let r=e.$implicit;_("nzLabel",r.label)("nzValue",r.value)("nzHide",r.hide)("nzDisabled",r.disabled)}}function uy(t,e){if(t&1&&be(0,dy,1,4,"nz-option",3,Se),t&2){let r=m();we(r.data)}}function fy(t,e){if(t&1&&H(0,"nz-option",5),t&2){let r=e.$implicit;_("nzLabel",r.label)("nzValue",r.value)("nzDisabled",r.disabled)("nzHide",r.hide)}}function py(t,e){if(t&1&&(C(0,"nz-option-group",4),be(1,fy,1,4,"nz-option",5,Se),z()),t&2){let r=e.$implicit;_("nzLabel",r.label),v(),we(r.children)}}function my(t,e){if(t&1&&be(0,py,3,1,"nz-option-group",4,Se),t&2){let r=m();we(r.data)}}function hy(t,e){if(t&1&&(C(0,"nz-option",2),H(1,"nz-icon",6),Z(2),z()),t&2){let r=m();v(2),se(" ",r.ui.searchLoadingText," ")}}var ci=class t extends ie{search$=new Lt;i;data=[];_value;hasGroup=!1;loading=!1;checkGroup(e){this.hasGroup=(e||[]).filter(r=>r.group===!0).length>0}ngOnInit(){let{autoClearSearchValue:e,borderless:r,autoFocus:i,dropdownMatchSelectWidth:n,serverSearch:o,maxMultipleCount:a,mode:s,showSearch:l,tokenSeparators:d,maxTagCount:c,compareWith:f,optionHeightPx:y,optionOverflowSize:p,showArrow:h}=this.ui;this.i={autoClearSearchValue:me(e,!0),borderless:me(r,!1),autoFocus:me(i,!1),dropdownMatchSelectWidth:me(n,!0),serverSearch:me(o,!1),maxMultipleCount:a||1/0,mode:s||"default",showSearch:me(l,!0),tokenSeparators:d||[],maxTagCount:c||1/0,optionHeightPx:y||32,optionOverflowSize:p||8,showArrow:me(h,!0),compareWith:f||((g,b)=>g===b)};let u=this.ui.onSearch;u&&this.search$.pipe(gt(this.sfItemComp.destroy$),pi(),fi(this.ui.searchDebounceTime||300),mi(g=>u(g)),Da(()=>[])).subscribe(g=>{this.data=g,this.checkGroup(g),this.loading=!1,this.detectChanges()})}reset(e){let r=this.ui.onSearch;Zt(this.schema,this.ui,e).subscribe(i=>{this._value=e,r==null&&(this.data=i),this.checkGroup(i),this.detectChanges()}),e&&r!=null&&this.search$.next(e)}change(e){this.ui.change&&this.ui.change(e,this.getOrgData(e)),this.setValue(e??this.ui.clearValue)}getOrgData(e){let r=this.injector.get(Ls);return Array.isArray(e)?e.map(i=>r.findTree(this.data,n=>n.value===i)):r.findTree(this.data,i=>i.value===e)}openChange(e){this.ui.openChange&&this.ui.openChange(e)}scrollToBottom(){this.ui.scrollToBottom&&this.ui.scrollToBottom()}onSearch(e){this.ui.onSearch&&(this.loading=!0,this.search$.next(e))}static \u0275fac=(()=>{let e;return function(i){return(e||(e=B(t)))(i||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-select"]],standalone:!1,features:[K],decls:5,vars:39,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"ngModelChange","nzOpenChange","nzOnSearch","nzScrollToBottom","nzId","nzDisabled","ngModel","nzSize","nzPlaceHolder","nzNotFoundContent","nzDropdownClassName","nzAllowClear","nzDropdownStyle","nzCustomTemplate","nzSuffixIcon","nzRemoveIcon","nzClearIcon","nzMenuItemSelectedIcon","nzMaxTagPlaceholder","nzDropdownRender","nzAutoClearSearchValue","nzBorderless","nzAutoFocus","nzDropdownMatchSelectWidth","nzServerSearch","nzMaxMultipleCount","nzMode","nzShowSearch","nzShowArrow","nzTokenSeparators","nzMaxTagCount","compareWith","nzOptionHeightPx","nzOptionOverflowSize"],["nzDisabled","","nzCustomContent",""],[3,"nzLabel","nzValue","nzHide","nzDisabled"],[3,"nzLabel"],[3,"nzLabel","nzValue","nzDisabled","nzHide"],["nzType","loading"]],template:function(r,i){r&1&&(C(0,"sf-item-wrap",0)(1,"nz-select",1),Ge("ngModelChange",function(o){return Ke(i._value,o)||(i._value=o),o}),L("ngModelChange",function(o){return i.change(o)})("nzOpenChange",function(o){return i.openChange(o)})("nzOnSearch",function(o){return i.onSearch(o)})("nzScrollToBottom",function(){return i.scrollToBottom()}),$(2,uy,2,0)(3,my,2,0)(4,hy,3,1,"nz-option",2),z()()),r&2&&(_("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),v(),_("nzId",i.id)("nzDisabled",i.disabled),Be("ngModel",i._value),_("nzSize",i.ui.size)("nzPlaceHolder",i.ui.placeholder)("nzNotFoundContent",i.ui.notFoundContent)("nzDropdownClassName",i.ui.dropdownClassName)("nzAllowClear",i.ui.allowClear)("nzDropdownStyle",i.ui.dropdownStyle)("nzCustomTemplate",i.ui.customTemplate)("nzSuffixIcon",i.ui.suffixIcon)("nzRemoveIcon",i.ui.removeIcon)("nzClearIcon",i.ui.clearIcon)("nzMenuItemSelectedIcon",i.ui.menuItemSelectedIcon)("nzMaxTagPlaceholder",i.ui.maxTagPlaceholder)("nzDropdownRender",i.ui.dropdownRender)("nzAutoClearSearchValue",i.i.autoClearSearchValue)("nzBorderless",i.i.borderless)("nzAutoFocus",i.i.autoFocus)("nzDropdownMatchSelectWidth",i.i.dropdownMatchSelectWidth)("nzServerSearch",i.i.serverSearch)("nzMaxMultipleCount",i.i.maxMultipleCount)("nzMode",i.i.mode)("nzShowSearch",i.i.showSearch)("nzShowArrow",i.i.showArrow)("nzTokenSeparators",i.i.tokenSeparators)("nzMaxTagCount",i.i.maxTagCount)("compareWith",i.i.compareWith)("nzOptionHeightPx",i.i.optionHeightPx)("nzOptionOverflowSize",i.i.optionOverflowSize),v(),E(!i.loading&&!i.hasGroup?2:-1),v(),E(!i.loading&&i.hasGroup?3:-1),v(),E(i.loading?4:-1))},dependencies:[fe,pe,$e,Oe,bs,ws,Ss,re],encapsulation:2})};function _y(t,e){if(t&1){let r=te();C(0,"input",4),L("ngModelChange",function(n){P(r);let o=m();return F(o.change(n))})("keyup.enter",function(n){P(r);let o=m();return F(o.enter(n))})("focus",function(n){P(r);let o=m();return F(o.focus(n))})("blur",function(n){P(r);let o=m();return F(o.blur(n))}),z()}if(t&2){let r=m();_("disabled",r.disabled)("nzSize",r.ui.size)("nzBorderless",r.ui.borderless)("ngModel",r.value),Ie("id",r.id)("disabled",r.disabled)("maxLength",r.schema.maxLength||null)("type",r.ui.type||"text")("placeholder",r.ui.placeholder)("autocomplete",r.ui.autocomplete)("autoFocus",r.ui.autofocus)}}function yy(t,e){}function vy(t,e){if(t&1&&(C(0,"nz-input-group",2),$(1,yy,0,0,"ng-template",3),z()),t&2){let r=m(),i=ue(2);_("nzAddOnBefore",r.ui.addOnBefore)("nzAddOnAfter",r.ui.addOnAfter)("nzAddOnBeforeIcon",r.ui.addOnBeforeIcon)("nzAddOnAfterIcon",r.ui.addOnAfterIcon)("nzPrefix",r.ui.prefix)("nzPrefixIcon",r.ui.prefixIcon)("nzSuffix",r.ui.suffix)("nzSuffixIcon",r.ui.suffixIcon),v(),_("ngTemplateOutlet",i)}}function Sy(t,e){}function by(t,e){if(t&1&&$(0,Sy,0,0,"ng-template",3),t&2){m();let r=ue(2);_("ngTemplateOutlet",r)}}var wr=class t extends ie{type;change$=null;ngOnInit(){let{addOnAfter:e,addOnAfterIcon:r,addOnBefore:i,addOnBeforeIcon:n,prefix:o,prefixIcon:a,suffix:s,suffixIcon:l,autofocus:d}=this.ui;this.type=e||i||r||n||o||a||s||l?"addon":"",d===!0&&setTimeout(()=>{this.injector.get(gi).nativeElement.querySelector(`#${this.id}`).focus()},20),this.initChange()}reset(e){!e&&this.schema.format==="color"&&this.setValue("#000000")}initChange(){let e=this.ui.changeDebounceTime,r=this.ui.change;if(e==null||e<=0||r==null)return;this.change$=new Ut(this.value);let i=this.change$.asObservable().pipe(fi(e),gt(this.sfItemComp.destroy$));this.ui.changeMap!=null&&(i=i.pipe(mi(this.ui.changeMap))),i.subscribe(n=>r(n))}change(e){if(this.setValue(e),this.change$!=null){this.change$.next(e);return}this.ui.change&&this.ui.change(e)}focus(e){this.ui.focus&&this.ui.focus(e)}blur(e){this.ui.blur&&this.ui.blur(e)}enter(e){this.ui.enter&&this.ui.enter(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=B(t)))(i||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-string"]],standalone:!1,features:[K],decls:5,vars:7,consts:[["ipt",""],[3,"id","schema","ui","showError","error","showTitle"],[3,"nzAddOnBefore","nzAddOnAfter","nzAddOnBeforeIcon","nzAddOnAfterIcon","nzPrefix","nzPrefixIcon","nzSuffix","nzSuffixIcon"],[3,"ngTemplateOutlet"],["nz-input","",3,"ngModelChange","keyup.enter","focus","blur","disabled","nzSize","nzBorderless","ngModel"]],template:function(r,i){r&1&&(C(0,"sf-item-wrap",1),$(1,_y,1,11,"ng-template",null,0,Ce)(3,vy,2,9,"nz-input-group",2)(4,by,1,1,null,3),z()),r&2&&(_("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),v(3),E(i.type==="addon"?3:4))},dependencies:[ze,Ti,fe,pe,$e,Fi,Os,Is,re],encapsulation:2})};function wy(t,e){if(t&1&&H(0,"span",1),t&2){let r=m();_("innerHTML",r.text,Ue)}}function Cy(t,e){if(t&1&&H(0,"span",2),t&2){let r=m();_("innerText",r.text)}}var di=class t extends ie{text="";ngOnInit(){this.ui._required=!1,this.ui.html=me(this.ui.html,!0)}reset(e){this.text=e||this.ui.defaultText||"-"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=B(t)))(i||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-text"]],standalone:!1,features:[K],decls:3,vars:9,consts:[[3,"id","schema","ui","showError","error","showTitle"],[3,"innerHTML"],[3,"innerText"]],template:function(r,i){r&1&&(C(0,"sf-item-wrap",0),$(1,wy,1,1,"span",1)(2,Cy,1,1,"span",2),z()),r&2&&(ae("sf__text-html",i.ui.html),_("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),v(),E(i.ui.html?1:2))},dependencies:[re],encapsulation:2})};function zy(t,e){if(t&1){let r=te();C(0,"textarea",4),L("ngModelChange",function(n){P(r);let o=m();return F(o.change(n))})("focus",function(n){P(r);let o=m();return F(o.focus(n))})("blur",function(n){P(r);let o=m();return F(o.blur(n))}),Z(1,"      "),z()}if(t&2){let r=m();_("disabled",r.disabled)("nzSize",r.ui.size)("ngModel",r.value)("nzAutosize",r.autosize)("nzBorderless",r.ui.borderless),Ie("id",r.id)("disabled",r.disabled)("maxLength",r.schema.maxLength||null)("placeholder",r.ui.placeholder)}}function $y(t,e){if(t&1){let r=te();C(0,"nz-textarea-count",2)(1,"textarea",4),L("ngModelChange",function(n){P(r);let o=m();return F(o.change(n))})("focus",function(n){P(r);let o=m();return F(o.focus(n))})("blur",function(n){P(r);let o=m();return F(o.blur(n))}),Z(2,"        "),z()()}if(t&2){let r=m();_("nzMaxCharacterCount",r.ui.maxCharacterCount)("nzComputeCharacterCount",r.ui.computeCharacterCount),v(),_("disabled",r.disabled)("nzSize",r.ui.size)("ngModel",r.value)("nzAutosize",r.autosize)("nzBorderless",r.ui.borderless),Ie("id",r.id)("disabled",r.disabled)("maxLength",r.schema.maxLength||null)("placeholder",r.ui.placeholder)}}function xy(t,e){}function Ey(t,e){if(t&1&&$(0,xy,0,0,"ng-template",3),t&2){m();let r=ue(2);_("ngTemplateOutlet",r)}}var ui=class t extends ie{autosize=!0;ngOnInit(){this.ui.autosize!=null&&(this.autosize=this.ui.autosize),this.ui.computeCharacterCount==null&&(this.ui.computeCharacterCount=e=>e.length)}change(e){this.setValue(e),this.ui.change&&this.ui.change(e)}focus(e){this.ui.focus&&this.ui.focus(e)}blur(e){this.ui.blur&&this.ui.blur(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=B(t)))(i||t)}})();static \u0275cmp=U({type:t,selectors:[["sf-textarea"]],standalone:!1,features:[K],decls:5,vars:7,consts:[["ipt",""],[3,"id","schema","ui","showError","error","showTitle"],[3,"nzMaxCharacterCount","nzComputeCharacterCount"],[3,"ngTemplateOutlet"],["nz-input","",3,"ngModelChange","focus","blur","disabled","nzSize","ngModel","nzAutosize","nzBorderless"]],template:function(r,i){r&1&&(C(0,"sf-item-wrap",1),$(1,zy,2,9,"ng-template",null,0,Ce)(3,$y,3,11,"nz-textarea-count",2)(4,Ey,1,1,null,3),z()),r&2&&(_("id",i.id)("schema",i.schema)("ui",i.ui)("showError",i.showError)("error",i.error)("showTitle",i.schema.title),v(3),E(i.ui.maxCharacterCount?3:4))},dependencies:[ze,Ti,fe,pe,Vs,Fi,Fs,re],encapsulation:2})};var Cr=class extends at{constructor(){super(),this.register("object",si),this.register("array",ri),this.register("text",di),this.register("string",wr),this.register("number",br),this.register("integer",br),this.register("date",ai),this.register("radio",li),this.register("checkbox",ni),this.register("boolean",ii),this.register("textarea",ui),this.register("select",ci),this.register("custom",oi),this.setDefault(wr)}};var Ty=[ns,Ws,hs,Ps,js,Ms,is,ks,Ds,os,ys,Cs,As,vs];var Bd=class t{static forRoot(){return{ngModule:t,providers:[{provide:ht,useClass:_r,deps:[Je,yt]},{provide:at,useClass:Cr}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ha({type:t});static \u0275inj=Ra({imports:[Za,us,ss,Ty]})};function IC(t){let e=[{provide:ht,useClass:_r,deps:[Je,yt]},{provide:at,useClass:Cr}];return t?.widgets&&e.push(Wa(()=>{let r=A(at);t?.widgets?.forEach(i=>r.register(i.KEY,i.type))})),ja(e)}export{me as a,Bs as b,Xd as c,Zt as d,qt as e,re as f,Ea as g,ie as h,Bd as i,IC as j};
