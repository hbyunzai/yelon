import{p as Ee,q as be}from"./chunk-LTEB3YW2.js";import{e as xe,f as b,g as we,h as Ne}from"./chunk-VIXGYNFO.js";import{a as ke}from"./chunk-DALIXSDU.js";import{Ab as pe,Bb as ze,C as x,Ca as E,Cb as R,Db as Z,Eb as I,Ga as se,Ka as l,Kf as W,La as S,Lf as J,Mb as ge,Nb as N,Oa as ce,Pa as M,Pb as Q,Qb as H,Ra as de,Sf as ve,Ta as le,Tb as ue,Tf as De,Va as g,Vd as z,Wa as j,Xa as a,Xb as fe,Xg as ye,Ya as U,Yb as q,Z as D,Za as u,_a as he,ca as d,ea as w,fa as te,ia as f,ja as m,jb as C,k as B,kb as T,ke as _e,lb as _,le as P,ma as ie,mb as k,nb as y,nc as Y,oa as re,oc as L,pa as oe,pb as F,q as p,qe as Ce,sb as O,sc as me,se as A,tc as G,te as Te,ua as ae,ub as c,wa as $,wg as V,zd as Se}from"./chunk-4LVFALOC.js";function $e(i,o){if(i&1&&_(0,"span"),i&2){let r=o.index,n=c();u("ant-tree-indent-unit",!n.nzSelectMode)("ant-select-tree-indent-unit",n.nzSelectMode)("ant-select-tree-indent-unit-start",n.nzSelectMode&&n.nzIsStart[r])("ant-tree-indent-unit-start",!n.nzSelectMode&&n.nzIsStart[r])("ant-select-tree-indent-unit-end",n.nzSelectMode&&n.nzIsEnd[r])("ant-tree-indent-unit-end",!n.nzSelectMode&&n.nzIsEnd[r])}}var Me=["builtin",""];function je(i,o){if(i&1&&(k(0),_(1,"span",4),y()),i&2){let r=c(3);l(),u("ant-select-tree-switcher-icon",r.nzSelectMode)("ant-tree-switcher-icon",!r.nzSelectMode)}}var X=(i,o)=>({$implicit:i,origin:o});function Ue(i,o){if(i&1&&(k(0),g(1,je,2,4,"ng-container",3),y()),i&2){let r=c(2);l(),a("nzStringTemplateOutlet",r.nzExpandedIcon)("nzStringTemplateOutletContext",H(2,X,r.context,r.context.origin))}}function Re(i,o){if(i&1&&(k(0),g(1,Ue,2,5,"ng-container",2),y()),i&2){let r=c(),n=I(3);l(),a("ngIf",!r.isLoading)("ngIfElse",n)}}function Ze(i,o){if(i&1&&_(0,"span",7),i&2){let r=c(4);a("nzType",r.isSwitcherOpen?"minus-square":"plus-square")}}function Qe(i,o){i&1&&_(0,"span",8)}function qe(i,o){if(i&1&&(k(0),g(1,Ze,1,1,"span",5)(2,Qe,1,0,"span",6),y()),i&2){let r=c(3);l(),a("ngIf",r.isShowLineIcon),l(),a("ngIf",!r.isShowLineIcon)}}function Ye(i,o){if(i&1&&(k(0),g(1,qe,3,2,"ng-container",3),y()),i&2){let r=c(2);l(),a("nzStringTemplateOutlet",r.nzExpandedIcon)("nzStringTemplateOutletContext",H(2,X,r.context,r.context.origin))}}function Ge(i,o){if(i&1&&(k(0),g(1,Ye,2,5,"ng-container",2),y()),i&2){let r=c(),n=I(3);l(),a("ngIf",!r.isLoading)("ngIfElse",n)}}function We(i,o){i&1&&_(0,"span",9),i&2&&a("nzSpin",!0)}function Je(i,o){}function Xe(i,o){if(i&1&&_(0,"span",6),i&2){let r=c(3);a("nzType",r.icon)}}function en(i,o){if(i&1&&(C(0,"span")(1,"span"),g(2,Xe,1,1,"span",5),T()()),i&2){let r=c(2);u("ant-tree-icon__open",r.isSwitcherOpen)("ant-tree-icon__close",r.isSwitcherClose)("ant-tree-icon_loading",r.isLoading)("ant-select-tree-iconEle",r.selectMode)("ant-tree-iconEle",!r.selectMode),l(),u("ant-select-tree-iconEle",r.selectMode)("ant-select-tree-icon__customize",r.selectMode)("ant-tree-iconEle",!r.selectMode)("ant-tree-icon__customize",!r.selectMode),l(),a("ngIf",r.icon)}}function nn(i,o){if(i&1&&(k(0),g(1,en,3,19,"span",3),_(2,"span",4),ue(3,"nzHighlight"),y()),i&2){let r=c();l(),a("ngIf",r.icon&&r.showIcon),l(),a("innerHTML",fe(3,2,r.title,r.matchedValue,"i","font-highlight"),se)}}function tn(i,o){if(i&1&&_(0,"nz-tree-drop-indicator",7),i&2){let r=c();a("dropPosition",r.dragPosition)("level",r.context.level)}}function rn(i,o){if(i&1){let r=F();C(0,"nz-tree-node-switcher",4),O("click",function(t){f(r);let e=c();return m(e.clickExpand(t))}),T()}if(i&2){let r=c();a("nzShowExpand",r.nzShowExpand)("nzShowLine",r.nzShowLine)("nzExpandedIcon",r.nzExpandedIcon)("nzSelectMode",r.nzSelectMode)("context",r.nzTreeNode)("isLeaf",r.isLeaf)("isExpanded",r.isExpanded)("isLoading",r.isLoading)}}function on(i,o){if(i&1){let r=F();C(0,"nz-tree-node-checkbox",5),O("click",function(t){f(r);let e=c();return m(e.clickCheckBox(t))}),T()}if(i&2){let r=c();a("nzSelectMode",r.nzSelectMode)("isChecked",r.isChecked)("isHalfChecked",r.isHalfChecked)("isDisabled",r.isDisabled)("isDisableCheckbox",r.isDisableCheckbox)}}var an=["nzTreeTemplate"];function sn(i,o){}var Oe=i=>({$implicit:i});function cn(i,o){if(i&1&&(k(0),g(1,sn,0,0,"ng-template",10),y()),i&2){let r=o.$implicit;c(2);let n=I(9);l(),a("ngTemplateOutlet",n)("ngTemplateOutletContext",Q(2,Oe,r))}}function dn(i,o){if(i&1&&(C(0,"cdk-virtual-scroll-viewport",8),g(1,cn,2,4,"ng-container",9),T()),i&2){let r=c();U("height",r.nzVirtualHeight),u("ant-select-tree-list-holder-inner",r.nzSelectMode)("ant-tree-list-holder-inner",!r.nzSelectMode),a("itemSize",r.nzVirtualItemSize)("minBufferPx",r.nzVirtualMinBufferPx)("maxBufferPx",r.nzVirtualMaxBufferPx),l(),a("cdkVirtualForOf",r.nzFlattenNodes)("cdkVirtualForTrackBy",r.trackByFlattenNode)}}function ln(i,o){}function hn(i,o){if(i&1&&(k(0),g(1,ln,0,0,"ng-template",10),y()),i&2){let r=o.$implicit;c(2);let n=I(9);l(),a("ngTemplateOutlet",n)("ngTemplateOutletContext",Q(2,Oe,r))}}function pn(i,o){if(i&1&&(C(0,"div",11),g(1,hn,2,4,"ng-container",12),T()),i&2){let r=c();u("ant-select-tree-list-holder-inner",r.nzSelectMode)("ant-tree-list-holder-inner",!r.nzSelectMode),a("@.disabled",r.beforeInit||!!(r.noAnimation!=null&&r.noAnimation.nzNoAnimation))("nzNoAnimation",r.noAnimation==null?null:r.noAnimation.nzNoAnimation)("@treeCollapseMotion",r.nzFlattenNodes.length),l(),a("ngForOf",r.nzFlattenNodes)("ngForTrackBy",r.trackByFlattenNode)}}function zn(i,o){if(i&1){let r=F();C(0,"nz-tree-node",13),O("nzExpandChange",function(t){f(r);let e=c();return m(e.eventTriggerChanged(t))})("nzClick",function(t){f(r);let e=c();return m(e.eventTriggerChanged(t))})("nzDblClick",function(t){f(r);let e=c();return m(e.eventTriggerChanged(t))})("nzContextMenu",function(t){f(r);let e=c();return m(e.eventTriggerChanged(t))})("nzCheckBoxChange",function(t){f(r);let e=c();return m(e.eventTriggerChanged(t))})("nzOnDragStart",function(t){f(r);let e=c();return m(e.eventTriggerChanged(t))})("nzOnDragEnter",function(t){f(r);let e=c();return m(e.eventTriggerChanged(t))})("nzOnDragOver",function(t){f(r);let e=c();return m(e.eventTriggerChanged(t))})("nzOnDragLeave",function(t){f(r);let e=c();return m(e.eventTriggerChanged(t))})("nzOnDragEnd",function(t){f(r);let e=c();return m(e.eventTriggerChanged(t))})("nzOnDrop",function(t){f(r);let e=c();return m(e.eventTriggerChanged(t))}),T()}if(i&2){let r=o.$implicit,n=c();a("icon",r.icon)("title",r.title)("isLoading",r.isLoading)("isSelected",r.isSelected)("isDisabled",r.isDisabled)("isMatched",r.isMatched)("isExpanded",r.isExpanded)("isLeaf",r.isLeaf)("isStart",r.isStart)("isEnd",r.isEnd)("isChecked",r.isChecked)("isHalfChecked",r.isHalfChecked)("isDisableCheckbox",r.isDisableCheckbox)("isSelectable",r.isSelectable)("canHide",r.canHide)("nzTreeNode",r)("nzSelectMode",n.nzSelectMode)("nzShowLine",n.nzShowLine)("nzExpandedIcon",n.nzExpandedIcon)("nzDraggable",n.nzDraggable)("nzCheckable",n.nzCheckable)("nzShowExpand",n.nzShowExpand)("nzAsyncData",n.nzAsyncData)("nzSearchValue",n.nzSearchValue)("nzHideUnMatched",n.nzHideUnMatched)("nzBeforeDrop",n.nzBeforeDrop)("nzShowIcon",n.nzShowIcon)("nzTreeTemplate",n.nzTreeTemplate||n.nzTreeTemplateChild)}}var gn=(()=>{let o=class o{constructor(n){this.cdr=n,this.level=1,this.direction="ltr",this.style={}}ngOnChanges(n){this.renderIndicator(this.dropPosition,this.direction)}renderIndicator(n,t="ltr"){let h=t==="ltr"?"left":"right",s=t==="ltr"?"right":"left",v={[h]:"4px",[s]:"0px"};switch(n){case-1:v.top="-3px";break;case 1:v.bottom="-3px";break;case 0:v.bottom="-3px",v[h]="28px";break;default:v.display="none";break}this.style=v,this.cdr.markForCheck()}};o.\u0275fac=function(t){return new(t||o)(S(M))},o.\u0275cmp=w({type:o,selectors:[["nz-tree-drop-indicator"]],hostVars:4,hostBindings:function(t,e){t&2&&(he(e.style),u("ant-tree-drop-indicator",!0))},inputs:{dropPosition:"dropPosition",level:"level",direction:"direction"},exportAs:["NzTreeDropIndicator"],standalone:!0,features:[E,N],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0});let i=o;return i})(),un=(()=>{let o=class o{constructor(){this.nzTreeLevel=0,this.nzIsStart=[],this.nzIsEnd=[],this.nzSelectMode=!1,this.listOfUnit=[]}ngOnChanges(n){let{nzTreeLevel:t}=n;t&&(this.listOfUnit=[...new Array(t.currentValue||0)])}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=w({type:o,selectors:[["nz-tree-indent"]],hostVars:5,hostBindings:function(t,e){t&2&&(j("aria-hidden",!0),u("ant-tree-indent",!e.nzSelectMode)("ant-select-tree-indent",e.nzSelectMode))},inputs:{nzTreeLevel:"nzTreeLevel",nzIsStart:"nzIsStart",nzIsEnd:"nzIsEnd",nzSelectMode:"nzSelectMode"},exportAs:["nzTreeIndent"],standalone:!0,features:[E,N],decls:1,vars:1,consts:[[3,"ant-tree-indent-unit","ant-select-tree-indent-unit","ant-select-tree-indent-unit-start","ant-tree-indent-unit-start","ant-select-tree-indent-unit-end","ant-tree-indent-unit-end",4,"ngFor","ngForOf"]],template:function(t,e){t&1&&g(0,$e,1,12,"span",0),t&2&&a("ngForOf",e.listOfUnit)},dependencies:[Y],encapsulation:2,changeDetection:0});let i=o;return i})(),fn=(()=>{let o=class o{constructor(){this.nzSelectMode=!1}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=w({type:o,selectors:[["nz-tree-node-checkbox","builtin",""]],hostVars:16,hostBindings:function(t,e){t&2&&u("ant-select-tree-checkbox",e.nzSelectMode)("ant-select-tree-checkbox-checked",e.nzSelectMode&&e.isChecked)("ant-select-tree-checkbox-indeterminate",e.nzSelectMode&&e.isHalfChecked)("ant-select-tree-checkbox-disabled",e.nzSelectMode&&(e.isDisabled||e.isDisableCheckbox))("ant-tree-checkbox",!e.nzSelectMode)("ant-tree-checkbox-checked",!e.nzSelectMode&&e.isChecked)("ant-tree-checkbox-indeterminate",!e.nzSelectMode&&e.isHalfChecked)("ant-tree-checkbox-disabled",!e.nzSelectMode&&(e.isDisabled||e.isDisableCheckbox))},inputs:{nzSelectMode:"nzSelectMode",isChecked:"isChecked",isHalfChecked:"isHalfChecked",isDisabled:"isDisabled",isDisableCheckbox:"isDisableCheckbox"},standalone:!0,features:[N],attrs:Me,decls:1,vars:4,template:function(t,e){t&1&&_(0,"span"),t&2&&u("ant-tree-checkbox-inner",!e.nzSelectMode)("ant-select-tree-checkbox-inner",e.nzSelectMode)},encapsulation:2,changeDetection:0});let i=o;return i})(),Ie=(()=>{let o=class o{constructor(){this.nzSelectMode=!1}get isShowLineIcon(){return!this.isLeaf&&!!this.nzShowLine}get isShowSwitchIcon(){return!this.isLeaf&&!this.nzShowLine}get isSwitcherOpen(){return!!this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=w({type:o,selectors:[["nz-tree-node-switcher"]],hostVars:16,hostBindings:function(t,e){t&2&&u("ant-select-tree-switcher",e.nzSelectMode)("ant-select-tree-switcher-noop",e.nzSelectMode&&e.isLeaf)("ant-select-tree-switcher_open",e.nzSelectMode&&e.isSwitcherOpen)("ant-select-tree-switcher_close",e.nzSelectMode&&e.isSwitcherClose)("ant-tree-switcher",!e.nzSelectMode)("ant-tree-switcher-noop",!e.nzSelectMode&&e.isLeaf)("ant-tree-switcher_open",!e.nzSelectMode&&e.isSwitcherOpen)("ant-tree-switcher_close",!e.nzSelectMode&&e.isSwitcherClose)},inputs:{nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzExpandedIcon:"nzExpandedIcon",nzSelectMode:"nzSelectMode",context:"context",isLeaf:"isLeaf",isLoading:"isLoading",isExpanded:"isExpanded"},standalone:!0,features:[N],decls:4,vars:2,consts:[[4,"ngIf"],["loadingTemplate",""],[4,"ngIf","ngIfElse"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-icon","","nzType","caret-down"],["nz-icon","","class","ant-tree-switcher-line-icon",3,"nzType",4,"ngIf"],["nz-icon","","nzType","file","class","ant-tree-switcher-line-icon",4,"ngIf"],["nz-icon","",1,"ant-tree-switcher-line-icon",3,"nzType"],["nz-icon","","nzType","file",1,"ant-tree-switcher-line-icon"],["nz-icon","","nzType","loading",1,"ant-tree-switcher-loading-icon",3,"nzSpin"]],template:function(t,e){t&1&&g(0,Re,2,2,"ng-container",0)(1,Ge,2,2,"ng-container",0)(2,We,1,1,"ng-template",null,1,q),t&2&&(a("ngIf",e.isShowSwitchIcon),l(),a("ngIf",e.nzShowLine))},dependencies:[J,W,L,De,ve],encapsulation:2,changeDetection:0});let i=o;return i})(),Le=(()=>{let o=class o{get canDraggable(){return this.draggable&&!this.isDisabled?!0:null}get matchedValue(){return this.isMatched?this.searchValue:""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}constructor(n){this.cdr=n,this.treeTemplate=null,this.selectMode=!1,this.showIndicator=!0}ngOnChanges(n){let{showIndicator:t,dragPosition:e}=n;(t||e)&&this.cdr.markForCheck()}};o.\u0275fac=function(t){return new(t||o)(S(M))},o.\u0275cmp=w({type:o,selectors:[["nz-tree-node-title"]],hostVars:21,hostBindings:function(t,e){t&2&&(j("title",e.title)("draggable",e.canDraggable)("aria-grabbed",e.canDraggable),u("draggable",e.canDraggable)("ant-select-tree-node-content-wrapper",e.selectMode)("ant-select-tree-node-content-wrapper-open",e.selectMode&&e.isSwitcherOpen)("ant-select-tree-node-content-wrapper-close",e.selectMode&&e.isSwitcherClose)("ant-select-tree-node-selected",e.selectMode&&e.isSelected)("ant-tree-node-content-wrapper",!e.selectMode)("ant-tree-node-content-wrapper-open",!e.selectMode&&e.isSwitcherOpen)("ant-tree-node-content-wrapper-close",!e.selectMode&&e.isSwitcherClose)("ant-tree-node-selected",!e.selectMode&&e.isSelected))},inputs:{searchValue:"searchValue",treeTemplate:"treeTemplate",draggable:"draggable",showIcon:"showIcon",selectMode:"selectMode",context:"context",icon:"icon",title:"title",isLoading:"isLoading",isSelected:"isSelected",isDisabled:"isDisabled",isMatched:"isMatched",isExpanded:"isExpanded",isLeaf:"isLeaf",showIndicator:"showIndicator",dragPosition:"dragPosition"},standalone:!0,features:[E,N],decls:3,vars:7,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"dropPosition","level",4,"ngIf"],[3,"ant-tree-icon__open","ant-tree-icon__close","ant-tree-icon_loading","ant-select-tree-iconEle","ant-tree-iconEle",4,"ngIf"],[1,"ant-tree-title",3,"innerHTML"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"],[3,"dropPosition","level"]],template:function(t,e){t&1&&g(0,Je,0,0,"ng-template",0)(1,nn,4,7,"ng-container",1)(2,tn,1,2,"nz-tree-drop-indicator",2),t&2&&(a("ngTemplateOutlet",e.treeTemplate)("ngTemplateOutletContext",H(4,X,e.context,e.context.origin)),l(),a("ngIf",!e.treeTemplate),l(),a("ngIf",e.showIndicator))},dependencies:[G,L,J,W,be,Ee,gn],encapsulation:2,changeDetection:0});let i=o;return i})(),Ve=(()=>{let o=class o{get displayStyle(){return this.nzSearchValue&&this.nzHideUnMatched&&!this.isMatched&&!this.isExpanded&&this.canHide?"none":""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}clickExpand(n){n.preventDefault(),!this.isLoading&&!this.isLeaf&&(this.nzAsyncData&&this.nzTreeNode.children.length===0&&!this.isExpanded&&(this.nzTreeNode.isLoading=!0),this.nzTreeNode.setExpanded(!this.isExpanded)),this.nzTreeService.setExpandedNodeList(this.nzTreeNode);let t=this.nzTreeService.formatEvent("expand",this.nzTreeNode,n);this.nzExpandChange.emit(t)}clickSelect(n){n.preventDefault(),this.isSelectable&&!this.isDisabled&&(this.nzTreeNode.isSelected=!this.nzTreeNode.isSelected),this.nzTreeService.setSelectedNodeList(this.nzTreeNode);let t=this.nzTreeService.formatEvent("click",this.nzTreeNode,n);this.nzClick.emit(t)}dblClick(n){n.preventDefault();let t=this.nzTreeService.formatEvent("dblclick",this.nzTreeNode,n);this.nzDblClick.emit(t)}contextMenu(n){n.preventDefault();let t=this.nzTreeService.formatEvent("contextmenu",this.nzTreeNode,n);this.nzContextMenu.emit(t)}clickCheckBox(n){if(n.preventDefault(),this.isDisabled||this.isDisableCheckbox)return;this.nzTreeNode.isChecked=!this.nzTreeNode.isChecked,this.nzTreeNode.isHalfChecked=!1,this.nzTreeService.setCheckedNodeList(this.nzTreeNode);let t=this.nzTreeService.formatEvent("check",this.nzTreeNode,n);this.nzCheckBoxChange.emit(t)}clearDragClass(){["drag-over-gap-top","drag-over-gap-bottom","drag-over","drop-target"].forEach(t=>{this.renderer.removeClass(this.elementRef.nativeElement,t)})}handleDragStart(n){try{n.dataTransfer.setData("text/plain",this.nzTreeNode.key)}catch{}this.nzTreeService.setSelectedNode(this.nzTreeNode),this.draggingKey=this.nzTreeNode.key;let t=this.nzTreeService.formatEvent("dragstart",this.nzTreeNode,n);this.nzOnDragStart.emit(t)}handleDragEnter(n){n.preventDefault(),this.showIndicator=this.nzTreeNode.key!==this.nzTreeService.getSelectedNode()?.key,this.renderIndicator(2),this.ngZone.run(()=>{let t=this.nzTreeService.formatEvent("dragenter",this.nzTreeNode,n);this.nzOnDragEnter.emit(t)})}handleDragOver(n){n.preventDefault();let t=this.nzTreeService.calcDropPosition(n);this.dragPos!==t&&(this.clearDragClass(),this.renderIndicator(t),this.dragPos===0&&this.isLeaf||(this.renderer.addClass(this.elementRef.nativeElement,this.dragPosClass[this.dragPos]),this.renderer.addClass(this.elementRef.nativeElement,"drop-target")));let e=this.nzTreeService.formatEvent("dragover",this.nzTreeNode,n);this.nzOnDragOver.emit(e)}handleDragLeave(n){n.preventDefault(),this.renderIndicator(2),this.clearDragClass();let t=this.nzTreeService.formatEvent("dragleave",this.nzTreeNode,n);this.nzOnDragLeave.emit(t)}handleDragDrop(n){n.preventDefault(),n.stopPropagation(),this.ngZone.run(()=>{this.showIndicator=!1,this.clearDragClass();let t=this.nzTreeService.getSelectedNode();if(!t||t&&t.key===this.nzTreeNode.key||this.dragPos===0&&this.isLeaf)return;let e=this.nzTreeService.formatEvent("drop",this.nzTreeNode,n),h=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,n);this.nzBeforeDrop?this.nzBeforeDrop({dragNode:this.nzTreeService.getSelectedNode(),node:this.nzTreeNode,pos:this.dragPos}).subscribe(s=>{s&&this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(e),this.nzOnDragEnd.emit(h)}):this.nzTreeNode&&(this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(e))})}handleDragEnd(n){n.preventDefault(),this.ngZone.run(()=>{if(this.nzBeforeDrop)this.draggingKey=null,this.markForCheck();else{this.draggingKey=null;let t=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,n);this.nzOnDragEnd.emit(t)}})}handDragEvent(){this.ngZone.runOutsideAngular(()=>{if(this.nzDraggable){let n=this.elementRef.nativeElement;this.destroy$=new B,x(n,"dragstart").pipe(D(this.destroy$)).subscribe(t=>this.handleDragStart(t)),x(n,"dragenter").pipe(D(this.destroy$)).subscribe(t=>this.handleDragEnter(t)),x(n,"dragover").pipe(D(this.destroy$)).subscribe(t=>this.handleDragOver(t)),x(n,"dragleave").pipe(D(this.destroy$)).subscribe(t=>this.handleDragLeave(t)),x(n,"drop").pipe(D(this.destroy$)).subscribe(t=>this.handleDragDrop(t)),x(n,"dragend").pipe(D(this.destroy$)).subscribe(t=>this.handleDragEnd(t))}else this.destroy$.next(!0),this.destroy$.complete()})}markForCheck(){this.cdr.markForCheck()}constructor(n,t,e,h,s,v){this.nzTreeService=n,this.ngZone=t,this.renderer=e,this.elementRef=h,this.cdr=s,this.noAnimation=v,this.icon="",this.title="",this.isLoading=!1,this.isSelected=!1,this.isDisabled=!1,this.isMatched=!1,this.isStart=[],this.isEnd=[],this.nzHideUnMatched=!1,this.nzNoAnimation=!1,this.nzSelectMode=!1,this.nzShowIcon=!1,this.nzTreeTemplate=null,this.nzSearchValue="",this.nzDraggable=!1,this.nzClick=new d,this.nzDblClick=new d,this.nzContextMenu=new d,this.nzCheckBoxChange=new d,this.nzExpandChange=new d,this.nzOnDragStart=new d,this.nzOnDragEnter=new d,this.nzOnDragOver=new d,this.nzOnDragLeave=new d,this.nzOnDrop=new d,this.nzOnDragEnd=new d,this.destroy$=new B,this.dragPos=2,this.dragPosClass={0:"drag-over",1:"drag-over-gap-bottom","-1":"drag-over-gap-top"},this.draggingKey=null,this.showIndicator=!1}ngOnInit(){this.nzTreeNode.component=this,this.ngZone.runOutsideAngular(()=>{x(this.elementRef.nativeElement,"mousedown").pipe(D(this.destroy$)).subscribe(n=>{this.nzSelectMode&&n.preventDefault()})})}ngOnChanges(n){let{nzDraggable:t}=n;t&&this.handDragEvent()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}renderIndicator(n){this.ngZone.run(()=>{this.showIndicator=n!==2,!(this.nzTreeNode.key===this.nzTreeService.getSelectedNode()?.key||n===0&&this.isLeaf)&&(this.dragPos=n,this.cdr.markForCheck())})}};o.\u0275fac=function(t){return new(t||o)(S(b),S(de),S(ce),S(ie),S(M),S(V,9))},o.\u0275cmp=w({type:o,selectors:[["nz-tree-node","builtin",""]],hostVars:36,hostBindings:function(t,e){t&2&&(U("display",e.displayStyle),u("ant-select-tree-treenode",e.nzSelectMode)("ant-select-tree-treenode-disabled",e.nzSelectMode&&e.isDisabled)("ant-select-tree-treenode-switcher-open",e.nzSelectMode&&e.isSwitcherOpen)("ant-select-tree-treenode-switcher-close",e.nzSelectMode&&e.isSwitcherClose)("ant-select-tree-treenode-checkbox-checked",e.nzSelectMode&&e.isChecked)("ant-select-tree-treenode-checkbox-indeterminate",e.nzSelectMode&&e.isHalfChecked)("ant-select-tree-treenode-selected",e.nzSelectMode&&e.isSelected)("ant-select-tree-treenode-loading",e.nzSelectMode&&e.isLoading)("ant-tree-treenode",!e.nzSelectMode)("ant-tree-treenode-disabled",!e.nzSelectMode&&e.isDisabled)("ant-tree-treenode-switcher-open",!e.nzSelectMode&&e.isSwitcherOpen)("ant-tree-treenode-switcher-close",!e.nzSelectMode&&e.isSwitcherClose)("ant-tree-treenode-checkbox-checked",!e.nzSelectMode&&e.isChecked)("ant-tree-treenode-checkbox-indeterminate",!e.nzSelectMode&&e.isHalfChecked)("ant-tree-treenode-selected",!e.nzSelectMode&&e.isSelected)("ant-tree-treenode-loading",!e.nzSelectMode&&e.isLoading)("dragging",e.draggingKey===e.nzTreeNode.key))},inputs:{icon:"icon",title:"title",isLoading:"isLoading",isSelected:"isSelected",isDisabled:"isDisabled",isMatched:"isMatched",isExpanded:"isExpanded",isLeaf:"isLeaf",isChecked:"isChecked",isHalfChecked:"isHalfChecked",isDisableCheckbox:"isDisableCheckbox",isSelectable:"isSelectable",canHide:"canHide",isStart:"isStart",isEnd:"isEnd",nzTreeNode:"nzTreeNode",nzShowLine:"nzShowLine",nzShowExpand:"nzShowExpand",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzHideUnMatched:"nzHideUnMatched",nzNoAnimation:"nzNoAnimation",nzSelectMode:"nzSelectMode",nzShowIcon:"nzShowIcon",nzExpandedIcon:"nzExpandedIcon",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzSearchValue:"nzSearchValue",nzDraggable:"nzDraggable"},outputs:{nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTreeBuiltinNode"],standalone:!0,features:[E,N],attrs:Me,decls:4,vars:22,consts:[[3,"nzTreeLevel","nzSelectMode","nzIsStart","nzIsEnd"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading","click",4,"ngIf"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox","click",4,"ngIf"],[3,"icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","searchValue","treeTemplate","draggable","showIcon","selectMode","context","showIndicator","dragPosition","dblclick","click","contextmenu"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading","click"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox","click"]],template:function(t,e){t&1&&(_(0,"nz-tree-indent",0),g(1,rn,1,8,"nz-tree-node-switcher",1)(2,on,1,5,"nz-tree-node-checkbox",2),C(3,"nz-tree-node-title",3),O("dblclick",function(s){return e.dblClick(s)})("click",function(s){return e.clickSelect(s)})("contextmenu",function(s){return e.contextMenu(s)}),T()),t&2&&(a("nzTreeLevel",e.nzTreeNode.level)("nzSelectMode",e.nzSelectMode)("nzIsStart",e.isStart)("nzIsEnd",e.isEnd),l(),a("ngIf",e.nzShowExpand),l(),a("ngIf",e.nzCheckable),l(),a("icon",e.icon)("title",e.title)("isLoading",e.isLoading)("isSelected",e.isSelected)("isDisabled",e.isDisabled)("isMatched",e.isMatched)("isExpanded",e.isExpanded)("isLeaf",e.isLeaf)("searchValue",e.nzSearchValue)("treeTemplate",e.nzTreeTemplate)("draggable",e.nzDraggable)("showIcon",e.nzShowIcon)("selectMode",e.nzSelectMode)("context",e.nzTreeNode)("showIndicator",e.showIndicator)("dragPosition",e.dragPos))},dependencies:[un,Ie,L,fn,Le],encapsulation:2,changeDetection:0});let i=o;return p([z()],i.prototype,"nzShowLine",void 0),p([z()],i.prototype,"nzShowExpand",void 0),p([z()],i.prototype,"nzCheckable",void 0),p([z()],i.prototype,"nzAsyncData",void 0),p([z()],i.prototype,"nzHideUnMatched",void 0),p([z()],i.prototype,"nzNoAnimation",void 0),p([z()],i.prototype,"nzSelectMode",void 0),p([z()],i.prototype,"nzShowIcon",void 0),i})(),Be=(()=>{let o=class o extends b{constructor(){super()}};o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=re({token:o,factory:o.\u0275fac});let i=o;return i})();function mn(){let i=$(we,{skipSelf:!0,optional:!0}),o=$(Be);return i??o}var Sn="tree",_n=(()=>{let o=class o extends Ne{writeValue(n){this.handleNzData(n)}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}renderTreeProperties(n){let t=!1,e=!1,{nzData:h,nzExpandedKeys:s,nzSelectedKeys:v,nzCheckedKeys:Fe,nzCheckStrictly:ee,nzExpandAll:ne,nzMultiple:He,nzSearchValue:K}=n;ne&&(t=!0,e=this.nzExpandAll),He&&(this.nzTreeService.isMultiple=this.nzMultiple),ee&&(this.nzTreeService.isCheckStrictly=this.nzCheckStrictly),h&&this.handleNzData(this.nzData),Fe&&this.handleCheckedKeys(this.nzCheckedKeys),ee&&this.handleCheckedKeys(null),(s||ne)&&(t=!0,this.handleExpandedKeys(e||this.nzExpandedKeys)),v&&this.handleSelectedKeys(this.nzSelectedKeys,this.nzMultiple),K&&(K.firstChange&&!this.nzSearchValue||(t=!1,this.handleSearchValue(K.currentValue,this.nzSearchFunc),this.nzSearchValueChange.emit(this.nzTreeService.formatEvent("search",null,null))));let Pe=this.getExpandedNodeList().map(Ke=>Ke.key),Ae=t?e||this.nzExpandedKeys:Pe;this.handleFlattenNodes(this.nzTreeService.rootNodes,Ae)}trackByFlattenNode(n,t){return t.key}handleNzData(n){if(Array.isArray(n)){let t=this.coerceTreeNodes(n);this.nzTreeService.initTree(t)}}handleFlattenNodes(n,t=[]){this.nzTreeService.flattenTreeData(n,t)}handleCheckedKeys(n){this.nzTreeService.conductCheck(n,this.nzCheckStrictly)}handleExpandedKeys(n=[]){this.nzTreeService.conductExpandedKeys(n)}handleSelectedKeys(n,t){this.nzTreeService.conductSelectedKeys(n,t)}handleSearchValue(n,t){let e=xe(this.nzTreeService.rootNodes,!0).map(s=>s.data),h=s=>t?t(s.origin):!(!n||!s.title.toLowerCase().includes(n.toLowerCase()));e.forEach(s=>{s.isMatched=h(s),s.canHide=!s.isMatched,s.isMatched?this.nzTreeService.expandNodeAllParentBySearch(s):(s.setExpanded(!1),this.nzTreeService.setExpandedNodeList(s)),this.nzTreeService.setMatchedNodeList(s)})}eventTriggerChanged(n){let t=n.node;switch(n.eventName){case"expand":this.renderTree(),this.nzExpandChange.emit(n);break;case"click":this.nzClick.emit(n);break;case"dblclick":this.nzDblClick.emit(n);break;case"contextmenu":this.nzContextMenu.emit(n);break;case"check":this.nzTreeService.setCheckedNodeList(t),this.nzCheckStrictly||this.nzTreeService.conduct(t);let e=this.nzTreeService.formatEvent("check",t,n.event);this.nzCheckBoxChange.emit(e);let h=this.nzTreeService.getCheckedNodeKeys();this.nzCheckedKeysChange.emit(h);break;case"dragstart":t.isExpanded&&(t.setExpanded(!t.isExpanded),this.renderTree()),this.nzOnDragStart.emit(n);break;case"dragenter":let s=this.nzTreeService.getSelectedNode();s&&s.key!==t.key&&!t.isExpanded&&!t.isLeaf&&(t.setExpanded(!0),this.renderTree()),this.nzOnDragEnter.emit(n);break;case"dragover":this.nzOnDragOver.emit(n);break;case"dragleave":this.nzOnDragLeave.emit(n);break;case"dragend":this.nzOnDragEnd.emit(n);break;case"drop":this.renderTree(),this.nzOnDrop.emit(n);break}}renderTree(){this.handleFlattenNodes(this.nzTreeService.rootNodes,this.getExpandedNodeList().map(n=>n.key)),this.cdr.markForCheck()}constructor(n,t,e,h,s){super(n),this.nzConfigService=t,this.cdr=e,this.directionality=h,this.noAnimation=s,this._nzModuleName=Sn,this.nzShowIcon=!1,this.nzHideUnMatched=!1,this.nzBlockNode=!1,this.nzExpandAll=!1,this.nzSelectMode=!1,this.nzCheckStrictly=!1,this.nzShowExpand=!0,this.nzShowLine=!1,this.nzCheckable=!1,this.nzAsyncData=!1,this.nzDraggable=!1,this.nzMultiple=!1,this.nzVirtualItemSize=28,this.nzVirtualMaxBufferPx=500,this.nzVirtualMinBufferPx=28,this.nzVirtualHeight=null,this.nzData=[],this.nzExpandedKeys=[],this.nzSelectedKeys=[],this.nzCheckedKeys=[],this.nzSearchValue="",this.nzFlattenNodes=[],this.beforeInit=!0,this.dir="ltr",this.nzExpandedKeysChange=new d,this.nzSelectedKeysChange=new d,this.nzCheckedKeysChange=new d,this.nzSearchValueChange=new d,this.nzClick=new d,this.nzDblClick=new d,this.nzContextMenu=new d,this.nzCheckBoxChange=new d,this.nzExpandChange=new d,this.nzOnDragStart=new d,this.nzOnDragEnter=new d,this.nzOnDragOver=new d,this.nzOnDragLeave=new d,this.nzOnDrop=new d,this.nzOnDragEnd=new d,this.HIDDEN_STYLE={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},this.HIDDEN_NODE_STYLE={position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"},this.destroy$=new B,this.onChange=()=>null,this.onTouched=()=>null}ngOnInit(){this.nzTreeService.flattenNodes$.pipe(D(this.destroy$)).subscribe(n=>{this.nzFlattenNodes=this.nzVirtualHeight&&this.nzHideUnMatched&&this.nzSearchValue?.length>0?n.filter(t=>!t.canHide):n,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe(D(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()})}ngOnChanges(n){this.renderTreeProperties(n)}ngAfterViewInit(){this.beforeInit=!1}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};o.\u0275fac=function(t){return new(t||o)(S(b),S(_e),S(M),S(Se,8),S(V,9))},o.\u0275cmp=w({type:o,selectors:[["nz-tree"]],contentQueries:function(t,e,h){if(t&1&&pe(h,an,7),t&2){let s;R(s=Z())&&(e.nzTreeTemplateChild=s.first)}},viewQuery:function(t,e){if(t&1&&ze(A,5,A),t&2){let h;R(h=Z())&&(e.cdkVirtualScrollViewport=h.first)}},hostVars:20,hostBindings:function(t,e){t&2&&u("ant-select-tree",e.nzSelectMode)("ant-select-tree-show-line",e.nzSelectMode&&e.nzShowLine)("ant-select-tree-icon-hide",e.nzSelectMode&&!e.nzShowIcon)("ant-select-tree-block-node",e.nzSelectMode&&e.nzBlockNode)("ant-tree",!e.nzSelectMode)("ant-tree-rtl",e.dir==="rtl")("ant-tree-show-line",!e.nzSelectMode&&e.nzShowLine)("ant-tree-icon-hide",!e.nzSelectMode&&!e.nzShowIcon)("ant-tree-block-node",!e.nzSelectMode&&e.nzBlockNode)("draggable-tree",e.nzDraggable)},inputs:{nzShowIcon:"nzShowIcon",nzHideUnMatched:"nzHideUnMatched",nzBlockNode:"nzBlockNode",nzExpandAll:"nzExpandAll",nzSelectMode:"nzSelectMode",nzCheckStrictly:"nzCheckStrictly",nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzDraggable:"nzDraggable",nzMultiple:"nzMultiple",nzExpandedIcon:"nzExpandedIcon",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualHeight:"nzVirtualHeight",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzData:"nzData",nzExpandedKeys:"nzExpandedKeys",nzSelectedKeys:"nzSelectedKeys",nzCheckedKeys:"nzCheckedKeys",nzSearchValue:"nzSearchValue",nzSearchFunc:"nzSearchFunc"},outputs:{nzExpandedKeysChange:"nzExpandedKeysChange",nzSelectedKeysChange:"nzSelectedKeysChange",nzCheckedKeysChange:"nzCheckedKeysChange",nzSearchValueChange:"nzSearchValueChange",nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTree"],standalone:!0,features:[ge([Be,{provide:b,useFactory:mn},{provide:ke,useExisting:ae(()=>o),multi:!0}]),le,E,N],decls:10,vars:6,consts:[[3,"ngStyle"],[1,"ant-tree-treenode",3,"ngStyle"],[1,"ant-tree-indent"],[1,"ant-tree-indent-unit"],[1,"ant-tree-list",2,"position","relative"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","itemSize","minBufferPx","maxBufferPx","height",4,"ngIf"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","nzNoAnimation",4,"ngIf"],["nodeTemplate",""],[3,"itemSize","minBufferPx","maxBufferPx"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzNoAnimation"],[4,"ngFor","ngForOf","ngForTrackBy"],["builtin","",3,"icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","isStart","isEnd","isChecked","isHalfChecked","isDisableCheckbox","isSelectable","canHide","nzTreeNode","nzSelectMode","nzShowLine","nzExpandedIcon","nzDraggable","nzCheckable","nzShowExpand","nzAsyncData","nzSearchValue","nzHideUnMatched","nzBeforeDrop","nzShowIcon","nzTreeTemplate","nzExpandChange","nzClick","nzDblClick","nzContextMenu","nzCheckBoxChange","nzOnDragStart","nzOnDragEnter","nzOnDragOver","nzOnDragLeave","nzOnDragEnd","nzOnDrop"]],template:function(t,e){t&1&&(C(0,"div"),_(1,"input",0),T(),C(2,"div",1)(3,"div",2),_(4,"div",3),T()(),C(5,"div",4),g(6,dn,2,11,"cdk-virtual-scroll-viewport",5)(7,pn,2,9,"div",6),T(),g(8,zn,1,28,"ng-template",null,7,q)),t&2&&(l(),a("ngStyle",e.HIDDEN_STYLE),l(),a("ngStyle",e.HIDDEN_NODE_STYLE),l(3),u("ant-select-tree-list",e.nzSelectMode),l(),a("ngIf",e.nzVirtualHeight),l(),a("ngIf",!e.nzVirtualHeight))},dependencies:[me,A,Ce,L,Te,G,V,Y,Ve],encapsulation:2,data:{animation:[ye]},changeDetection:0});let i=o;return p([z(),P()],i.prototype,"nzShowIcon",void 0),p([z(),P()],i.prototype,"nzHideUnMatched",void 0),p([z(),P()],i.prototype,"nzBlockNode",void 0),p([z()],i.prototype,"nzExpandAll",void 0),p([z()],i.prototype,"nzSelectMode",void 0),p([z()],i.prototype,"nzCheckStrictly",void 0),p([z()],i.prototype,"nzShowExpand",void 0),p([z()],i.prototype,"nzShowLine",void 0),p([z()],i.prototype,"nzCheckable",void 0),p([z()],i.prototype,"nzAsyncData",void 0),p([z()],i.prototype,"nzDraggable",void 0),p([z()],i.prototype,"nzMultiple",void 0),i})(),et=(()=>{let o=class o{};o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=te({type:o}),o.\u0275inj=oe({imports:[_n,Ve,Ie,Le]});let i=o;return i})();export{_n as a,et as b};
